<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>紅楓吟 · 风落花语风落天，花落风雨花落田.</title>
      <link href="https://s.libforest.com/static/css/lib.min.css" rel="stylesheet">
        <link href="https://honmaple.me/static/lib/css/style.min.css" rel="stylesheet">
    <script src="https://honmaple.me/static/js/theme.js"></script>
  </head>
  <body>
    <div class="scrollbar"></div>
  <div class="entry-cover">
    <div class="entry-cover-left">
      <img src="https://s.libforest.com/images/header/header.png">
      <h3>紅楓吟</h3><cite>风落花语风落天，花落风雨花落田.</cite>
      <ul class="entry-cover-menu">
        <li><a id="entry-cover"><i class="fa fa-home" title="博客"></i></a></li>
          <li><a href="https://github.com/honmaple" title="Github"><i class="fa fa-github"></i></a></li>
          <li><a href="https://honmaple.me/pages/travel.html" title="Globe"><i class="fa fa-globe"></i></a></li>
          <li><a href="https://honmaple.me/atom.xml" title="Feed"><i class="fa fa-feed"></i></a></li>
          <li><a href="https://honmaple.me/en/index.html"><i class="fa fa-language" title="English"></i></a></li>
      </ul>
    </div>
    <div class="entry-cover-right">
      <h3>夜雨行</h3>
      <p>佚名</p>
      <div>
        <p>雨中漫步行 夜深無人听</p>
        <p>悄然歸故裡 卧龍不知情</p>
      </div>
    </div>
  </div>

    <div class="wrap">
      <div class="main"><nav class="navbar navbar-default">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-header" aria-expanded="false">
      <span class="sr-only"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="https://honmaple.me">
      <img class="navbar-logo" src="https://s.libforest.com/images/header/header-logo.png" alt="楓">
    </a>
      <p class="navbar-text">—— 风落花语风落天，花落风雨花落田.</p>
  </div>
  <div class="collapse navbar-collapse" id="nav-header">
    <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="https://honmaple.me/categories/life/index.html">代码人生</a>
              <ul class="dropdown-menu">
                  <li><a href="https://honmaple.me/categories/life/coding/index.html">分享世界</a></li>
                  <li><a href="https://honmaple.me/categories/life/love/index.html">你不懂我</a></li>
                  <li><a href="https://honmaple.me/categories/life/recall/index.html">我不怪你</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="https://honmaple.me/categories/linux/index.html">字符艺术</a>
              <ul class="dropdown-menu">
                  <li><a href="https://honmaple.me/categories/linux/emacs/index.html">Emacs</a></li>
              </ul>
            </li>
            <li><a href="https://honmaple.me/categories/python/index.html">人生苦短</a></li>
            <li><a href="https://honmaple.me/categories/security/index.html">极客安全</a></li>
          <li class="dropdown">
            <a href="https://honmaple.me/archives/index.html">文章归档</a>
            <ul class="dropdown-menu">
                <li><a href="https://honmaple.me/tags/index.html">标签</a></li>
                <li><a href="https://honmaple.me/categories/index.html">分类</a></li>
                <li><a href="https://honmaple.me/authors/index.html">作者</a></li>
            </ul>
          </li>
          <li><a href="https://honmaple.me/pages/about.html">关于</a></li>
    </ul>
    <form action="https://honmaple.me/search.html" class="navbar-form navbar-right" style="margin-top:10px;">
      <div class="form-group has-feedback">
        <input class="form-control input-sm" id="search" name="q" type="text" onfocus="this.placeholder='搜索'" onblur="this.placeholder=''">
        <i class="fa fa-search form-control-feedback"></i>
      </div>
    </form>
  </div>
</nav>

  <ul class="entry-list">
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2023/03/使用Github Actions自动打包Go项目.html" rel="bookmark" title="Permalink to 使用Github Actions自动打包Go项目">使用Github Actions自动打包Go项目</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-03-06">
    <i class="fa fa-calendar-o"></i>
    2023-03-06 Mon
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/go/index.html">go</a>
        <a href="https://honmaple.me/tags/github/index.html">github</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              <div id="table-of-contents"><h2>Table of Contents</h2><div id="text-table-of-contents"><ul>
<li><a href="#heading-1">前言</a></li>
<li><a href="#heading-2">快速开始(Quickstart)</a></li>
<li><a href="#heading-3">多平台编译(Cross Compile)</a>
<ul>
<li><a href="#heading-3.1">交叉编译</a></li>
<li><a href="#heading-3.2">跨平台编译</a></li>
</ul></li>
<li><a href="#heading-4">发布(Release)</a></li>
<li><a href="#heading-5">FAQ</a>
<ul>
<li><a href="#heading-5.1">version `GLIBC_2.33&#39; not found</a></li>
</ul></li>
</ul></div></div>

<h2 id="heading-1">前言</h2>
<p>
   如果用过 <b>Gitlab Ci</b>, 相信对此也非常熟悉，<b>GitHub Actions</b> 是 <b>GitHub</b> 推出的持续集成（Continuous Integration，简称 CI）服务，它提供了整套虚拟服务器环境，基于它可以进行构建、测试、打包、部署项目等等操作
</p>

<h2 id="heading-2">快速开始(Quickstart)</h2>
<p>
   在自己的 <code>Github</code> 仓库中找到 <code>Actions</code> 标签页
   
<a href="https://s.libforest.com/images/2023/03/github-actions-01.png-show" data-fancybox="image">
  <img data-src="https://s.libforest.com/images/2023/03/github-actions-01.png-thumb" class="lazyload" />
</a>
</p>

<p>
   点击 <code>Configure</code>, 此时会生成一个 <code>.github/workflow/go.yml</code> 文件
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e"># This workflow will build a golang project</span>
<span style="color:#75715e"># For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-go</span>

<span style="color:#66d9ef">name</span>: Go

<span style="color:#66d9ef">on</span>:
  <span style="color:#66d9ef">push</span>:
    <span style="color:#66d9ef">branches</span>: [ <span style="color:#e6db74">&#34;master&#34;</span> ]
  <span style="color:#66d9ef">pull_request</span>:
    <span style="color:#66d9ef">branches</span>: [ <span style="color:#e6db74">&#34;master&#34;</span> ]

<span style="color:#66d9ef">jobs</span>:

  <span style="color:#66d9ef">build</span>:
    <span style="color:#66d9ef">runs-on</span>: ubuntu-latest
    <span style="color:#66d9ef">steps</span>:
      - <span style="color:#66d9ef">uses</span>: actions/checkout@v3
        - <span style="color:#66d9ef">name</span>: Set up Go
          <span style="color:#66d9ef">uses</span>: actions/setup-go@v3
        <span style="color:#66d9ef">with</span>:
          <span style="color:#66d9ef">go-version</span>: <span style="color:#ae81ff">1.19</span>
      - <span style="color:#66d9ef">name</span>: Build
        <span style="color:#66d9ef">run</span>: go build -v ./...
      - <span style="color:#66d9ef">name</span>: Test
        <span style="color:#66d9ef">run</span>: go test -v ./...</pre>

<h2 id="heading-3">多平台编译(Cross Compile)</h2>
<h3 id="heading-3.1">交叉编译</h3>
<p>
    对于非 <code>CGO</code> 项目，<code>Go</code> 提供了一种十分方便的方式来进行交叉编译，只需要指定 <code>GOOS</code> 和 <code>GOARCH</code> 环境变量
</p>
<ul>
<li>
<p>
  Mac下编译Linux, Windows平台的64位可执行程序：
</p>
<pre style="color:#f8f8f2;background-color:#272822">$ CGO_ENABLED<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> GOOS<span style="color:#f92672">=</span>linux GOARCH<span style="color:#f92672">=</span>amd64 go build .
$ CGO_ENABLED<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> GOOS<span style="color:#f92672">=</span>windows GOARCH<span style="color:#f92672">=</span>amd64 go build .</pre></li>
<li>
<p>
 Linux下编译Mac, Windows平台的64位可执行程序：
</p>
<pre style="color:#f8f8f2;background-color:#272822">$ CGO_ENABLED<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> GOOS<span style="color:#f92672">=</span>darwin GOARCH<span style="color:#f92672">=</span>amd64 go build .
$ CGO_ENABLED<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> GOOS<span style="color:#f92672">=</span>windows GOARCH<span style="color:#f92672">=</span>amd64 go build .</pre>
</li>
</ul>
<p>
    同样的，我们可以在 <code>Gtihub Actions</code> 中设置环境变量来编译非 <code>CGO</code> 项目，这里需要使用 <code>matrix</code> 策略，让我们基于不同的参数创建并行的任务，比如编译Go时指定不同的环境变量
</p>

<ul>
<li>
<p>
 首先编写任务
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">jobs</span>:
  <span style="color:#66d9ef">build</span>:
    <span style="color:#66d9ef">strategy</span>:
      <span style="color:#66d9ef">matrix</span>:
        <span style="color:#66d9ef">goos</span>: [linux, darwin]
        <span style="color:#66d9ef">goarch</span>: [amd64]

    <span style="color:#66d9ef">runs-on</span>: ubuntu-latest

    <span style="color:#66d9ef">steps</span>:
      - <span style="color:#66d9ef">name</span>: Checkout
        <span style="color:#66d9ef">uses</span>: actions/checkout@v3
      - <span style="color:#66d9ef">name</span>: Set up Go
        <span style="color:#66d9ef">uses</span>: actions/setup-go@v3
        <span style="color:#66d9ef">with</span>:
          <span style="color:#66d9ef">go-version</span>: <span style="color:#ae81ff">1.19</span>
      - <span style="color:#66d9ef">name</span>: Download dependencies
        <span style="color:#66d9ef">run</span>: go mod download
      - <span style="color:#66d9ef">name</span>: Build
        <span style="color:#66d9ef">run</span>: go build -v -o snow .
        <span style="color:#75715e"># 指定编译时的环境变量</span>
        <span style="color:#66d9ef">env</span>:
          <span style="color:#66d9ef">GOOS</span>: ${{ matrix.goos }}
          <span style="color:#66d9ef">GOARCH</span>: ${{ matrix.goarch }}
          <span style="color:#66d9ef">CGO_ENABLED</span>: <span style="color:#ae81ff">0</span></pre>
<p>
      这样就创建了 <code>GOOS=linux GOARCH=amd64</code> 和 <code>GOOS=darwin GOARCH=amd64</code> 的两个任务, 当 <code>goarch</code> 增加一个 <code>arm</code> 的参数后，会组合成四个任务, 如果需要指定或者排除某个选项，可以使用 <code>include</code> 或者 <code>exclude</code>
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">matrix</span>:
  <span style="color:#66d9ef">goos</span>: [linux, darwin]
  <span style="color:#66d9ef">goarch</span>: [amd64, arm]
  <span style="color:#75715e"># 只包括linux编译选项</span>
  <span style="color:#66d9ef">include</span>:
    - <span style="color:#66d9ef">goos</span>: linux
      <span style="color:#66d9ef">goarch</span>: amd64
    - <span style="color:#66d9ef">goos</span>: linux
      <span style="color:#66d9ef">goarch</span>: arm
  <span style="color:#75715e"># 排除所有关于arm的编译选项</span>
  <span style="color:#66d9ef">exclude</span>:
    - <span style="color:#66d9ef">goarch</span>: arm</pre></li>
<li>
<p>
 然后执行 <code>git push</code>, 这样就能在 <code>Github</code> 的 <code>Actions</code> 标签页看到执行结果
</p>
</li>
</ul>
<h3 id="heading-3.2">跨平台编译</h3>
<p>
    如果是非 <code>CGO</code> 项目，可以使用Go内置的交叉编译，但如果是 <code>CGO</code> 项目，上述的交叉编译大概率会失败(相关问题:<a href="https://github.com/wellington/go-libsass/issues/67">go-libsass</a>)， 所以我们需要基于不同的平台来进行编译，幸运的是，<code>Github Actions</code> 对此支持的非常好,
</p>

<ul>
<li>
<p>
 编写新任务
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">jobs</span>:
  <span style="color:#66d9ef">build</span>:
    <span style="color:#66d9ef">strategy</span>:
      <span style="color:#66d9ef">matrix</span>:
        <span style="color:#66d9ef">build</span>: [macos, linux]
        <span style="color:#66d9ef">include</span>:
          - <span style="color:#66d9ef">build</span>: macos
            <span style="color:#66d9ef">os</span>: macos-latest
          - <span style="color:#66d9ef">build</span>: linux
            <span style="color:#66d9ef">os</span>: ubuntu<span style="color:#ae81ff">-18.04</span>
    <span style="color:#66d9ef">runs-on</span>: ${{ matrix.os }}
    <span style="color:#66d9ef">steps</span>:
      - <span style="color:#66d9ef">name</span>: Checkout
        <span style="color:#66d9ef">uses</span>: actions/checkout@v3
      - <span style="color:#66d9ef">name</span>: Set up Go
        <span style="color:#66d9ef">uses</span>: actions/setup-go@v3
        <span style="color:#66d9ef">with</span>:
          <span style="color:#66d9ef">go-version</span>: <span style="color:#ae81ff">1.19</span>
      - <span style="color:#66d9ef">name</span>: Download dependencies
        <span style="color:#66d9ef">run</span>: go mod download
      - <span style="color:#66d9ef">name</span>: Build
        <span style="color:#66d9ef">run</span>: go build -v -o snow .
        <span style="color:#66d9ef">env</span>:
          <span style="color:#66d9ef">CGO_ENABLED</span>: <span style="color:#ae81ff">1</span></pre>
<p>
      注意 <code>runs-on</code> 使用的 <code>matrix.os</code> 变量, 它允许我们分别使用 <code>ubuntu-18.04</code> 和 <code>macos-latest</code> 两个平台进行编译，这时不用指定 <code>GOOS</code> 和 <code>GOARCH</code> 参数
</p></li>
<li>
<p>
 执行 <code>git push</code>, 可以看到执行结果
      
<a href="https://s.libforest.com/images/2023/03/github-actions-02.png-show" data-fancybox="image">
  <img data-src="https://s.libforest.com/images/2023/03/github-actions-02.png-thumb" class="lazyload" />
</a>
</p>
</li>
</ul>
<h2 id="heading-4">发布(Release)</h2>
<p>
   当编译好一个二进制文件后，需要发布到 <code>Github</code> 的 <code>Release</code> 页，这时就需要添加新的任务, 目前官方的<a href="https://github.com/actions/create-release">actions/create-release</a>已经无人维护，所以此次选择另外一个<a href="https://github.com/ncipollo/release-action">ncipollo/release-action</a>
</p>

<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">name</span>: Release

<span style="color:#66d9ef">on</span>:
  <span style="color:#75715e"># 只在预发布时才执行</span>
  <span style="color:#66d9ef">release</span>:
    <span style="color:#66d9ef">types</span>: [prereleased]

<span style="color:#66d9ef">jobs</span>:
  <span style="color:#66d9ef">build</span>:
    <span style="color:#66d9ef">strategy</span>:
      <span style="color:#66d9ef">matrix</span>:
        <span style="color:#66d9ef">build</span>: [macos, linux]
        <span style="color:#66d9ef">include</span>:
          - <span style="color:#66d9ef">build</span>: macos
            <span style="color:#66d9ef">os</span>: macos-latest
            <span style="color:#66d9ef">archive-name</span>: darwin.tar.gz
          - <span style="color:#66d9ef">build</span>: linux
            <span style="color:#66d9ef">os</span>: ubuntu-latest
            <span style="color:#66d9ef">archive-name</span>: linux.tar.gz

    <span style="color:#75715e"># 需要设置写权限才能自动发布</span>
    <span style="color:#66d9ef">permissions</span>:
      <span style="color:#66d9ef">contents</span>: write

    <span style="color:#66d9ef">steps</span>:
      ...
      <span style="color:#75715e"># 把二进制文件打包成压缩文件</span>
      - <span style="color:#66d9ef">name</span>: Prepare Packaging
        <span style="color:#66d9ef">run</span>: tar zcvf snow-${{ matrix.archive-name }}.tar.gz snow LICENSE

      <span style="color:#75715e"># 上传附件</span>
      - <span style="color:#66d9ef">name</span>: Upload Artifacts
        <span style="color:#66d9ef">uses</span>: actions/upload-artifact@v3
        <span style="color:#66d9ef">with</span>:
          <span style="color:#66d9ef">name</span>: snow-${{ matrix.archive-name }}.tar.gz
          <span style="color:#66d9ef">path</span>: snow-${{ matrix.archive-name }}.tar.gz

      <span style="color:#75715e"># 发布release版本</span>
      - <span style="color:#66d9ef">name</span>: Release version
        <span style="color:#66d9ef">uses</span>: ncipollo/release-action@v1
        <span style="color:#66d9ef">if</span>: github.event_name == <span style="color:#e6db74">&#39;release&#39;</span>
        <span style="color:#66d9ef">with</span>:
          <span style="color:#66d9ef">allowUpdates</span>: <span style="color:#66d9ef">true</span>
          <span style="color:#66d9ef">artifacts</span>: snow-${{ matrix.archive-name }}.tar.gz
          <span style="color:#66d9ef">token</span>: ${{ secrets.GITHUB_TOKEN }}</pre>

<p>
   当 <code>Github Actions</code> 执行完成后，就能在 <code>Release</code> 页看到我们发布的 <code>Package</code>
   
<a href="https://s.libforest.com/images/2023/03/github-actions-03.png-show" data-fancybox="image">
  <img data-src="https://s.libforest.com/images/2023/03/github-actions-03.png-thumb" class="lazyload" />
</a>
</p>

<h2 id="heading-5">FAQ</h2>
<h3 id="heading-5.1">version `GLIBC_2.33&#39; not found</h3>
<p>
    使用 <code>Github Actions</code> 发布一个新的版本，下载到本地执行时报错
</p>
<pre style="color:#f8f8f2;background-color:#272822">./snow: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.33&#39; not found (required by ./snow)
./snow: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.34&#39; not found (required by ./snow)
./snow: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.32&#39; not found (required by ./snow)
./snow: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.29&#39; not found (required by ./snow)</pre>
<p>
    这是由于使用的 <code>ubuntu</code> 版本太高导致, 降低版本即可
</p>
<pre style="color:#f8f8f2;background-color:#272822">include:
...
<span style="color:#f92672">-   os: ubuntu-latest
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+   os: ubuntu-18.04
</span></pre>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2023/02/Emacs笔记之修复yaml-mode的格式化问题.html" rel="bookmark" title="Permalink to Emacs笔记之修复yaml-mode的格式化问题">Emacs笔记之修复yaml-mode的格式化问题</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-02-26">
    <i class="fa fa-calendar-o"></i>
    2023-02-21 Tue
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/emacs/index.html">Linux/Emacs</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/emacs/index.html">emacs</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<table>
<tr>
<th>更新时间</th>
<th>备注</th>
</tr>

<tr>
<td>2023-02-26</td>
<td>增加更多判断逻辑, 比如上一行是列表，当前行也是列表，则按正常缩进计算</td>
</tr>
</table>

<p>
一直以来 <b>yaml-mode</b> 都有一个问题，在使用 <code>(indent-region (point-min) (point-max))</code> 时已经格式好的内容总是会得到错误的缩进，比如一个简单的配置
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">test1</span>: <span style="color:#e6db74">&#34;val&#34;</span>
<span style="color:#66d9ef">test2</span>:
  - <span style="color:#e6db74">&#34;val1&#34;</span>
  - <span style="color:#e6db74">&#34;val2&#34;</span>
<span style="color:#66d9ef">test3</span>:
  <span style="color:#66d9ef">test4</span>: <span style="color:#e6db74">&#34;val4&#34;</span></pre>
<p>
在调用 <code>indent-regin</code> 后就会变成
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">test1</span>: <span style="color:#e6db74">&#34;val&#34;</span>
<span style="color:#66d9ef">test2</span>:
  - <span style="color:#e6db74">&#34;val1...</span></pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2023/02/Emacs笔记之修复yaml-mode的格式化问题.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2023/02/博客系统从Pelican迁移至Snow.html" rel="bookmark" title="Permalink to 博客系统从Pelican迁移至Snow">博客系统从Pelican迁移至Snow</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-03-05">
    <i class="fa fa-calendar-o"></i>
    2023-02-19 Sun
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/life/index.html">Life</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/life/index.html">life</a>
        <a href="https://honmaple.me/tags/pelican/index.html">pelican</a>
        <a href="https://honmaple.me/tags/snow/index.html">snow</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<blockquote>
<p>
上一次迁移博客系统还是在上一次。。。
哈哈，不开玩笑，上次迁移大概还是在七年前(2015.10), 不知不觉我的博客也建立快八年时间，如果算上动态博客可能都快十年了，虽然也没写多少篇(其实本地草稿都攒了快200篇了, 也没好好整理), 但好歹可以记录自己的生活和想法，之前使用的博客系统是基于 <code>Python</code> 的 <code>Pelican</code>, 此次将博客迁移至 <a href="https://github.com/honmaple.com/snow">snow</a> —— <b>一个轻量，简洁的基于Go开发的静态博客生成器</b>
</p>
</blockquote>

<h2 id="heading-1">迁移列表</h2>
<ul>
<li>
<p><code>[X]</code>
 内容文件(.md、.org、.html)
</p></li>
<li>
<p><code>[X]</code>
 静态文件(.css、.js、.scss等)
</p></li>
<li>
<p><code>[X]</code>
 配置文件(pelicanconf.py -&gt; config.yaml)
</p></li>
<li>
<p><code>[X]</code>
 主题文件
</p>
<ul>
<li>
<p><code>[X]</code>
 分类功能(子分类)
</p></li>
<li>
<p><code>[X]</code>
 搜索功能
</p></li>
<li>
<p><code>[X]</code>
 加密功能
</p>
</li>
</ul></li>
</ul>
<h2 id="heading-2">内容文件</h2>
<p>
   由于...</p>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2023/02/博客系统从Pelican迁移至Snow.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2023/02/静态博客中的shortcode实现.html" rel="bookmark" title="Permalink to 静态博客中的shortcode实现">静态博客中的shortcode实现</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-03-05">
    <i class="fa fa-calendar-o"></i>
    2023-02-07 Tue
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/golang/index.html">golang</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<h2 id="heading-1">前言</h2>
<p>
   <b>shortcode</b>,直译过来就是 <b>短代码</b>。 使用过 <b>hugo</b> 的人对此也一定有所了解，<b>shortcode</b> 允许用户使用部分关键参数就可以在文章内部插入设置好的HTML模版内容，而不用写大段的HTML代码，比如插入指定视频或者音乐,使用 <b>shortcode</b> 之前需要使用 <b>iframe</b>
</p>
<pre style="color:#f8f8f2;background-color:#272822">&lt;<span style="color:#f92672">iframe</span> <span style="color:#a6e22e">frameborder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;no&#34;</span> <span style="color:#a6e22e">border</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>
        <span style="color:#a6e22e">marginwidth</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">marginheight</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>
        <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">330</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">86</span>
        <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//music.163.com...</span></pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2023/02/静态博客中的shortcode实现.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2022/11/MacOS适配2K显示器.html" rel="bookmark" title="Permalink to MacOS适配2K显示器">MacOS适配2K显示器</a>
            </h1><header class="entry-info">
  <span title="Updated at 2022-11-24">
    <i class="fa fa-calendar-o"></i>
    2022-11-24 Thu
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/life/index.html">Life</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/life/index.html">life</a>
        <a href="https://honmaple.me/tags/macos/index.html">macos</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<blockquote>
<p>
最近购买了一个2K显示器，到手后才发现macos默认对2K分辨率支持不足，导致字体很小，无法像windows对字体进行缩放，尤其是终端字体，简直不忍直视。网上一搜才知道，这已经是陈年问题，网上也有很多解决办法，本次采用 <b>BetterDisplay</b> 开启 <b>HiDPI</b>， 不用关闭 <b>SIP</b>
</p>
</blockquote>

<h2 id="heading-1">安装</h2>
<p>
   安装可以直接从 <a href="https://github.com/waydabber/BetterDisplay">BetterDisplay</a> 下载，手动安装，不过我推荐使用 <b>brew</b> 安装，这样对于软件的管理也更方便
</p>
<pre style="color:#f8f8f2;background-color:#272822">──╼ brew info BetterDisplay
==&gt; betterdisplay: 1.3.4 (auto_updates)
https://betterdisplay.pro/
/usr/local/Caskroom/betterdisplay/1.3.4 (127B)
From: https...</pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2022/11/MacOS适配2K显示器.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2022/11/人生中的第一台组装电脑.html" rel="bookmark" title="Permalink to 人生中的第一台组装电脑">人生中的第一台组装电脑</a>
            </h1><header class="entry-info">
  <span title="Updated at 2022-12-12">
    <i class="fa fa-calendar-o"></i>
    2022-11-04 Fri
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/life/index.html">Life</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/life/index.html">life</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<p>
前两天双11，终于是给自己配了人生中的第一台台式电脑，从毕业后就一直想要一台属于自己的机器(游戏机)，犹记得人生中的第一台电脑还是上大学时买的，虽然只是3000多，720m的显卡，但它陪伴了我6年多时间，曾经使用它学习编程，娱乐，算是我的导师和娱乐伙伴，后来毕业后才购买了一台macbook pro，一直陪伴我至今。
</p>

<h1 id="heading-1">配件选购</h1>

<table>
<tr>
<th>配件</th>
<th>型号</th>
<th>价格</th>
</tr>

<tr>
<td>CPU</td>
<td>12600KF</td>
<td>1535.65</td>
</tr>
<tr>
<td>主板</td>
<td>微星B660M迫击炮WIFI</td>
<td>/</td>
</tr>
<tr>
<td>显卡</td>
<td>七彩虹3070 ULTRA W</td>
<td>4490.7(+主板)</td>
</tr>
<tr>
<td>电源</td>
<td>海韵GX750</td>
<td>627.7</td>
</tr>
<tr>
<td>机箱</td>
<td>乔思伯D30 白色</td>
<td>317.8</td>
</tr>
<tr>
<td>散热</td>
<td>利民PA120 白色</td>
<td>185</td>
</tr>
<tr>
<td>SSD</td>
<td>宏碁GM7000 1T</td>
<td>605.7...</td></tr></table>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2022/11/人生中的第一台组装电脑.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2022/10/Snow静态博客生成器.html" rel="bookmark" title="Permalink to Snow静态博客生成器">Snow静态博客生成器</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-02-26">
    <i class="fa fa-calendar-o"></i>
    2022-10-16 Sun
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/snow/index.html">snow</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<blockquote>
<p>
一个<b>简单却可配置</b>的静态博客生成器。
很早之前(三年前)就想写一个静态博客生成器，但苦于一直没有时间，最近把之前写的重构了一下，让其可以支持更多的定制化配置。
</p>

<p>
<b>至于为什么要重新写一个</b>:
</p>
<ol>
<li>
<p>
 大概是因为想要把之前未完成的轮子补充完整
</p></li>
<li>
<p>
 我目前使用的博客系统使用的是 <b>pelican</b>，一个基于 <b>Python</b> 的静态博客生成器，目前里面包括了很多我自己写的插件，比如 <code>Emacs org mode</code> 的支持、文章加密、模版定制等，因为需要大量遍历所有文章，导致生成速度越来越慢，还有一点就是因为使用的是 <b>Python</b>，每次本地预览时都需要切换到虚拟环境
</p></li>
<li>
<p>
 我习惯使用 <b>Emacs + Org</b>，除了前期的几篇文章，后面都是使用 <b>org mode</b> 书写，之前是因为 <b>Python</b> 没有一个好用的 <b>org mode</b> 解析库，所以专门写了一个 <code>org-python</code> 用来解析 <b>org...</b></p></li></ol></blockquote>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2022/10/Snow静态博客生成器.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/11/Emacs笔记之minibuffer默认输入.html" rel="bookmark" title="Permalink to Emacs笔记之minibuffer默认输入">Emacs笔记之minibuffer默认输入</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-02-24">
    <i class="fa fa-calendar-o"></i>
    2021-11-25 Thu
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/emacs/index.html">Linux/Emacs</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/emacs/index.html">emacs</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<blockquote>
<p>
在使用 <b>evil-ex</b>，也就是冒号+命令时，有一个非常有趣的功能，输入冒号后，<b>minibuffer</b> 会显示上一次执行的命令，比如 <code>:wq</code>, 确认可以直接执行这个命令，但是输入任意字符，就会把原先的 <code>wq</code> 直接覆盖，接收新的命令输入
</p>
</blockquote>

<p>
我觉得这是一个非常有趣且有用的功能，像 <code>read-string</code> 函数，如果我想要一个默认的输入，可以直接使用
</p>
<pre style="color:#f8f8f2;background-color:#272822">(let ((input (<span style="color:#a6e22e">read-string</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">prompt: </span><span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">默认内容</span><span style="color:#e6db74">&#34;</span>)))
  (<span style="color:#a6e22e">message</span> input))</pre>
<p>
但我想覆盖这个默认, 则需要先把 <code>默认内容</code> 删除，再输入我想要的字符, 如果不想先删除默认再输入，还可以使用
</p>
<pre style="color:#f8f8f2;background-color:#272822">(let ((input (<span style="color:#a6e22e">read-string</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">prompt: </span><span style="color:#e6db74">&#34;...</span></pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/11/Emacs笔记之minibuffer默认输入.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/10/Emacs自动插入更新文件头——maple-header.html" rel="bookmark" title="Permalink to Emacs自动插入更新文件头——maple-header">Emacs自动插入更新文件头——maple-header</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-02-24">
    <i class="fa fa-calendar-o"></i>
    2021-10-06 Wed
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/emacs/index.html">Linux/Emacs</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/emacs/index.html">emacs</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<blockquote>
<p>
一个简单的插件，可以在文件创建时自动插入文件头，或者文件更新时自动更新文件头信息，虽然已经用了好几年，这次把相关代码提取并精简一下做成了插件 <a href="https://github.com/honmaple/emacs-maple-header">maple-header</a>
</p>
</blockquote>

<h1 id="heading-1">安装</h1>
<h2 id="heading-1.1">使用quelpa</h2>
<pre style="color:#f8f8f2;background-color:#272822">(use-package maple-header
  :quelpa (:fetcher github :repo <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">honmaple/emacs-maple-header</span><span style="color:#e6db74">&#34;</span>)
  :hook (after-init <span style="color:#f92672">.</span> maple-header-mode))</pre>
<h2 id="heading-1.2">克隆到本地</h2>
<pre style="color:#f8f8f2;background-color:#272822">git clone https://github.com/honmaple/emacs-maple-header --depth=1 ~/.emacs/site-lisp/maple-header</pre>

<pre style="color:#f8f8f2;background-color:#272822">(use-package maple...</pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/10/Emacs自动插入更新文件头——maple-header.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/08/Docker笔记之registry清理.html" rel="bookmark" title="Permalink to Docker笔记之registry清理">Docker笔记之registry清理</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-09-02">
    <i class="fa fa-calendar-o"></i>
    2021-08-23 Mon
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/docker/index.html">docker</a>
        <a href="https://honmaple.me/tags/registry/index.html">registry</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<blockquote>
<p>
尝试了几种方式, 算是找到了一个比较方便的清理docker registry的方式
</p>
</blockquote>

<h1 id="heading-1">前言</h1>
<p>
  两年前分给了 <b>docker registry</b> 1T的磁盘，虽然有预感磁盘空间会被用完, 没想过能够坚持这么久。
  而且期间一直想把 <b>registry</b> 迁移到 <b>harbor</b>，也能对不同账户的权限进行分配和限制，但几百G的磁盘占用也不好迁移，所以一直被耽搁(迁移方式都准备好了 <a href="https://blog.k8s.li/docker-registry-to-harbor.html">https://blog.k8s.li/docker-registry-to-harbor.html</a>)
</p>

<h1 id="heading-2">清理</h1>
<h2 id="heading-2.1">列出所有镜像</h2>
<pre style="color:#f8f8f2;background-color:#272822">registry garbage-collect --dry-run /etc/docker/registry/config.yml &gt;&gt; res.txt</pre>

<h2 id="heading-2.2">找出分层(push次数)最多的几个镜像</h2>
<pre style="color:#f8f8f2;background-color:#272822">cat res.txt...</pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/08/Docker笔记之registry清理.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/07/K8S笔记之ingress增加验证.html" rel="bookmark" title="Permalink to K8S笔记之ingress增加验证">K8S笔记之ingress增加验证</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-09-02">
    <i class="fa fa-calendar-o"></i>
    2021-07-13 Tue
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/k8s/index.html">k8s</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<h2 id="heading-1">创建账户密码</h2>
<ul>
<li>
<p>
 生成密码
</p>
<pre style="color:#f8f8f2;background-color:#272822">PASSWORD<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>base64 &lt; /dev/urandom | head -c8<span style="color:#66d9ef">)</span>; echo <span style="color:#e6db74">&#34;</span>$PASSWORD<span style="color:#e6db74">&#34;</span></pre></li>
<li>
<p>
 生成hash值
</p>
<pre style="color:#f8f8f2;background-color:#272822">docker run --rm --entrypoint htpasswd httpd:2 -Bbn username password &gt;&gt; auth</pre>
</li>
</ul>
<h2 id="heading-2">修改ingress</h2>
<pre style="color:#f8f8f2;background-color:#272822">nginx.ingress.kubernetes.io/auth-realm=&#39;Authentication Required &#39;
nginx.ingress.kubernetes.io/auth-type=basic
nginx.ingress...</pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/07/K8S笔记之ingress增加验证.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/06/flutter笔记之初体验.html" rel="bookmark" title="Permalink to flutter笔记之初体验">flutter笔记之初体验</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-03-07">
    <i class="fa fa-calendar-o"></i>
    2021-06-05 Sat
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/flutter/index.html">flutter</a>
        <a href="https://honmaple.me/tags/android/index.html">android</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<h2 id="heading-1">安装</h2>
<h3 id="heading-1.1">安装flutter</h3>
<ul>
<li>
<p>
 首先下载flutter包, 解压到 <code>~/repo</code> 目录,并配置 <code>~/.bashrc</code>
</p>
<pre style="color:#f8f8f2;background-color:#272822">export PATH<span style="color:#f92672">=</span>$PATH:$HOME/repo/flutter/bin</pre>
</li>
<li>
<p>
 <code>source ~/.bashrc</code>使其生效
</p>
<blockquote>
<p>
      注意：首次运行flutter，macos可能会提示无法打开dart，需要到 <code>系统偏好 -&gt; 安全性与隐私</code> 点击允许
</p>
</blockquote>

<pre style="color:#f8f8f2;background-color:#272822">└──╼ flutter --version
Flutter 2.2.1 • channel stable • https://github.com/flutter/flutter.git
Framework • revision 02c026b03c (9...</pre></li></ul>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/06/flutter笔记之初体验.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/05/GNS3笔记.html" rel="bookmark" title="Permalink to GNS3笔记">GNS3笔记</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-11-24">
    <i class="fa fa-calendar-o"></i>
    2021-05-11 Tue
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/gns3/index.html">gns3</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<h2 id="heading-1">GNS3 VM导入</h2>
<pre style="color:#f8f8f2;background-color:#272822">virt-install  --name gns3  --memory <span style="color:#ae81ff">8192</span>  --vcpus <span style="color:#ae81ff">4</span>  --disk /home/kvm/GNS3/GNS3VM-disk001.qcow2  --disk /home/kvm/GNS3/GNS3VM-disk002.qcow2  --import --virt-type kvm --os-type linux --os-variant ubuntu18.04 --network default --graphics vnc,listen<span style="color:#f92672">=</span>0.0.0.0,password<span style="color:#f92672">=</span>foobar,port...</pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/05/GNS3笔记.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/04/公共DNS.html" rel="bookmark" title="Permalink to 公共DNS">公共DNS</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-04-14">
    <i class="fa fa-calendar-o"></i>
    2021-04-14 Wed
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/life/index.html">Life</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/dns/index.html">dns</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<h1 id="heading-1">百度DNS</h1>
<h2 id="heading-1.1">IPv4</h2>
<ul>
<li>
<p>
  180.76.76.76 
</p></li>
</ul>
<h2 id="heading-1.2">IPv6</h2>
<ul>
<li>
<p>
 2400:da00::6666
</p>
</li>
</ul>
<h1 id="heading-2">阿里DNS</h1>
<h2 id="heading-2.1">IPv4</h2>
<ul>
<li>
<p>
 223.5.5.5
</p></li>
<li>
<p>
 223.6.6.6
</p></li>
</ul>
<h2 id="heading-2.2">IPv6</h2>
<ul>
<li>
<p>
 2400:3200::1
</p></li>
<li>
<p>
 2400:3200:baba::1
</p></li>
</ul>
<h2 id="heading-2.3">DoH/DoT地址</h2>
<ul>
<li>
<p>
 dns.alidns.com
</p>
</li>
</ul>
<h1 id="heading-3">谷歌DNS</h1>
<h2 id="heading-3.1">IPv4</h2>
<ul>
<li>
<p>
 8.8.8.8
</p></li>
<li>
<p>
 8.8.4.4
</p></li>
</ul>
<h2 id="heading-3.2">IPv6</h2>
<ul>
<li>
<p>
 2001:4860:4860::8888
</p></li>
<li>
<p>
 2001...</p></li></ul>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/04/公共DNS.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/04/时代.html" rel="bookmark" title="Permalink to 时代">时代</a>
            </h1><header class="entry-info">
  <span title="Updated at 2023-03-08">
    <i class="fa fa-calendar-o"></i>
    2021-04-07 Wed
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/life/index.html">Life</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/life/index.html">life</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<div style="text-align:center;">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<link rel="stylesheet" href="/static/css/aplayer.css" />
<style type="text/css" media="screen">
 .aplayer {
     max-width: 480px;
     margin: 0 auto;
 }
</style>
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
  <meting-js server="netease" type="song" id="30841464"></meting-js>
</div>

<blockquote>
<div style="text-align:center;">
<p>
有时候总是忍不住思考<br/>我是不是把自己隐私保护的太好<br/>以至于在这个时代<br/>一个最好也是最坏的时代<br/>感到那么的不适应<br/>...
</p>
</div>
</blockquote>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/04/时代.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/03/python2升级至python3.html" rel="bookmark" title="Permalink to python2升级至python3">python2升级至python3</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-07-07">
    <i class="fa fa-calendar-o"></i>
    2021-03-22 Mon
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/python/index.html">Python</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/python/index.html">python</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<blockquote>
<p>
首先使用工具 <b>2to3</b> 转换
</p>
<pre style="color:#f8f8f2;background-color:#272822">2to3 目录名 -w -n</pre>
</blockquote>

<h2 id="heading-1">print</h2>
<p>
   <a href="stackoverflow.com/questions/55559825/how-to-fix-print-double-parentheses-after-2to3-conversion">stackoverflow.com/questions/55559825/how-to-fix-print-double-parentheses-after-2to3-conversion</a>
</p>
<ul>
<li>
<p>
 问题:
     如果在python2项目里使用了python3的写法，比如在 <b>python2</b> 里的 <code>print(&#34;test&#34;)</code>, 使用 <b>2to3</b> 就会转换成
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">print</span>((<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">test</span><span style="color:#e6db74">&#34;</span>))</pre>
<p>
     所以需要找到 <code>print((</code> 并修复该转换(其实不转也没什么问题)
</p>
<pre style="color:#f8f8f2;background-color:#272822">ag -Gpy <span style="color:#e6db74">&#39;print((&#39;</span></pre></li>
<li>
<p>
 修复:
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#f92672">- print((&#34;...</span></pre></li></ul>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/03/python2升级至python3.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2021/03/pyenv笔记.html" rel="bookmark" title="Permalink to pyenv笔记">pyenv笔记</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-03-18">
    <i class="fa fa-calendar-o"></i>
    2021-03-18 Thu
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<h1 id="heading-1">常见问题</h1>

<h2 id="heading-1.1">pyenv install 3.6.7 失败</h2>
<blockquote>
<ul>
<li>
<p>
 环境: macOs big Sur 11.2.2
</p></li>
<li>
<p>
 pyenv: 1.2.23
</p></li>
</ul>
</blockquote>

<h3 id="heading-1.1.1">相关日志</h3>
<pre style="color:#f8f8f2;background-color:#272822">┌─[jianglin]─[~/repo/golang/src/alarm](master)
└──╼ pyenv install 3.6.7
python-build: use openssl@1.1 from homebrew
python-build: use readline from homebrew
Installing...</pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2021/03/pyenv笔记.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2020/09/golang笔记之struct转map性能比较.html" rel="bookmark" title="Permalink to golang笔记之struct转map性能比较">golang笔记之struct转map性能比较</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-05-31">
    <i class="fa fa-calendar-o"></i>
    2020-09-21 Mon
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/golang/index.html">golang</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
    <span style="color:#e6db74">&#34;encoding/json&#34;</span>
    <span style="color:#e6db74">&#34;reflect&#34;</span>
    <span style="color:#e6db74">&#34;testing&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">A</span> <span style="color:#66d9ef">struct</span> {
    <span style="color:#a6e22e">A</span> <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`</span><span style="color:#e6db74">json:&#34;a&#34;</span><span style="color:#e6db74">`</span>
    <span style="color:#a6e22e">B</span> <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`</span><span style="color:#e6db74">json:&#34;b&#34;</span><span style="color:#e6db74">`</span>
    <span style="color:#a6e22e">C</span> <span style="color:#66d9ef">int</span>      <span style="color:#e6db74">`</span><span style="color:#e6db74">json:&#34;c&#34;</span><span style="color:#e6db74">`</span>
    <span style="color:#a6e22e">D</span> <span style="color:#66d9ef">int</span>      <span style="color:#e6db74">`</span><span style="color:#e6db74">json:&#34;d&#34;</span><span style="color:#e6db74">`</span>
    <span style="color:#a6e22e">E...</span></pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2020/09/golang笔记之struct转map性能比较.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2020/09/rust笔记.html" rel="bookmark" title="Permalink to rust笔记">rust笔记</a>
            </h1><header class="entry-info">
  <span title="Updated at 2022-10-09">
    <i class="fa fa-calendar-o"></i>
    2020-09-08 Tue
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/rust/index.html">rust</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<h2 id="heading-1">安装</h2>
<ul>
<li>
<p>
 安装
</p>
<pre style="color:#f8f8f2;background-color:#272822">└──╼ brew install rustup
└──╼ rustup-init
......
1<span style="color:#f92672">)</span> Proceed with installation <span style="color:#f92672">(</span>default<span style="color:#f92672">)</span>
2<span style="color:#f92672">)</span> Customize installation
3<span style="color:#f92672">)</span> Cancel installation
&gt;1</pre>
</li>
<li>
<p>
 配置 <b>rust</b> 目录
</p>
<pre style="color:#f8f8f2;background-color:#272822">└──╼ mkdir $HOME/repo/rust
└──╼ mv $HOME/.rustup $HOME/repo/rust/rustup
└──╼ mv $HOME/.cargo $HOME/repo/rust/cargo</pre>

<p>
     写入 <b>.bashrc</b> 文件...</p></li></ul>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2020/09/rust笔记.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li>
        <article>
          <div class="entry-header">
            <h1 class="entry-title">
              <a href="https://honmaple.me/articles/2020/08/golang笔记之interface类型判断性能.html" rel="bookmark" title="Permalink to golang笔记之interface类型判断性能">golang笔记之interface类型判断性能</a>
            </h1><header class="entry-info">
  <span title="Updated at 2021-08-27">
    <i class="fa fa-calendar-o"></i>
    2020-08-21 Fri
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="https://honmaple.me/categories/linux/index.html">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/golang/index.html">golang</a>
    </span>
</header>

          </div>
          <hr class="entry-hr" />
            <div class="entry-content entry-summary">
              
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;testing&#34;</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">InterfaceA</span> <span style="color:#66d9ef">interface</span> {
    <span style="color:#a6e22e">AA</span>()
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">InterfaceB</span> <span style="color:#66d9ef">interface</span> {
    <span style="color:#a6e22e">BB</span>()
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">A</span> <span style="color:#66d9ef">struct</span> {
    <span style="color:#a6e22e">v</span> <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">A</span>) <span style="color:#a6e22e">AA</span>() {
    <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">v</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">BenchmarkTypeSwitch</span>(<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">B</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> = new(<span style="color:#a6e22e">A</span>)

    <span style="color:#a6e22e">switchFunc</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">v</span> <span style="color:#66d9ef">interface</span>{}) {
        <span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">v</span>.(<span style="color:#66d9ef">type</span>) {
        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">InterfaceA</span>:
            <span style="color:#a6e22e">v</span>.(<span style="color:#a6e22e">InterfaceA...</span></pre>
            </div>
            <div class="text-center">
              <a class="btn entry-read-more" href="https://honmaple.me/articles/2020/08/golang笔记之interface类型判断性能.html">阅读全文 »</a>
            </div>
        </article>
      </li>
      <li><ul class="entry-pagination">
        <li class="active"><a href="https://honmaple.me/index.html">1</a></li>
        <li><a href="https://honmaple.me/index2.html">2</a></li>
        <li><a href="https://honmaple.me/index3.html">3</a></li>
          <li>......</li>
        <li><a href="https://honmaple.me/index8.html">8</a></li>
        <li><a href="https://honmaple.me/index9.html">9</a></li>
        <li><a href="https://honmaple.me/index10.html">10</a></li>
    <li class="next"><a href="https://honmaple.me/index2.html">&raquo;</a></li>
</ul>
</li>
  </ul>
      </div>
    </div><div class="entry-footer">
  <ul class="entry-footer-left">
    <li class="hidden-xs">© 2015-2023 honmaple</li>
    <li class="hidden-xs">·</li>
    <li>
        <a href="https://honmaple.me/pages/friends.html" data-no-instant>友链</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/contact.html" data-no-instant>联系</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/project.html" data-no-instant>项目</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/timeline.html" data-no-instant>时间轴</a>
    </li>
  </ul>
  <ul class="entry-footer-right">
    <li><a class="entry-switch-theme" title="切换主题" onclick="switchTheme()"><i class="fa fa-moon-o"></i></a></li>
      <li><a href="https://honmaple.me/pages/music.html" title="Music"><i class="fa fa-music"></i></a></li>
      <li class="hidden-xs"><a href="https://honmaple.me/pages/music.html" title="Feed"><i class="fa fa-feed"></i></a></li>
      <li><a href="https://github.com/honmaple" title="Github"><i class="fa fa-github"></i></a></li>
      <li><a href="https://honmaple.me/pages/travel.html" title="Camera"><i class="fa fa-camera"></i></a></li>
      <li><a href="https://honmaple.me/pages/contact.html" title="Contact"><i class="fa fa-envelope"></i></a></li>
  </ul>
</div>
<div class="back-to-top back-to-top-on">
  <i class="fa fa-hand-o-up" title="back to top"></i>
</div>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88401692-2"></script>
  <script>
     window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'UA-88401692-2');
  </script>


      <script src="https://s.libforest.com/static/js/lib.min.js"></script>
        <script src="https://honmaple.me/static/lib/js/script.min.js"></script>
      <script src="https://s.libforest.com/static/js/instantclick.min.js" data-no-instant></script>
      <script data-no-instant>
       InstantClick.on('change', function() {
         if (typeof ga !== 'undefined') {
           ga('send', 'pageview', location.pathname + location.search);
         }
       });
       InstantClick.init(60);
      </script>
  </body>
</html>
