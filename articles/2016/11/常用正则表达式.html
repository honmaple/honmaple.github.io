<!DOCTYPE html>
<html lang="en">
  <head>
    <title>常用正则表达式</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../theme/css/main.css" type="text/css" />
  </head>
  <body id="index" class="home">
    <div id="particles-js"></div>
    <div class="wrap">
      <div class="main">
        <header id="banner" class="body">
          <h1><a href="../../..">honmaple's blog </a></h1>
          <nav><ul>
              <li><a href="http://honmaple.org">主页</a></li>
                <li ><a href="../../../category/linux/index.html">Linux</a></li>
                <li class="active"><a href="../../../category/python/index.html">Python</a></li>
                <li ><a href="../../../category/security/index.html">Security</a></li>
                <li class="dropdown">
                  <a href="../../../category/sheng-huo-sui-bi/index.html" >生活随笔</a>
                  <dl>
                      <dd><a href="../../../category/hui-yi/index.html">回忆</a></dd>
                  </dl>
                </li>
            <li class="dropdown">
              <a href="../../../archives.html">Archives</a>
              <dl>
                <dd><a href="../../../tags.html">Tags</a></dd>
                <dd><a href="../../../categories.html">Categories</a></dd>
                <dd><a href="../../../authors.html">Authors</a></dd>
              </dl>
            </li>
            <li style="float:right;margin-right:15px;">
              <form onsubmit="return dispatch()" class="search has-feedback">
                <input type="text" id="search" name="search"/>
                <i class="form-control-feedback"></i>
              </form>
            </li>
          </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
    <article>
        <header>
            <h1 class="entry-title">
                <a href="articles/2016/11/常用正则表达式.html" rel="bookmark"
                   title="Permalink to 常用正则表达式">常用正则表达式</a></h1>
            <hr style="margin-top: 20px;margin-bottom: 20px;border: 0;border-top: 1px solid #eee;" />
        </header>

        <div class="entry-content article-content">
<footer class="post-info">
  <abbr class="published" title="2016-11-26T00:00:00+08:00">
    六 26 十一月 2016
  </abbr>

    <address class="vcard author">
      By <a class="url fn" href="../../../author/honmaple.html">honmaple</a>
    </address>
  <p>In <a href="../../../category/python/index.html">Python</a>. </p>
<p>tags: <a href="../../../tag/python/index.html">python</a><a href="../../../tag/regex/index.html">regex</a></p></footer><!-- /.post-info -->            <div id="table-of-contents"><h2>Table of Contents</h2><div id="text-table-of-contents"><ul>
<li><a href="#org-15014257228792">校验数字的表达式</a>
<ul>
<li><a href="#org-15014257228792">数字:</a></li>
<li><a href="#org-15014257228792">n位的数字：</a></li>
<li><a href="#org-15014257228792">至少n位的数字：</a></li>
<li><a href="#org-15014257228792">m-n位的数字：</a></li>
<li><a href="#org-15014257228793">零和非零开头的数字：</a></li>
<li><a href="#org-15014257228793">非零开头的最多带两位小数的数字：</a></li>
<li><a href="#org-15014257228793">带1-2位小数的正数或负数：</a></li>
<li><a href="#org-15014257228793">正数、负数、和小数：</a></li>
<li><a href="#org-15014257228793">有两位小数的正实数：</a></li>
<li><a href="#org-15014257228793">有1~3位小数的正实数：</a></li>
<li><a href="#org-15014257228793">非零的正整数：</a></li>
<li><a href="#org-15014257228793">非零的负整数：</a></li>
<li><a href="#org-15014257228793">非负整数：</a></li>
<li><a href="#org-15014257228793">非正整数：</a></li>
<li><a href="#org-15014257228793">非负浮点数：</a></li>
<li><a href="#org-15014257228793">非正浮点数：</a></li>
<li><a href="#org-15014257228794">正浮点数：</a></li>
<li><a href="#org-15014257228794">负浮点数：</a></li>
<li><a href="#org-15014257228794">浮点数：</a></li>
</ul></li>
<li><a href="#org-15014257228794">校验字符的表达式</a>
<ul>
<li><a href="#org-15014257228794">汉字：</a></li>
<li><a href="#org-15014257228794">英文和数字：</a></li>
<li><a href="#org-15014257228794">长度为3-20的所有字符：</a></li>
<li><a href="#org-15014257228794">由26个英文字母组成的字符串：</a></li>
<li><a href="#org-15014257228794">由26个大写英文字母组成的字符串：</a></li>
<li><a href="#org-15014257228794">由26个小写英文字母组成的字符串：</a></li>
<li><a href="#org-15014257228794">由数字和26个英文字母组成的字符串：</a></li>
<li><a href="#org-15014257228794">由数字、26个英文字母或者下划线组成的字符串：</a></li>
<li><a href="#org-15014257228795">中文、英文、数字包括下划线：</a></li>
<li><a href="#org-15014257228795">中文、英文、数字但不包括下划线等符号：</a></li>
<li><a href="#org-15014257228795">可以输入含有^%&',;=?$\"等字符：</a></li>
<li><a href="#org-15014257228795">禁止输入含有~的字符：</a></li>
</ul></li>
<li><a href="#org-15014257228795">特殊需求表达式</a>
<ul>
<li><a href="#org-15014257228795">Email地址：</a></li>
<li><a href="#org-15014257228795">域名：</a></li>
<li><a href="#org-15014257228795">InternetURL：</a></li>
<li><a href="#org-15014257228795">手机号码：</a></li>
<li><a href="#org-15014257228795">电话号码("XXX-XXXXXXX"、"XXXX-XXXXXXXX"、"XXX-XXXXXXX"、"XXX-XXXXXXXX"、"XXXXXXX"和"XXXXXXXX)：</a></li>
<li><a href="#org-15014257228795">国内电话号码(0511-4405222、021-87888822)：</a></li>
<li><a href="#org-15014257228795">身份证号(15位、18位数字)：</a></li>
<li><a href="#org-15014257228796">短身份证号码(数字、字母x结尾)：</a></li>
<li><a href="#org-15014257228796">帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：</a></li>
<li><a href="#org-15014257228796">密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：</a></li>
<li><a href="#org-15014257228796">强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：</a></li>
<li><a href="#org-15014257228796">日期格式：</a></li>
<li><a href="#org-15014257228796">一年的12个月(01～09和1～12)：</a></li>
<li><a href="#org-15014257228796">一个月的31天(01～09和1～31)：</a></li>
<li><a href="#org-15014257228796">钱的输入格式：</a>
<ul>
<li><a href="#org-15014257228796">有四种钱的表示形式我们可以接受:"10000.00" 和 "10,000.00", 和没有 "分" 的 "10000" 和 "10,000"：</a></li>
<li><a href="#org-15014257228796">这表示任意一个不以0开头的数字,但是,这也意味着一个字符"0"不通过,所以我们采用下面的形式：</a></li>
<li><a href="#org-15014257228796">一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：</a></li>
<li><a href="#org-15014257228796">这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：</a></li>
<li><a href="#org-15014257228797">必须说明的是,小数点后面至少应该有1位数,所以"10."是不通过的,但是 "10" 和 "10.2" 是通过的：</a></li>
<li><a href="#org-15014257228797">这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：</a></li>
<li><a href="#org-15014257228797">这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：</a></li>
<li><a href="#org-15014257228797">1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：</a></li>
</ul></li>
<li><a href="#org-15014257228797">xml文件：</a></li>
<li><a href="#org-15014257228797">中文字符的正则表达式：</a></li>
<li><a href="#org-15014257228797">双字节字符：</a></li>
<li><a href="#org-15014257228797">空白行的正则表达式：</a></li>
<li><a href="#org-15014257228797">HTML标记的正则表达式：</a></li>
<li><a href="#org-15014257228797">首尾空白字符的正则表达式：</a></li>
<li><a href="#org-15014257228797">腾讯QQ号：</a></li>
<li><a href="#org-15014257228797">中国邮政编码：</a></li>
<li><a href="#org-15014257228798">IP地址：</a></li>
<li><a href="#org-15014257228798">IP地址：</a></li>
</ul></li>
</ul>
</div></div>


<h2 id="org-15014257228792">校验数字的表达式</h2>
<h3 id="org-15014257228792">数字:</h3>

<pre class="example">
    ^[0-9]*$
</pre>

<h3 id="org-15014257228792">n位的数字：</h3>

<pre class="example">
    ^\d{n}$
</pre>

<h3 id="org-15014257228792">至少n位的数字：</h3>

<pre class="example">
    ^\d{n,}$
</pre>

<h3 id="org-15014257228792">m-n位的数字：</h3>

<pre class="example">
    ^\d{m,n}$
</pre>

<h3 id="org-15014257228793">零和非零开头的数字：</h3>

<pre class="example">
    ^(0|[1-9][0-9]*)$
</pre>

<h3 id="org-15014257228793">非零开头的最多带两位小数的数字：</h3>

<pre class="example">
    ^([1-9][0-9]*)+(.[0-9]{1,2})?$
</pre>

<h3 id="org-15014257228793">带1-2位小数的正数或负数：</h3>

<pre class="example">
    ^(\-)?\d+(\.\d{1,2})?$
</pre>

<h3 id="org-15014257228793">正数、负数、和小数：</h3>

<pre class="example">
    ^(\-|\+)?\d+(\.\d+)?$
</pre>

<h3 id="org-15014257228793">有两位小数的正实数：</h3>

<pre class="example">
    ^[0-9]+(.[0-9]{2})?$
</pre>

<h3 id="org-15014257228793">有1~3位小数的正实数：</h3>

<pre class="example">
    ^[0-9]+(.[0-9]{1,3})?$
</pre>

<h3 id="org-15014257228793">非零的正整数：</h3>

<pre class="example">
    ^[1-9]\d*$ 或 ^([1-9][0-9]*){1,3}$ 或 ^\+?[1-9][0-9]*$
</pre>

<h3 id="org-15014257228793">非零的负整数：</h3>

<pre class="example">
    ^\-[1-9][]0-9"*$ 或 ^-[1-9]\d*$
</pre>

<h3 id="org-15014257228793">非负整数：</h3>

<pre class="example">
    ^\d+$ 或 ^[1-9]\d*|0$
</pre>

<h3 id="org-15014257228793">非正整数：</h3>

<pre class="example">
    ^-[1-9]\d*|0$ 或 ^((-\d+)|(0+))$
</pre>

<h3 id="org-15014257228793">非负浮点数：</h3>

<pre class="example">
    ^\d+(\.\d+)?$ 或 ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$
</pre>

<h3 id="org-15014257228793">非正浮点数：</h3>

<pre class="example">
    ^((-\d+(\.\d+)?)|(0+(\.0+)?))$ 或 ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$
</pre>

<h3 id="org-15014257228794">正浮点数：</h3>

<pre class="example">
    ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ 或 ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$
</pre>

<h3 id="org-15014257228794">负浮点数：</h3>

<pre class="example">
    ^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ 或 ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$
</pre>

<h3 id="org-15014257228794">浮点数：</h3>

<pre class="example">
    ^(-?\d+)(\.\d+)?$ 或 ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$
</pre>


<h2 id="org-15014257228794">校验字符的表达式</h2>
<h3 id="org-15014257228794">汉字：</h3>

<pre class="example">
    ^[\u4e00-\u9fa5]{0,}$
</pre>

<h3 id="org-15014257228794">英文和数字：</h3>

<pre class="example">
    ^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$
</pre>

<h3 id="org-15014257228794">长度为3-20的所有字符：</h3>

<pre class="example">
    ^.{3,20}$
</pre>

<h3 id="org-15014257228794">由26个英文字母组成的字符串：</h3>

<pre class="example">
    ^[A-Za-z]+$
</pre>

<h3 id="org-15014257228794">由26个大写英文字母组成的字符串：</h3>

<pre class="example">
    ^[A-Z]+$
</pre>

<h3 id="org-15014257228794">由26个小写英文字母组成的字符串：</h3>

<pre class="example">
    ^[a-z]+$
</pre>

<h3 id="org-15014257228794">由数字和26个英文字母组成的字符串：</h3>

<pre class="example">
    ^[A-Za-z0-9]+$
</pre>

<h3 id="org-15014257228794">由数字、26个英文字母或者下划线组成的字符串：</h3>

<pre class="example">
    ^\w+$ 或 ^\w{3,20}$
</pre>

<h3 id="org-15014257228795">中文、英文、数字包括下划线：</h3>

<pre class="example">
    ^[\u4E00-\u9FA5A-Za-z0-9_]+$
</pre>

<h3 id="org-15014257228795">中文、英文、数字但不包括下划线等符号：</h3>

<pre class="example">
    ^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$
</pre>

<h3 id="org-15014257228795">可以输入含有^%&',;=?$\"等字符：</h3>

<pre class="example">
    [^%&',;=?$\x22]+
</pre>

<h3 id="org-15014257228795">禁止输入含有~的字符：</h3>

<pre class="example">
    [^~\x22]+
</pre>


<h2 id="org-15014257228795">特殊需求表达式</h2>
<h3 id="org-15014257228795">Email地址：</h3>

<pre class="example">
    ^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
</pre>

<h3 id="org-15014257228795">域名：</h3>

<pre class="example">
    [a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?
</pre>

<h3 id="org-15014257228795">InternetURL：</h3>

<pre class="example">
    [a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&=]*)?$
</pre>

<h3 id="org-15014257228795">手机号码：</h3>

<pre class="example">
    ^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$
</pre>

<h3 id="org-15014257228795">电话号码("XXX-XXXXXXX"、"XXXX-XXXXXXXX"、"XXX-XXXXXXX"、"XXX-XXXXXXXX"、"XXXXXXX"和"XXXXXXXX)：</h3>

<pre class="example">
    ^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$
</pre>

<h3 id="org-15014257228795">国内电话号码(0511-4405222、021-87888822)：</h3>

<pre class="example">
    \d{3}-\d{8}|\d{4}-\d{7}
</pre>

<h3 id="org-15014257228795">身份证号(15位、18位数字)：</h3>

<pre class="example">
    ^\d{15}|\d{18}$
</pre>

<h3 id="org-15014257228796">短身份证号码(数字、字母x结尾)：</h3>

<pre class="example">
    ^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$
</pre>

<h3 id="org-15014257228796">帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：</h3>

<pre class="example">
    ^[a-zA-Z][a-zA-Z0-9_]{4,15}$
</pre>

<h3 id="org-15014257228796">密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：</h3>

<pre class="example">
    ^[a-zA-Z]\w{5,17}$
</pre>

<h3 id="org-15014257228796">强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：</h3>

<pre class="example">
    ^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$
</pre>

<h3 id="org-15014257228796">日期格式：</h3>

<pre class="example">
    ^\d{4}-\d{1,2}-\d{1,2}
</pre>

<h3 id="org-15014257228796">一年的12个月(01～09和1～12)：</h3>

<pre class="example">
    ^(0?[1-9]|1[0-2])$
</pre>

<h3 id="org-15014257228796">一个月的31天(01～09和1～31)：</h3>

<pre class="example">
    ^((0?[1-9])|((1|2)[0-9])|30|31)$
</pre>

<h3 id="org-15014257228796">钱的输入格式：</h3>
<h4 id="org-15014257228796">有四种钱的表示形式我们可以接受:"10000.00" 和 "10,000.00", 和没有 "分" 的 "10000" 和 "10,000"：</h4>

<pre class="example">
    ^[1-9][0-9]*$
</pre>

<h4 id="org-15014257228796">这表示任意一个不以0开头的数字,但是,这也意味着一个字符"0"不通过,所以我们采用下面的形式：</h4>

<pre class="example">
    ^(0|[1-9][0-9]*)$
</pre>

<h4 id="org-15014257228796">一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：</h4>

<pre class="example">
    ^(0|-?[1-9][0-9]*)$
</pre>

<h4 id="org-15014257228796">这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：</h4>

<pre class="example">
    ^[0-9]+(.[0-9]+)?$
</pre>

<h4 id="org-15014257228797">必须说明的是,小数点后面至少应该有1位数,所以"10."是不通过的,但是 "10" 和 "10.2" 是通过的：</h4>

<pre class="example">
    ^[0-9]+(.[0-9]{2})?$
</pre>

<h4 id="org-15014257228797">这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：</h4>

<pre class="example">
    ^[0-9]+(.[0-9]{1,2})?$
</pre>

<h4 id="org-15014257228797">这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：</h4>

<pre class="example">
    ^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$
</pre>

<h4 id="org-15014257228797">1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：</h4>

<pre class="example">
    ^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$
</pre>

<h3 id="org-15014257228797">xml文件：</h3>

<pre class="example">
    ^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$
</pre>

<h3 id="org-15014257228797">中文字符的正则表达式：</h3>

<pre class="example">
    [\u4e00-\u9fa5]
</pre>

<h3 id="org-15014257228797">双字节字符：</h3>

<pre class="example">
    [^\x00-\xff] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))
</pre>

<h3 id="org-15014257228797">空白行的正则表达式：</h3>

<pre class="example">
    \n\s*\r (可以用来删除空白行)
</pre>

<h3 id="org-15014257228797">HTML标记的正则表达式：</h3>

<pre class="example">
    <(\S*?)[^>]*>.*?</\1>|<.*? />
</pre>

<h3 id="org-15014257228797">首尾空白字符的正则表达式：</h3>

<pre class="example">
    ^\s*|\s*$或(^\s*)|(\s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)
</pre>

<h3 id="org-15014257228797">腾讯QQ号：</h3>

<pre class="example">
    [1-9][0-9]{4,} (腾讯QQ号从10000开始)
</pre>

<h3 id="org-15014257228797">中国邮政编码：</h3>

<pre class="example">
    [1-9]\d{5}(?!\d) (中国邮政编码为6位数字)
</pre>

<h3 id="org-15014257228798">IP地址：</h3>

<pre class="example">
    \d+\.\d+\.\d+\.\d+ (提取IP地址时有用)
</pre>

<h3 id="org-15014257228798">IP地址：</h3>

<pre class="example">
    ((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))
</pre>

        </div><!-- /.entry-content -->
        <div class="comments">
            <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
             var disqus_identifier = "articles/2016/11/常用正则表达式.html";
             (function() {
                 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                 dsq.src = 'https://honmaple.disqus.com/embed.js';
                 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             })();
            </script>
        </div>

    </article>
</section>
      </div>
    </div>
    <div class="footer">
      <section id="extras">
          <div class="blogroll">
            <h2>blogroll</h2>
            <ul>
                <li><a href="http://getpelican.com/">Pelican</a></li>
                <li><a href="http://python.org/">Python.org</a></li>
                <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                <li><a href="https://honmaple.com">个人博客</a></li>
            </ul>
          </div><!-- /.blogroll -->
          <div class="social">
            <h2>social</h2>
            <ul>
                <li><a href="http://honmaple.org/feeds/all.rss.xml">Atom Feed</a></li>
                <li><a href="https://github.com/honmaple">GitHub</a></li>
                <li><a href="https://twitter.com/xiyang87">Twitter</a></li>
            </ul>
          </div><!-- /.social -->
      </section><!-- /#extras -->
    </div>

<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-88401692-2', 'auto');
 ga('send', 'pageview');

</script>
<script type="text/javascript">
    var disqus_shortname = 'honmaple';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    <script src="https://cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
    <script type="text/javascript" src="../../../theme/js/particles.js"></script>
  </body>
</html>