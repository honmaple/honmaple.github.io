<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Snow静态博客生成器 · 紅楓吟</title>
      <link href="https://s.libforest.com/static/css/lib.min.css" rel="stylesheet">
        <link href="https://honmaple.me/static/lib/css/style.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="scrollbar"></div>

    <div class="wrap">
      <div class="main"><nav class="navbar navbar-default">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-header" aria-expanded="false">
      <span class="sr-only"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="https://honmaple.me">
      <img class="navbar-logo" src="https://s.libforest.com/images/header/header-logo.png" alt="楓">
    </a>
      <p class="navbar-text">—— 风落花语风落天，花落风雨花落田.</p>
  </div>
  <div class="collapse navbar-collapse" id="nav-header">
    <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="https://honmaple.me/categories/life/index.html">代码人生</a>
              <ul class="dropdown-menu">
                  <li><a href="https://honmaple.me/categories/life/love/index.html">你不懂我</a></li>
                  <li><a href="https://honmaple.me/categories/life/coding/index.html">分享世界</a></li>
                  <li><a href="https://honmaple.me/categories/life/recall/index.html">我不怪你</a></li>
              </ul>
            </li>
            <li><a href="https://honmaple.me/categories/linux/index.html">字符艺术</a></li>
            <li><a href="https://honmaple.me/categories/python/index.html">人生苦短</a></li>
            <li><a href="https://honmaple.me/categories/security/index.html">极客安全</a></li>
          <li class="dropdown">
            <a href="https://honmaple.me/archives/index.html">文章归档</a>
            <ul class="dropdown-menu">
                <li><a href="https://honmaple.me/tags/index.html">标签</a></li>
                <li><a href="https://honmaple.me/categories/index.html">分类</a></li>
                <li><a href="https://honmaple.me/authors/index.html">作者</a></li>
            </ul>
          </li>
          <li><a href="https://honmaple.me/pages/about.html">关于</a></li>
    </ul>
    <form action="https://honmaple.me/search.html" class="navbar-form navbar-right" style="margin-top:10px;">
      <div class="form-group has-feedback">
        <input class="form-control input-sm" id="search" name="q" type="text" onfocus="this.placeholder='搜索'" onblur="this.placeholder=''">
        <i class="fa fa-search form-control-feedback"></i>
      </div>
    </form>
  </div>
</nav>

  <article>
    <div class="entry-header">
      <h1 class="entry-title"><a href="https://honmaple.me/articles/2022/10/Snow静态博客生成器.html">Snow静态博客生成器</a></h1><header class="entry-info">
  <span title="Updated at 2022-11-02">
    <i class="fa fa-calendar-o"></i>
    2022-10-16 Sun
  </span>
    <span class="entry-info-sep hidden-xs">|</span>
    <span class="hidden-xs">
      <i class="fa fa-user-o"></i>
      By
        <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-folder-o"></i>
      In
        <a href="">Linux</a>
    </span>
    <span class="entry-info-sep">|</span>
    <span>
      <i class="fa fa-bookmark-o"></i>
      0f
        <a href="https://honmaple.me/tags/linux/index.html">linux</a>
        <a href="https://honmaple.me/tags/snow/index.html">snow</a>
    </span>
</header>

    </div>
    <hr class="entry-hr" />
    <div class="entry-content">
      <div id="table-of-contents"><h2>Table of Contents</h2><div id="text-table-of-contents"><ul>
<li><a href="#heading-1">Snow</a>
<ul>
<li><a href="#heading-1.1">快速开始</a>
<ul>
<li><a href="#heading-1.1.1">创建新的站点</a></li>
<li><a href="#heading-1.1.2">创建新的文章</a></li>
<li><a href="#heading-1.1.3">编译和预览</a></li>
</ul></li>
<li><a href="#heading-1.2">配置说明</a>
<ul>
<li><a href="#heading-1.2.1">文章列表</a></li>
<li><a href="#heading-1.2.2">静态文件</a></li>
<li><a href="#heading-1.2.3">主题</a></li>
<li><a href="#heading-1.2.4">动态页</a>
<ul>
<li><a href="#heading-1.2.4.1">详情页</a></li>
<li><a href="#heading-1.2.4.2">列表页</a></li>
<li><a href="#heading-1.2.4.3">归档页</a></li>
</ul></li>
<li><a href="#heading-1.2.5">本地测试和正式发布</a></li>
</ul></li>
</ul></li>
</ul></div></div>

<h1 id="heading-1">Snow</h1>
<blockquote>
<p>
  一个<b>简单却可配置</b>的静态博客生成器。
 很早之前(三年前)就想写一个静态博客生成器，但苦于一直没有时间，最近把之前写的重构了一下，让其可以支持更多的定制化配置。
</p>
</blockquote>

<p>
  <b>至于为什么要重新写一个</b>:
</p>
<ol>
<li>
<p>
 大概是因为想要把之前未完成的轮子补充完整
</p></li>
<li>
<p>
 我目前使用的博客系统使用的是 <b>pelican</b>，一个基于 <b>Python</b> 的静态博客生成器，目前里面包括了很多我自己写的插件，比如 <code>Emacs org mode</code> 的支持、文章加密、模版定制等，因为需要大量遍历所有文章，导致生成速度越来越慢，还有一点就是因为使用的是 <b>Python</b>，每次本地预览时都需要切换到虚拟环境
</p></li>
<li>
<p>
 我习惯使用 <b>Emacs + Org</b>，除了前期的几篇文章，后面都是使用 <b>org mode</b> 书写，之前是因为 <b>Python</b> 没有一个好用的 <b>org mode</b> 解析库，所以专门写了一个 <code>org-python</code> 用来解析 <b>org mode</b>；最近我也是完善了另一个我很早之前就写的 <code>org-golang</code> 解析库(轮子+1)，准备趁次机会利用一下这个库
</p></li>
<li>
<p>
 至于为什么不用最近几年流行的 <b>Hugo</b>, 因为我想要保持和我使用 <b>Pelican</b> 时一样的功能，比如文章加密，而 <b>hugo</b> 并不支持插件，想要自定义插件必须复制大段大段的启动函数, 甚至需要修改源代码。同样我想要定制一个相同的模版，而对于使用过其它模版系统如Django，jinja2, 再来使用 <b>Go内置模版</b> 的人来说, <b>hugo</b> 的内置模版除了难用就是难用，这也是我此次选用 <b>pongo2</b> 的原因
</p></li>
<li>
<p>
 我的设想是提供插件的接口，并提供一个足够简单的启动函数, 在有用户需要自定义插件时只需要自己创建一个包, 使用三两行代码就能注册自定义插件并重新编译自己的snow
</p>
</li>
</ol>
<h2 id="heading-1.1">快速开始</h2>
<pre class="src src-example">└──╼ ./snow --help
NAME:
   snow - snow is a static site generator.

USAGE:
   snow [global options] command [command options] [arguments...]

VERSION:
   0.1.0

COMMANDS:
   init     init a new site
   build    build and output
   server   server local files
   help, h  Shows a list of commands or help for one command

GLOBAL OPTIONS:
   --conf FILE, -c FILE  load configuration from FILE (default: &#34;config.yaml&#34;)
   --help, -h            show help (default: false)
   --version, -v         print the version (default: false)</pre>
<h3 id="heading-1.1.1">创建新的站点</h3>
<pre class="src src-example">──╼ ./snow init exmaple.com
Welcome to snow 0.1.0.
&gt; Where do you want to create your new web site? [exmaple.com]
&gt; What will be the title of this web site? Custom Title
&gt; Who will be the author of this web site? snow
&gt; What is your URL prefix? (see above example; no trailing slash) https://example.com</pre>

<h3 id="heading-1.1.2">创建新的文章</h3>
<pre class="src src-example">└──╼ cd example.com
└──╼ mkdir -p content/posts
└──╼ cat &gt; content/posts/first-post.org &lt;<eof> #+TITLE: Post1
&gt; #+AUTHOR: honmaple
&gt; #+DATE: 2021-10-06 14:57:51
&gt; #+CATEGORY: Linux
&gt; #+PROPERTY: MODIFIED 2022-10-13 00:04:38
&gt; #+PROPERTY: TAGS linux
&gt;
&gt;
&gt; post1
&gt; EOF</pre>

<h3 id="heading-1.1.3">编译和预览</h3>
<pre class="src src-example">──╼ ./snow server -D
──╼ ./snow server -D
DEBU Writing output/posts/2021/10/Post1.html
DEBU Writing output/categories/index.html
DEBU Writing output/categories/linux/index.html
DEBU Writing output/index.html
DEBU Writing output/tags/index.html
DEBU Writing output/tags/linux/index.html
DEBU Writing output/authors/index.html
DEBU Writing output/archives/index.html
INFO Done: Processed 1 pages in 133.999021ms
INFO Listen 127.0.0.1:8000 ...</pre>

<h2 id="heading-1.2">配置说明</h2>
<h3 id="heading-1.2.1">文章列表</h3>
<p>
   文章列表配置:
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">content_dir</span>: <span style="color:#e6db74">&#34;content&#34;</span>
<span style="color:#66d9ef">page_dirs</span>:
  - <span style="color:#e6db74">&#34;drafts&#34;</span>
  - <span style="color:#e6db74">&#34;posts&#34;</span>
<span style="color:#66d9ef">page_meta</span>:
  <span style="color:#66d9ef">index</span>:
    <span style="color:#66d9ef">list.lookup</span>:
      - <span style="color:#e6db74">&#34;index.html&#34;</span>
    <span style="color:#66d9ef">list.output</span>: <span style="color:#e6db74">&#34;index{number}.html&#34;</span>
<span style="color:#66d9ef">page_filter</span>: <span style="color:#e6db74">&#34;-drafts&#34;</span>
<span style="color:#66d9ef">page_orderby</span>: <span style="color:#e6db74">&#34;date desc,title&#34;</span></pre>
<ul>
<li>
<p>
 <b>content_dir</b>: 文章目录所在, 其中该目录下应该包括一系列子目录，这些子目录的名称对应为 <b>文章的类型</b>, 比如 <b>content/drafts/</b> 目录下的文章类型为 <b>drafts</b>, 当然也可以直接在文章文件头添加 <code>type: drafts</code>
</p></li>
<li>
<p>
 <b>page_dirs</b>: 所有类型的文章列表，当 <b>page_dirs</b> 为空时，snow将会搜索 <b>content</b> 目录下的所有子目录
</p></li>
<li>
<p>
 <b>page_meta</b>: 文章页面元数据，所有页面的生成都和该配置有关，具体见下文
</p></li>
<li>
<p>
 <b>page_filter</b>: 全局的文章列表筛选，格式见下文
</p></li>
<li>
<p>
 <b>page_orderby</b>: 全局的文章列表排序
</p></li>
<li>
<p>
 <b>page_paginate</b>: 全局的文章列表分页大小
</p></li>
</ul>
<h3 id="heading-1.2.2">静态文件</h3>
<p>
   静态文件配置:
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">static_exts</span>:
  - <span style="color:#e6db74">&#34;.js&#34;</span>
  - <span style="color:#e6db74">&#34;.css&#34;</span>
<span style="color:#66d9ef">static_dirs</span>:
  - <span style="color:#e6db74">&#34;static/&#34;</span>
  - <span style="color:#e6db74">&#34;static/css/&#34;</span>
<span style="color:#66d9ef">static_meta</span>:
  <span style="color:#66d9ef">static/CNAME</span>: <span style="color:#e6db74">&#34;/&#34;</span>
  <span style="color:#66d9ef">static/css/main.css</span>: <span style="color:#e6db74">&#34;static/css/&#34;</span>
  <span style="color:#66d9ef">theme/static</span>: <span style="color:#e6db74">&#34;static/&#34;</span>
<span style="color:#66d9ef">output_dir</span>: <span style="color:#e6db74">&#34;output&#34;</span></pre>
<ul>
<li>
<p>
 <b>static_dirs</b>: 静态文件目录, 该目录区分主题的静态文件static
</p></li>
<li>
<p>
 <b>static_exts</b>: 静态文件扩展，不配置将会使用静态文件目录下的所有文件
</p></li>
<li>
<p>
 <b>static_meta</b>: 静态文件元数据，用于指定静态文件或静态目录的保存目录, 当有多条路径时，长度优先
</p>
<ul>
<li>
<p>
 <b>/</b>: 保存到 <b>output</b>
</p></li>
<li>
<p>
 <b>theme/static</b>: 指定主题的静态文件保存目录
</p></li>
</ul></li>
</ul>
<h3 id="heading-1.2.3">主题</h3>
<p>
   主题配置:
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">theme</span>:
  <span style="color:#66d9ef">path</span>: <span style="color:#e6db74">&#34;themes/test-theme&#34;</span>
  <span style="color:#66d9ef">engine</span>: <span style="color:#e6db74">&#34;pongo2&#34;</span>
  <span style="color:#66d9ef">override</span>: <span style="color:#e6db74">&#34;layouts&#34;</span></pre>
<ul>
<li>
<p>
 <b>path</b>: 主题目录, 内置主题: <b>simple</b>
</p></li>
<li>
<p>
 <b>engine</b>: 主题模版引擎, 当前只支持 <b>pongo2</b>
</p></li>
<li>
<p>
 <b>override</b>: 主题模版覆盖目录, 比如一个存在的主题可以增加同名的文件到 <b>override</b> 配置的目录, snow将会优先使用该文件
</p></li>
<li>
<p>
 <b>主题目录结构</b>:
     其中 <b>templates</b> 和 <b>static</b> 名称不可修改
</p>
<pre class="src src-example">simple/
├── templates
│   ├── post.html
│   ├── index.html
│   ├── archives.html
├── static
│   ├── main.css</pre>
</li>
</ul>
<h3 id="heading-1.2.4">动态页</h3>
<p>
   在snow中所有的页面都是根据配置和主题模板进行生成, 其中动态页面分为三类:
</p>
<h4 id="heading-1.2.4.1">详情页</h4>
<p>
    详情页的配置为 <code>page_meta.xxx</code>, 其中 <b>xxx</b> 必须是所有页面类型中的一种, 比如 <code>page_meta.posts</code>, <code>page_meta.pages</code> 等, 示例:
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">page_meta</span>:
  <span style="color:#66d9ef">posts</span>:
    <span style="color:#66d9ef">lookup</span>:
      - <span style="color:#e6db74">&#34;post.html&#34;</span>
    <span style="color:#66d9ef">output</span>: <span style="color:#e6db74">&#34;posts/{date:%Y}/{date:%m}/{slug}.html&#34;</span>
  <span style="color:#66d9ef">pages</span>:
    <span style="color:#66d9ef">lookup</span>:
      - <span style="color:#e6db74">&#34;page.html&#34;</span>
      - <span style="color:#e6db74">&#34;post.html&#34;</span>
    <span style="color:#66d9ef">output</span>: <span style="color:#e6db74">&#34;pages/{slug}.html&#34;</span>
  <span style="color:#66d9ef">drafts</span>:
    <span style="color:#66d9ef">lookup</span>:
      - <span style="color:#e6db74">&#34;post.html&#34;</span>
    <span style="color:#66d9ef">output</span>: <span style="color:#e6db74">&#34;drafts/{date:%Y}/{date:%m}/{slug}.html&#34;</span></pre>
<ul>
<li>
<p>
 <b>lookup</b>: 主题中查找的模版文件
</p></li>
<li>
<p>
 <b>output</b>: 写入的文件路径, <b>slug</b> 为页面标题
</p></li>
<li>
<p>
 <b>output变量</b>:
</p>
<table>

<tr>
<td class="align-">变量</td>
<td class="align-">描述</td>
</tr>

<tr>
<td class="align-">{date:%Y}</td>
<td class="align-">创建文章的年份</td>
</tr>
<tr>
<td class="align-">{date:%m}</td>
<td class="align-">创建文章的月份</td>
</tr>
<tr>
<td class="align-">{date:%d}</td>
<td class="align-">创建文章的日期</td>
</tr>
<tr>
<td class="align-">{date:%H}</td>
<td class="align-">创建文章的小时</td>
</tr>
<tr>
<td class="align-">{slug}</td>
<td class="align-">文章标题或自定义slug</td>
</tr>
<tr>
<td class="align-">{filename}</td>
<td class="align-">文件名称(不带后缀名)</td>
</tr>
</table>
</li>
<li>
<p>
 <b>模版变量</b>:
</p>
<table>

<tr>
<td class="align-">变量</td>
<td class="align-">描述</td>
</tr>

<tr>
<td class="align-">page</td>
<td class="align-"></td>
</tr>
<tr>
<td class="align-">page.Title</td>
<td class="align-">页面标题</td>
</tr>
<tr>
<td class="align-">page.URL</td>
<td class="align-">页面链接</td>
</tr>
<tr>
<td class="align-">page.Categories</td>
<td class="align-">页面分类</td>
</tr>
<tr>
<td class="align-">page.Tags</td>
<td class="align-">页面标签</td>
</tr>
<tr>
<td class="align-">page.Authors</td>
<td class="align-">页面作者</td>
</tr>
<tr>
<td class="align-">page.Summary</td>
<td class="align-">页面简介</td>
</tr>
<tr>
<td class="align-">page.Content</td>
<td class="align-">页面内容</td>
</tr>
<tr>
<td class="align-">page.Meta.xxx</td>
<td class="align-">自定义的元数据</td>
</tr>
<tr>
<td class="align-">page.Prev</td>
<td class="align-">上一篇</td>
</tr>
<tr>
<td class="align-">page.Next</td>
<td class="align-">下一篇</td>
</tr>
<tr>
<td class="align-">page.HasPrev()</td>
<td class="align-">是否有上一篇</td>
</tr>
<tr>
<td class="align-">page.HasNext()</td>
<td class="align-">是否有下一篇</td>
</tr>
<tr>
<td class="align-">page.PrevInType</td>
<td class="align-">同一类型上一篇</td>
</tr>
<tr>
<td class="align-">page.NextInType</td>
<td class="align-">同一类型下一篇</td>
</tr>
<tr>
<td class="align-">page.HasPrevInType()</td>
<td class="align-">是否有同一类型上一篇</td>
</tr>
<tr>
<td class="align-">page.HasNextInType()</td>
<td class="align-">是否有同一类型下一篇</td>
</tr>
</table>
</li>
</ul>
<h4 id="heading-1.2.4.2">列表页</h4>
<p>
    列表页的配置为 <code>page_meta.xxx.list</code>, 其中 <b>xxx</b> 可以是除页面类型以外的任意名称, 比如 <code>page_meta.tags.list</code>, <code>page_meta.mycustom.list</code> 等, 示例:
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">page_meta</span>:
  <span style="color:#66d9ef">index</span>:
    <span style="color:#66d9ef">list.lookup</span>:
      - <span style="color:#e6db74">&#34;index.html&#34;</span>
    <span style="color:#66d9ef">list.output</span>: <span style="color:#e6db74">&#34;index{number}.html&#34;</span>
    <span style="color:#66d9ef">list.filter</span>: <span style="color:#e6db74">&#34;-pages&#34;</span>
    <span style="color:#66d9ef">list.paginate</span>: <span style="color:#ae81ff">5</span>
  <span style="color:#66d9ef">tags</span>:
    <span style="color:#66d9ef">list.lookup</span>:
      - <span style="color:#e6db74">&#34;tag.html&#34;</span>
    <span style="color:#66d9ef">list.output</span>: <span style="color:#e6db74">&#34;tags/{slug}/index{number}.html&#34;</span>
    <span style="color:#66d9ef">list.filter</span>: <span style="color:#e6db74">&#34;-pages&#34;</span>
    <span style="color:#66d9ef">list.groupby</span>: <span style="color:#e6db74">&#34;tag&#34;</span>
    <span style="color:#66d9ef">list.paginate</span>: <span style="color:#ae81ff">10</span></pre>
<ul>
<li>
<p>
 <b>output</b>: 列表页和详情页不同，列表页可能会根据不同的分页大小写入多个文件, 其中分页由 <b>output</b> 中的 <code>{number}</code> 决定, 比如上述的 <code>tags.list.output</code>, 假如有36篇 <b>tag</b> 为 <b>linux</b> 的页面, 写入的文件为:
</p>
<pre class="src src-example">[output_dir]/tags/linux/index.html
[output_dir]/tags/linux/index1.html
[output_dir]/tags/linux/index2.html
[output_dir]/tags/linux/index3.html</pre>
<p>
        <code>{number}</code> 在第一页时会自动配置成空字符串，如果需要禁止该动作，可以使用 <code>{number:one}</code> 代替
</p></li>
<li>
<p>
 <b>groupby</b>: 如果想要配置按标签或者分类进行分组, 并写入不同的分组文件，可以配置 <b>groupby</b> 字段，目前可选: type、tag、category、author 和 date:xxx, 其中 <b>date:xxx</b> 中的xxx为Go格式化时间格式, 比如 <b>date:2006</b> 表示按年分组
</p></li>
<li>
<p>
 <b>filter</b>: 列表显示需要提前筛选不想展示的页面，可以配置 <b>filter</b> 字段, 格式:
</p>
<ul>
<li>
<p>
 字符串格式: <code>type1</code> 表示只展示类型为type1的页面, <code>-type2</code> 表示排除类型为type1的页面, 多个类型使用英文逗号分隔
</p></li>
<li>
<p>
 字典格式:
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">page_meta</span>:
  <span style="color:#66d9ef">tags</span>:
    <span style="color:#66d9ef">list.filter</span>:
      <span style="color:#66d9ef">type</span>: <span style="color:#e6db74">&#34;type1,-type2&#34;</span>
      <span style="color:#66d9ef">tag</span>: <span style="color:#e6db74">&#34;tag1,tag2,-tag3&#34;</span>
      <span style="color:#66d9ef">author</span>: <span style="color:#e6db74">&#34;author1&#34;</span>
      <span style="color:#66d9ef">category</span>: <span style="color:#e6db74">&#34;category&#34;</span></pre>
<p>
        其中任意字段都可以使用前缀 <code>-</code> 排除相应的页面
</p></li>
</ul></li>
<li>
<p>
 <b>paginate</b>: 分页大小, 0代表不分页，默认的分页在 <b>page_pagniate</b>
</p></li>
<li>
<p>
 <b>模版变量</b>:
</p>
<table>

<tr>
<td class="align-">变量</td>
<td class="align-">描述</td>
</tr>

<tr>
<td class="align-">paginator</td>
<td class="align-"></td>
</tr>
<tr>
<td class="align-">paginator.URL</td>
<td class="align-">分页链接</td>
</tr>
<tr>
<td class="align-">paginator.PageNum</td>
<td class="align-">当前页</td>
</tr>
<tr>
<td class="align-">paginator.Total</td>
<td class="align-">总页数</td>
</tr>
<tr>
<td class="align-">paginator.HasPrev()</td>
<td class="align-">是否有上一页</td>
</tr>
<tr>
<td class="align-">paginator.Prev</td>
<td class="align-">上一页</td>
</tr>
<tr>
<td class="align-">paginator.Prev.URL</td>
<td class="align-">上一页链接</td>
</tr>
<tr>
<td class="align-">paginator.HasNext()</td>
<td class="align-">是否有下一页</td>
</tr>
<tr>
<td class="align-">paginator.Next</td>
<td class="align-">下一页</td>
</tr>
<tr>
<td class="align-">paginator.Next.URL</td>
<td class="align-">下一页链接</td>
</tr>
<tr>
<td class="align-">paginator.All</td>
<td class="align-">所有页</td>
</tr>
<tr>
<td class="align-">paginator.List</td>
<td class="align-">当前页文章列表</td>
</tr>
<tr>
<td class="align-">slug</td>
<td class="align-">分组key</td>
</tr>
</table>
</li>
</ul>
<h4 id="heading-1.2.4.3">归档页</h4>
<p>
    归档页表示所有分组页面的集合, 比如所有的标签，所有的作者或类型
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">page_meta</span>:
  <span style="color:#66d9ef">tags</span>:
    <span style="color:#66d9ef">lookup</span>:
      - <span style="color:#e6db74">&#34;tags.html&#34;</span>
    <span style="color:#66d9ef">output</span>: <span style="color:#e6db74">&#34;tags/index.html&#34;</span>
  <span style="color:#66d9ef">archives</span>:
    <span style="color:#66d9ef">lookup</span>:
      - <span style="color:#e6db74">&#34;archives.html&#34;</span>
    <span style="color:#66d9ef">output</span>: <span style="color:#e6db74">&#34;archives/index.html&#34;</span></pre>
<ul>
<li>
<p>
 <b>模版变量</b>:
</p>
<table>

<tr>
<td class="align-">变量</td>
<td class="align-">描述</td>
</tr>

<tr>
<td class="align-">labels</td>
<td class="align-">分组列表</td>
</tr>
<tr>
<td class="align-">pages</td>
<td class="align-">文章列表</td>
</tr>
</table>
</li>
</ul>
<h3 id="heading-1.2.5">本地测试和正式发布</h3>
<p>
   snow 提供了 <b>mode</b> 配置用于区分本地测试和正式发布
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">site</span>:
  <span style="color:#66d9ef">url</span>: <span style="color:#e6db74">&#34;http://127.0.0.1:8000&#34;</span>
<span style="color:#66d9ef">output_dir</span>: <span style="color:#e6db74">&#34;output&#34;</span>

<span style="color:#66d9ef">mode.publish</span>:
  <span style="color:#66d9ef">site</span>:
    <span style="color:#66d9ef">url</span>: <span style="color:#e6db74">&#34;https://example.com&#34;</span>
  <span style="color:#66d9ef">output_dir</span>: <span style="color:#e6db74">&#34;xxx&#34;</span>

<span style="color:#66d9ef">mode.develop</span>:
  <span style="color:#66d9ef">include</span>: <span style="color:#e6db74">&#34;develop.yaml&#34;</span></pre>
<p>
   只要在构建时使用 <code>snow build --mode publish</code> 即可覆盖本地默认配置
</p>
    </div><div class="entry-copyright">
      <div>
        <i class="fa fa-user-o"></i>
        作者:
          <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
      </div>
  <div>
    <i class="fa fa-link"></i>
    链接:
    <a href="https://honmaple.me/articles/2022/10/Snow静态博客生成器.html">https://honmaple.me/articles/2022/10/Snow静态博客生成器.html</a>
  </div>
  <div>
    <i class="fa fa-copyright"></i>
    版权:
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">
      <img class="hidden-xs" src="https://static.honmaple.com/images/pic/license.png" alt="CC BY-NC-SA 4.0" />
      知识共享署名-非商业性使用-相同方式共享4.0国际许可协议
    </a>
  </div>
</div>

<div class="entry-honor">
  <button class="btn" data-target="#entry-honor-content" data-toggle="collapse">赏</button>
  <div class="collapse" id="entry-honor-content">
    <div class="entry-honor-content">
      <div class="entry-honor-alipay">
        <div class="entry-honor-mask">
          <button class="btn btn-success" data-target=".entry-honor-wechat" data-toggle="collapse">
            <i class="fa fa-wechat"></i>
            <span>微信</span>
          </button>
        </div>
      </div>
      <div class="entry-honor-wechat collapse">
        <img src="https://static.honmaple.com/images/pic/wechat.png" alt="wechat" />
      </div>
    </div>
  </div>
</div>

    <hr class="entry-hr" />
    <ul class="entry-pager">
        <li class="previous">
          <a href="https://honmaple.me/articles/2022/11/人生中的第一台组装电脑.html" title="Previous article: 人生中的第一台组装电脑">
            <i class="fa fa-chevron-left"></i>
            人生中的第一台组装电脑
          </a>
        </li>
        <li class="next">
          <a href="https://honmaple.me/articles/2021/11/Emacs笔记之minibuffer默认输入.html" title="Next article: Emacs笔记之minibuffer默认输入">
            Emacs笔记之minibuffer默认输入
            <i class="fa fa-chevron-right"></i>
          </a>
        </li>
    </ul>
  <div class="comments">
    <div class="text-center">
      <a class="btn entry-read-more entry-comment">加载评论</a>
    </div>
    <div id="comment_thread" issue-term="Snow静态博客生成器"></div>
  </div>

  </article>
      </div>
    </div><div class="entry-footer">
  <ul class="entry-footer-left">
    <li class="hidden-xs">© 2015-2023 honmaple</li>
    <li class="hidden-xs">·</li>
    <li>
        <a href="https://honmaple.me/pages/friends.html">友链</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/contact.html">联系</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/project.html">项目</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/timeline.html">时间轴</a>
    </li>
  </ul>
  <ul class="entry-footer-right">
    <li><a class="entry-switch-theme" title="Moon"><i class="fa fa-moon-o"></i></a></li>
      <li><a href="https://honmaple.me/pages/music.html" title="Music"><i class="fa fa-music"></i></a></li>
      <li class="hidden-xs"><a href="https://honmaple.me/pages/music.html" title="Feed"><i class="fa fa-feed"></i></a></li>
      <li><a href="https://github.com/honmaple" title="Github"><i class="fa fa-github"></i></a></li>
      <li><a href="https://honmaple.me/pages/travel.html" title="Camera"><i class="fa fa-camera"></i></a></li>
      <li><a href="https://honmaple.me/pages/contact.html" title="Contact"><i class="fa fa-envelope"></i></a></li>
  </ul>
</div>
<div class="back-to-top back-to-top-on">
  <i class="fa fa-hand-o-up" title="back to top"></i>
</div>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88401692-2"></script>
  <script>
     window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'UA-88401692-2');
  </script>


      <script src="https://s.libforest.com/static/js/lib.min.js"></script>
        <script src="https://honmaple.me/static/lib/js/script.min.js"></script>
      <script src="https://s.libforest.com/static/js/instantclick.min.js" data-no-instant></script>
      <script data-no-instant>
       InstantClick.on('change', function() {
         if (typeof ga !== 'undefined') {
           ga('send', 'pageview', location.pathname + location.search);
         }
       });
       InstantClick.init(60);
      </script>
  </body>
</html>
