<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MacOS环境配置 · 紅楓吟</title>
      <link href="https://s.libforest.com/static/css/lib.min.css" rel="stylesheet">
        <link href="https://honmaple.me/static/lib/css/style.min.css" rel="stylesheet">
      <script src="https://honmaple.me/static/lib/js/before.min.js"></script>
  </head>
  <body>
    <div class="scrollbar"></div>

    <div class="wrapper"><nav class="entry-navbar">
  <div class="entry-navbar-top">
    <a href="https://honmaple.me">
      <img class="entry-navbar-logo" src="https://s.libforest.com/images/header/header-logo.png" alt="楓">
    </a>
      <p class="entry-navbar-text">—— 风落花语风落天，花落风雨花落田.</p>
    <button class="entry-navbar-collapse" data-target=".entry-navbar-bottom" data-toggle="collapse">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" /></svg>
    </button>
  </div>
  <div class="entry-navbar-bottom">
    <ul class="entry-navbar-menu">
          <li class="entry-dropdown">
            <a href="https://honmaple.me/categories/life/index.html">生活随笔</a>
            <ul class="entry-dropdown-content">
                <li><a href="https://honmaple.me/categories/life/love/index.html">你不懂我</a></li>
                <li><a href="https://honmaple.me/categories/life/recall/index.html">我不怪你</a></li>
            </ul>
          </li>
          <li class="entry-dropdown">
            <a href="https://honmaple.me/categories/tech/index.html">技术分享</a>
            <ul class="entry-dropdown-content">
                <li><a href="https://honmaple.me/categories/tech/coding/index.html">代码世界</a></li>
                <li><a href="https://honmaple.me/categories/tech/geek/index.html">极客安全</a></li>
                <li><a href="https://honmaple.me/categories/tech/linux/index.html">字符艺术</a></li>
            </ul>
          </li>
          <li class="entry-dropdown">
            <a href="https://honmaple.me/archives/index.html">文章归档</a>
            <ul class="entry-dropdown-content">
                <li><a href="https://honmaple.me/tags/index.html">标签</a></li>
                <li><a href="https://honmaple.me/categories/index.html">分类</a></li>
                <li><a href="https://honmaple.me/authors/index.html">作者</a></li>
            </ul>
          </li>
          <li><a href="https://honmaple.me/pages/about.html">关于</a></li>
    </ul>
    <form class="entry-navbar-form" action="https://honmaple.me/search.html">
      <input name="q" type="text" onfocus="this.placeholder='搜索'" onblur="this.placeholder=''" />
      <i class="fa fa-search"></i>
    </form>
  </div>
</nav>

  <article class="entry-article">
    <div class="entry-article-header">
    <h1 class="entry-article-title">
      <a href="https://honmaple.me/articles/2025/04/macoshuan-jing-pei-zhi.html" rel="bookmark" title="Permalink to MacOS环境配置">MacOS环境配置</a>
    </h1>
      <div class="entry-article-info">
        <span title="Updated at 2025-10-26">
          <i class="fa fa-calendar-o"></i>
          2025年04月18日 周五
        </span>
          <span>|</span>
          <span>
            <i class="fa fa-folder-o"></i>
            分类
              <a href="https://honmaple.me/categories/tech/index.html">Tech</a>
          </span>
          <span>|</span>
          <span>
            <i class="fa fa-bookmark-o"></i>
            标签
              <a href="https://honmaple.me/tags/macos/index.html">macos</a>
          </span>
      </div>
  </div>
    <hr class="entry-article-hr" />
    <div class="entry-article-content">
      <div id="table-of-contents"><h2>Table of Contents</h2><div id="text-table-of-contents"><ul>
<li><a href="#heading-1">设置</a>
<ul>
<li><a href="#heading-1.1">App Store</a></li>
<li><a href="#heading-1.2">终端</a></li>
</ul></li>
<li><a href="#heading-2">必备软件</a>
<ul>
<li><a href="#heading-2.1">homebrew</a></li>
<li><a href="#heading-2.2">betterdisplay</a></li>
<li><a href="#heading-2.3">clash-verge-rev</a></li>
<li><a href="#heading-2.4">google-chrome</a></li>
<li><a href="#heading-2.5">yabai</a></li>
<li><a href="#heading-2.6">hammerspoon</a></li>
<li><a href="#heading-2.7">Localsend</a></li>
<li><a href="#heading-2.8">inkscape</a></li>
<li><a href="#heading-2.9">wireshark</a></li>
</ul></li>
<li><a href="#heading-3">开发软件</a>
<ul>
<li><a href="#heading-3.1">Emacs</a></li>
<li><a href="#heading-3.2">Docker</a></li>
<li><a href="#heading-3.3">Ruby</a></li>
<li><a href="#heading-3.4">Python</a></li>
<li><a href="#heading-3.5">Golang</a></li>
<li><a href="#heading-3.6">Protobuf</a></li>
<li><a href="#heading-3.7">Android</a></li>
<li><a href="#heading-3.8">Flutter</a></li>
<li><a href="#heading-3.9">Node</a></li>
<li><a href="#heading-3.10">Rust</a></li>
<li><a href="#heading-3.11">Other</a></li>
</ul></li>
</ul></div></div>

<blockquote>
<p>
最近实在没忍住，以 <b>2944</b> 的价格入手了一台 <b>mac mini m4</b> 丐版，而我之前一直使用的是一台2019年 <b>Intel</b> 芯片的 <b>macbook pro</b>，因为刚开始使用，开发环境还没配置好，所以还没感觉到明显地提升，但至少我的桌面倒是干净了不少。
</p>

<p>
此次入手 <b>mac mini</b> 后我使用 <b>迁移助理</b> 对旧数据进行迁移，不幸的是，由于是 <b>Intel</b> 迁移至 <b>Apple Silicon</b>，所以出现了各种各样的问题，尤其是 <code>Bad CPU type in executable</code> 错误，导致 git、python等二进制文件全部不可用，最后只能重置系统并重头开始配置(注：重置系统只需要到 <code>设置 -&gt; 通用 -&gt; 传输与还原 -&gt; 抹掉所有内容和设置</code>，不用长按开机键进入选项抹掉磁盘)
</p>
</blockquote>

<h2 id="heading-1">设置</h2>
<h3 id="heading-1.1">App Store</h3>
<p>
    因为我一般都是美区ID+国区商店，所以打开 <b>App Store</b>，在左上方的菜单栏中找到 <code>商店 -&gt; 退出登录</code>，并登入国区ID
</p>

<h3 id="heading-1.2">终端</h3>
<p>
    我还是习惯使用 <code>bash</code>
</p>
<pre style="color:#f8f8f2;background-color:#272822">chsh -s /bin/bash</pre>

<p>
    并且有使用了十多年的PS1配置
</p>
<pre style="color:#f8f8f2;background-color:#272822">git_status<span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    cmd<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>git branch 2&gt; /dev/null | sed -e <span style="color:#e6db74">&#39;/^[^*]/d&#39;</span> -e <span style="color:#e6db74">&#39;s/[(（]//&#39;</span> -e <span style="color:#e6db74">&#39;s/[）)]//&#39;</span>  -e <span style="color:#e6db74">&#39;s/* \(.*\)/(\1)/&#39;</span><span style="color:#e6db74">`</span>
    echo -en <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">\033[32m</span>$cmd<span style="color:#e6db74">\033[0m</span><span style="color:#e6db74">&#34;</span>
<span style="color:#f92672">}</span>
proxy_status<span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">[</span><span style="color:#f92672">[</span> -z <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>http_proxy<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span><span style="color:#f92672">]</span> <span style="color:#f92672">||</span> echo -en <span style="color:#e6db74">&#34;\033[32m[PROXY]\033[0m&#34;</span>
<span style="color:#f92672">}</span>
PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;\$(proxy_status)\[\e[0;37m\]\342\224\214\342\224\200 \[[\e[0;33m\]\u\[\e[0;37m\]]\342\224\200[\[\e[1;33m\]\w\[\e[0;37m\]]\$(git_status)\n\[\e[0;37m\]\342\224\224\342\224\200\342\224\200\342\225\274\[\e[0m\] &#34;</span></pre>

<p>
    如果 <code>~/.bashrc</code> 不生效，需要添加文件 <code>~/.bash_profile</code>
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -r $HOME/.bashrc <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
    source $HOME/.bashrc
<span style="color:#66d9ef">fi</span></pre>

<h2 id="heading-2">必备软件</h2>
<p>
   微信、QQ、QQ音乐、网易云音乐、Localsend等软件可以在商店里直接下载
</p>

<h3 id="heading-2.1">homebrew</h3>
<p>
    这应该是每个Mac用户的必备软件了吧
</p>
<pre style="color:#f8f8f2;background-color:#272822">/bin/bash -c &#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&#34;</pre>
<p>
    如果安装速度太慢或是下载部分内容时完全卡住，可以先行安装科学上网工具
</p>

<p>
    然后添加以下内容到 <code>~/.bashrc</code>
</p>
<pre style="color:#f8f8f2;background-color:#272822">export PATH<span style="color:#f92672">=</span>/opt/homebrew/bin:$PATH

<span style="color:#66d9ef">if</span> which brew &gt; /dev/null;<span style="color:#66d9ef">then</span>
    export HOMEBREW_NO_AUTO_UPDATE<span style="color:#f92672">=</span>true
    <span style="color:#75715e"># export HOMEBREW_NO_INSTALLED_DEPENDENTS_CHECK=true</span>
    <span style="color:#75715e"># export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles</span>
    <span style="color:#75715e"># export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles</span>
    eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew shellenv<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">fi</span></pre>

<h3 id="heading-2.2">betterdisplay</h3>
<p>
    由于我使用的是一个2K显示器，所以需要开启HIDPI
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask betterdisplay</pre>

<h3 id="heading-2.3">clash-verge-rev</h3>
<p>
    如果之前是通过dmg文件安装的，需要先卸载，然后重新使用brew安装，方便升级和管理
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask clash-verge-rev</pre>

<h3 id="heading-2.4">google-chrome</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask google-chrome</pre>
<p>
    如果在登陆账号时总是提示请求取消，并且登陆失败，开启全局代理即可
</p>

<h3 id="heading-2.5">yabai</h3>
<p>
    macos端的平铺窗口管理
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install koekeishiya/formulae/yabai
yabai --start-service</pre>

<h3 id="heading-2.6">hammerspoon</h3>
<p>
    主要用于搭配 <b>yabai</b> 使用
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask hammerspoon</pre>

<p>
    我的配置在 <a href="https://github.com/honmaple/dotfiles/tree/master/macos">https://github.com/honmaple/dotfiles/tree/master/macos</a>
</p>

<h3 id="heading-2.7">Localsend</h3>
<p>
    一个内网文件传输工具，可以在商店直接下载，或者使用
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask localsend</pre>

<h3 id="heading-2.8">inkscape</h3>
<p>
    一个矢量图绘制软件
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask inkscape</pre>

<h3 id="heading-2.9">wireshark</h3>
<p>
    抓包工具
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask wireshark</pre>

<h2 id="heading-3">开发软件</h2>
<h3 id="heading-3.1">Emacs</h3>
<p>
    emacs永存，虽然我是邪恶的evil用户
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask railwaycat/emacsmacport/emacs-mac</pre>

<h3 id="heading-3.2">Docker</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask docker</pre>

<h3 id="heading-3.3">Ruby</h3>
<p>
    <code>~/.bashrc</code>配置
</p>
<pre style="color:#f8f8f2;background-color:#272822">export GEM_HOME<span style="color:#f92672">=</span>$HOME/repo/ruby/gem
export GEM_PATH<span style="color:#f92672">=</span>$HOME/repo/ruby/gem
export GEM_SPEC_CACHE<span style="color:#f92672">=</span>$HOME/repo/ruby/gem/specs
export PATH<span style="color:#f92672">=</span>$GEM_HOME/bin:$PATH</pre>

<h3 id="heading-3.4">Python</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install pyenv pyenv-virtualenv</pre>

<p>
    <code>~/.bashrc</code>配置
</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">if</span> which pyenv &gt; /dev/null;<span style="color:#66d9ef">then</span>
    export PYENV_ROOT<span style="color:#f92672">=</span>$HOME/repo/python/pyenv
    export PATH<span style="color:#f92672">=</span>$PYENV_ROOT/bin:$PATH
    eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>pyenv init -<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>;
<span style="color:#66d9ef">fi</span>

<span style="color:#66d9ef">if</span> which pyenv-virtualenv-init &gt; /dev/null; <span style="color:#66d9ef">then</span>
    eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>pyenv virtualenv-init -<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>;
<span style="color:#66d9ef">fi</span></pre>

<pre style="color:#f8f8f2;background-color:#272822">export PYTHONUSERBASE<span style="color:#f92672">=</span>$HOME/repo/python
export PYTHONHISTFILE<span style="color:#f92672">=</span>$HOME/repo/python/history
export PATH<span style="color:#f92672">=</span>$HOME/repo/python/bin:$PATH</pre>

<p>
    开发依赖:
</p>
<pre style="color:#f8f8f2;background-color:#272822">python3 -m pip install --user python-lsp-server
python3 -m pip install --user python-lsp-ruff</pre>

<h3 id="heading-3.5">Golang</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install go</pre>

<p>
    <code>~/.bashrc</code>配置
</p>
<pre style="color:#f8f8f2;background-color:#272822">export GOPROXY<span style="color:#f92672">=</span>https://goproxy.cn,direct
export GOPATH<span style="color:#f92672">=</span>$HOME/repo/golang
export PATH<span style="color:#f92672">=</span>$HOME/repo/golang/bin:$PATH</pre>

<p>
    开发依赖:
</p>
<pre style="color:#f8f8f2;background-color:#272822">go install golang.org/x/tools/gopls@latest
go install honnef.co/go/tools/cmd/staticcheck@latest

go install golang.org/x/mobile/cmd/gomobile@latest
gomobile init</pre>

<h3 id="heading-3.6">Protobuf</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install protobuf bufbuild/buf/buf</pre>

<ul>
<li>
<p>
 Go
</p>
<pre style="color:#f8f8f2;background-color:#272822">go install google.golang.org/protobuf/cmd/protoc-gen-go@latest
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest
go install github.com/favadi/protoc-go-inject-tag@latest
go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-grpc-gateway@latest
go install github.com/grpc-ecosystem/grpc-gateway/v2/protoc-gen-openapiv2@latest</pre>
</li>
<li>
<p>
 Dart
</p>
<pre style="color:#f8f8f2;background-color:#272822">dart --disable-analytics
dart pub global activate protoc_plugin 21.1.2</pre>
</li>
</ul>
<h3 id="heading-3.7">Android</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install --cask android-studio</pre>

<p>
    然后打开 <b>android-studio</b>, 并配置 <b>HTTP手动代理</b>，设置sdk目录为 <code>$HOME/repo/android/sdk</code>，设置完成后到达 <code>Welcome to Android Studio</code> 界面，点击 <code>More Actions -&gt; SDK Manager</code>
</p>
<ul>
<li>
<p>
 SDK Platforms: 勾选 <code>Android 12.0</code>
</p></li>
<li>
<p>
 SDK Tools: 勾选 <code>NDK(Side by side)</code> 和 <code>Android SDK Command-line Tools (latest)</code>
</p>
</li>
</ul>
<p>
    <code>~/.bashrc</code>配置
</p>
<pre style="color:#f8f8f2;background-color:#272822">export ANDROID_HOME<span style="color:#f92672">=</span>$HOME/repo/android/sdk
export NDK_HOME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$ANDROID_HOME<span style="color:#e6db74">/ndk/26.2.11394342</span><span style="color:#e6db74">&#34;</span>
export JAVA_HOME<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/Applications/Android Studio.app/Contents/jbr/Contents/Home&#39;</span>
export PATH<span style="color:#f92672">=</span>$ANDROID_HOME/platform-tools:$PATH</pre>

<h3 id="heading-3.8">Flutter</h3>
<p>
    下载 <a href="https://storage.googleapis.com/flutter_infra_release/releases/stable/macos/flutter_macos_arm64_3.29.3-stable.zip">flutter_macos_arm64_3.29.3-stable.zip</a> 并解压到 <code>~/repo</code>
</p>
<pre style="color:#f8f8f2;background-color:#272822">unzip ~/Downloads/flutter_macos_arm64_3.29.3-stable.zip-d ~/repo/</pre>

<p>
    安装 <b>rosetta</b>
</p>
<pre style="color:#f8f8f2;background-color:#272822">sudo softwareupdate --install-rosetta --agree-to-license</pre>

<p>
    安装 <b>cocoapods</b>
</p>
<pre style="color:#f8f8f2;background-color:#272822">export GEM_HOME=$HOME/repo/ruby/gem
export PATH=$GEM_HOME/bin:$PATH

gem install cocoapods --user-install -V</pre>
<p>
    因为系统内置的ruby版本是 <code>2.6.10</code>，这导致 <b>cocoapods</b> 的部分依赖无法安装，并出现类似下面的错误
</p>
<pre style="color:#f8f8f2;background-color:#272822">ERROR:  Error installing cocoapods:
    The last version of securerandom (&gt;= 0.3) to support your Ruby &amp; RubyGems was 0.3.2. Try installing it with `gem install securerandom -v 0.3.2` and then running the current command again
    securerandom requires Ruby version &gt;= 3.1.0. The current ruby version is 2.6.10.210.</pre>
<p>
    本来还想按照提示处理，但处理完一个又来一个，处理完一个又来一个，太过麻烦。还有一种方法是安装新版本的ruby
</p>
<pre style="color:#f8f8f2;background-color:#272822">brew install ruby</pre>
<p>
    然后使用新版本ruby的gem安装 <b>cocoapods</b>
</p>
<pre style="color:#f8f8f2;background-color:#272822">/opt/homebrew/Cellar/ruby/3.4.3/bin/gem install cocoapods -V</pre>

<p>
    这时使用 <code>flutter doctor</code> 会出现下面错误
</p>
<pre style="color:#f8f8f2;background-color:#272822">[!] Xcode - develop for iOS and macOS (Xcode 16.3)
    ✗ CocoaPods installed but not working.
        You appear to have CocoaPods installed but it is not working.
        This can happen if the version of Ruby that CocoaPods was installed with is different from the one being used to invoke it.
        This can usually be fixed by re-installing CocoaPods.
      For re-installation instructions, see https://guides.cocoapods.org/using/getting-started.html#installation
[✓] Chrome - develop for the web</pre>

<p>
    通过使用 <code>pod --version</code> 查看
</p>
<pre style="color:#f8f8f2;background-color:#272822">/opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1421:in &#39;block in Gem::Specification#activate_dependencies&#39;: Could not find &#39;nkf&#39; (&gt;= 0) among 100 total gem(s) (Gem::MissingSpecError)
Checked in &#39;GEM_PATH=/Users/xxxx/repo/ruby/gem&#39; at: /Users/xxxx/repo/ruby/gem/specifications/CFPropertyList-3.0.7.gemspec, execute `gem env` for more information
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1407:in &#39;Array#each&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1407:in &#39;Gem::Specification#activate_dependencies&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1389:in &#39;Gem::Specification#activate&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1423:in &#39;block in Gem::Specification#activate_dependencies&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1407:in &#39;Array#each&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1407:in &#39;Gem::Specification#activate_dependencies&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1389:in &#39;Gem::Specification#activate&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1423:in &#39;block in Gem::Specification#activate_dependencies&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1407:in &#39;Array#each&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1407:in &#39;Gem::Specification#activate_dependencies&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems/specification.rb:1389:in &#39;Gem::Specification#activate&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems.rb:290:in &#39;block in Gem.activate_bin_path&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems.rb:289:in &#39;Thread::Mutex#synchronize&#39;
    from /opt/homebrew/Cellar/ruby/3.4.3/lib/ruby/3.4.0/rubygems.rb:289:in &#39;Gem.activate_bin_path&#39;
    from /Users/xxxx/repo/ruby/gem/bin/pod:25:in &#39;&lt;main&gt;&#39;</pre>

<p>
    尝试安装 <code>nkf</code> 终于解决了 <b>cocoapods</b> 的安装问题
</p>
<pre style="color:#f8f8f2;background-color:#272822">/opt/homebrew/Cellar/ruby/3.4.3/bin/gem install nkf -V</pre>

<p>
    <code>~/.bashrc</code>配置
</p>
<pre style="color:#f8f8f2;background-color:#272822">alias flutter<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;flutter --no-version-check&#39;</span>
export PUB_HOSTED_URL<span style="color:#f92672">=</span>https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL<span style="color:#f92672">=</span>https://storage.flutter-io.cn
export PATH<span style="color:#f92672">=</span>$HOME/repo/flutter/bin:$PATH</pre>

<h3 id="heading-3.9">Node</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install node</pre>

<p>
    <code>~/.bashrc</code>配置
</p>
<pre style="color:#f8f8f2;background-color:#272822">export NODE_PATH<span style="color:#f92672">=</span>$HOME/repo/npm/lib/node_modules
export PATH<span style="color:#f92672">=</span>$HOME/repo/npm/bin:$PATH</pre>

<p>
    开发依赖:
</p>
<pre style="color:#f8f8f2;background-color:#272822">npm install -g yarn
npm install -g pnpm
npm install -g typescript-language-server typescript
npm install -g @vue/language-server
npm install -g @tailwindcss/language-server
npm install -g emmet-ls
npm install -g prettier
npm install -g js-beautify</pre>

<p>
    设置 <code>pnpm</code> 缓存路径，注意: <code>pnpm</code> 配置文件存储在 <code>~/Library/Preferences/pnpm/rc</code>
</p>
<pre style="color:#f8f8f2;background-color:#272822">pnpm config set store-dir ~/repo/pnpm</pre>

<p>
    其它:
</p>
<pre style="color:#f8f8f2;background-color:#272822">npm install -g @quasar/cli</pre>

<h3 id="heading-3.10">Rust</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install rustup
rustup-init</pre>

<p>
    <code>~/.bashrc</code>配置
</p>
<pre style="color:#f8f8f2;background-color:#272822">export CARGO_HOME<span style="color:#f92672">=</span>$HOME/repo/rust/cargo
export CARGO_TARGET_DIR<span style="color:#f92672">=</span>$HOME/repo/rust/cargo/build

export RUSTUP_HOME<span style="color:#f92672">=</span>$HOME/repo/rust/rustup
export RUSTUP_DIST_SERVER<span style="color:#f92672">=</span>https://rsproxy.cn
export RUSTUP_UPDATE_ROOT<span style="color:#f92672">=</span>https://rsproxy.cn/rustup

export PATH<span style="color:#f92672">=</span>$HOME/repo/rust/cargo/bin:$PATH</pre>
<h3 id="heading-3.11">Other</h3>
<pre style="color:#f8f8f2;background-color:#272822">brew install rg
brew install tree htop
brew install --cask visual-studio-code</pre>

<p>
    除此之外，最近很少使用的lua等环境待后续补充吧
</p>
    </div>
    <div class="entry-copyright">
        <div>
          <span><i class="fa fa-user-o"></i>作者:</span>
            <a href="https://honmaple.me/authors/honmaple/index.html">honmaple</a>
        </div>
    <div>
      <span><i class="fa fa-link"></i>链接:</span>
      <a href="https://honmaple.me/articles/2025/04/macoshuan-jing-pei-zhi.html">https://honmaple.me/articles/2025/04/macoshuan-jing-pei-zhi.html</a>
    </div>
    <div>
      <span><i class="fa fa-copyright"></i>版权:</span>
      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">
        <img src="https://s.libforest.com/images/pic/license.png" alt="CC BY-NC-SA 4.0" />
        知识共享署名-非商业性使用-相同方式共享4.0国际许可协议
      </a>
    </div>
  </div>
  <div class="entry-honor">
    <button data-target=".entry-honor-content" data-toggle="collapse" aria-expanded="false">赞</button>
    <div class="entry-honor-content collapse">
      <div class="entry-honor-wechat">
        <img class="lazyload" data-src="https://s.libforest.com/images/pic/wechat.png" alt="wechat" />
      </div>
      <div class="entry-honor-alipay">
        <img class="lazyload" data-src="https://s.libforest.com/images/pic/alipay.png" alt="alipay" />
      </div>
    </div>
  </div>
    <hr class="entry-article-hr" />
    <ul class="entry-pager">
      <li class="prev">
        <a href="https://honmaple.me/articles/2025/06/guan-yu-androidmo-ni-qi-wu-fa-lian-jie-wang-luo.html" title="Previous article: 关于Android模拟器无法连接网络">
          <i class="fa fa-chevron-left"></i>
          关于Android模拟器无法连接网络
        </a>
      </li>
      <li class="next">
        <a href="https://honmaple.me/articles/2025/03/hong-feng-yun-pan-zheng-shi-shang-xian-app-store.html" title="Next article: 红枫云盘正式上线App Store">
          红枫云盘正式上线App Store
          <i class="fa fa-chevron-right"></i>
        </a>
      </li>
  </ul>
    
    <div class="entry-comment">
      <div class="entry-btn">
        <a>加载评论</a>
      </div>
      <div id="comment_thread" issue-term="MacOS环境配置"></div>
    </div>
  </article><div class="footer">
  <ul class="footer-left">
    <li class="hidden-xs">© 2015-2025 honmaple</li>
    <li class="hidden-xs">·</li>
    <li>
        <a href="https://honmaple.me/pages/friends.html">友链</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/contact.html">联系</a>
          <span> | </span>
        <a href="https://honmaple.me/pages/timeline.html">时间轴</a>
    </li>
  </ul>
  <ul class="footer-right">
    <li><a class="entry-switch-theme" title="切换主题" onclick="switchTheme()"><i class="fa fa-moon-o"></i></a></li>
      <li><a href="https://honmaple.me/pages/music.html" title="音乐"><i class="fa fa-music"></i></a></li>
      <li><a href="https://honmaple.me/pages/travel.html" title="旅行"><i class="fa fa-camera"></i></a></li>
      <li class="hidden-xs"><a href="https://honmaple.me/atom.xml" title="Feed"><i class="fa fa-feed"></i></a></li>
      <li><a href="https://github.com/honmaple" title="Github"><i class="fa fa-github"></i></a></li>
  </ul>
</div>
<div class="back-to-top on">
  <i class="fa fa-hand-o-up" title="back to top"></i>
</div>

    </div>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88401692-2"></script>
  <script>
     window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'UA-88401692-2');
  </script>


      <script src="https://s.libforest.com/static/js/lib.min.js"></script>
        <script src="https://honmaple.me/static/lib/js/script.min.js"></script>
  </body>
</html>
