<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>honmaple's blog ·  爱情诚可贵，自由价更高.</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/fancybox/3.1.25/jquery.fancybox.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.min.css">
  </head>
  <body>
    <div class="particles-js" id="particles-js"></div>
    <div class="scrollbar"></div>
    <div class="wrap">
      <div class="main">
<nav class="navbar navbar-default">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-header" aria-expanded="false">
      <span class="sr-only"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href=".">
      <img class="navbar-logo" src="https://honmaple.b0.upaiyun.com/images/header/header-logo.png" alt="楓">
    </a>
    <p class="navbar-text">—— 爱情诚可贵，自由价更高.</p>
  </div>
  <div class="collapse navbar-collapse" id="nav-header">
    <ul class="nav navbar-nav">
      <li class="dropdown">
        <a href="./category/life/index.html" >代码人生</a>
        <ul class="dropdown-menu">
          <li><a href="./category/coding/index.html">分享世界</a></li>
          <li><a href="./category/love/index.html">你不懂我</a></li>
          <li><a href="./category/recall/index.html">我不怪你</a></li>
        </ul>
      </li>
      <li ><a href="./category/linux/index.html">字符艺术</a></li>
      <li ><a href="./category/python/index.html">人生苦短</a></li>
      <li ><a href="./category/security/index.html">极客安全</a></li>
      <li class="dropdown">
        <a href="./archives.html">文章归档</a>
        <ul class="dropdown-menu">
          <li><a href="./tags.html">标签</a></li>
          <li><a href="./categories.html">分类</a></li>
          <li><a href="./authors.html">作者</a></li>
        </ul>
      </li>
      <li><a href="./pages/about.html">关于</a></li>
    </ul>
    <form onsubmit="return dispatch()" class="navbar-form navbar-right" style="margin-top:10px;">
      <div class="form-group has-feedback">
        <input class="form-control input-sm" id="search" name="search" type="text" onfocus="this.placeholder='搜索'" onblur="this.placeholder=''">
        <i class="fa fa-search form-control-feedback"></i>
      </div>
    </form>
  </div>
</nav>                <ul class="entry-list" style="margin-top:0;">
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/03/python复习(一).html" rel="bookmark" title="Permalink to python复习(一)">python复习(一)</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-03-05T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    六 05 三月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/python/index.html">python</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/python/index.html">python</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <p>·<a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000">参考</a>  </p>
<h3>循环</h3>
<p>ranger(100)表示0到99这一百个数<br>
可以被next()函数调用并不断返回下一个值的对象称为迭代器：Iterator。<br>
把list、dict、str等Iterable变成Iterator可以使用iter()函数</p>
<h3>不可变对象</h3>
<div class="highlight"><pre><span></span>&gt;&gt;&gt; a = &#39;abc&#39;
&gt;&gt;&gt; a.replace(&#39;a&#39;, &#39;A&#39;)
&#39;Abc&#39;
&gt;&gt;&gt; a
&#39;abc&#39;
</pre></div>


<h3>列表(list)</h3>
<div class="highlight"><pre><span></span># 向列表追加元素  
a = [&#39;hello&#39;,&#39;h&#39;,&#39;a&#39;,&#39;b&#39;]
a.append(&#39;world&#39;)
# 删除列表最后一个元素
a.pop()
</pre></div>


<h4>切片</h4>
<div class="highlight"><pre><span></span># 从a[0]开始到a[2]
a[0:3]
# 或者,省略0
a[:3]
# 省略-1 …</pre></div>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/03/python复习(一).html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/03/使用fabric进行自动化部署.html" rel="bookmark" title="Permalink to 使用fabric进行自动化部署">使用fabric进行自动化部署</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-03-05T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    六 05 三月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/linux/index.html">linux</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/fabric/index.html">fabric</a>
    <a href="./tag/linux/index.html">linux</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <p>fabric也使用好久了，这次静下心来好好整理一遍，当然这只是很简单的用法<br>
<a href="http://docs.fabfile.org/en/1.10/">参考文档</a></p>
<h3>安装</h3>
<p>凡事先从安装说起,fabric不支持python3,所以只能安装python2版本的fabric<br>
由于我使用了virtualenv，所以先退出虚拟环境  </p>
<div class="highlight"><pre><span></span>$ deactivate
</pre></div>


<p>安装全局fabric  </p>
<div class="highlight"><pre><span></span>$ sudo pip2 install fabric
</pre></div>


<h3>使用</h3>
<p>使用之前先想想以前是怎么部署的，是不是这样:<br>
先ssh到服务器,进行数据备份,然后退出(或者重新开一个终端),然后上传文件到服务器,
再ssh到服务器,安装所需要的模块,然后退出，ssh到root账户，重启，再退出···<br>
<strong>是不是想想都烦</strong><br>
没关系，有了fabric后就不必这么麻烦了,需求:</p>
<h4>备份数据</h4>
<div class="highlight"><pre><span></span><span class="c1"># fabfile.py</span>
<span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">run</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">cd</span><span class="p">,</span> <span class="n">local</span><span class="p">,</span> <span class="n">put</span><span class="p">,</span> <span class="n">get</span>

<span class="k">def</span> <span class="nf">backup …</span></pre></div>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/03/使用fabric进行自动化部署.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/03/关于sqlalchemy的desc.html" rel="bookmark" title="Permalink to 关于sqlalchemy的desc">关于sqlalchemy的desc</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-03-05T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    六 05 三月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/python/index.html">python</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/flask/index.html">flask</a>
    <a href="./tag/sqlalchemy/index.html">sqlalchemy</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <p>也就是降序排序</p>
<h3>简单使用</h3>
<p>questions = Questions.query.order_by(Questions.time.desc()).all()</p>
<h3>设置默认排序</h3>
<p>如果几乎所有的questions都是按照时间降序排序,总不能每一条语句都加上<code>order_by(Questions.time.desc())</code><br>
所以设置默认排序是有效的</p>
<div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">Questions</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nx">Model</span><span class="p">)</span><span class="o">:</span>
    <span class="nx">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;questions&#39;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">Column</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nx">Integer</span><span class="p">,</span> <span class="nx">primary_key</span><span class="o">=</span><span class="nx">True</span><span class="p">)</span>
    <span class="nx">title</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">Column</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nb">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">content</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">Column</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="nx">nullable</span><span class="o">=</span><span class="nx">False</span><span class="p">)</span>
    <span class="nx">time</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">Column …</span></pre></div>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/03/关于sqlalchemy的desc.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/03/关于sqlalchemy的filter_by与filter.html" rel="bookmark" title="Permalink to 关于sqlalchemy的filter_by与filter">关于sqlalchemy的filter_by与filter</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-03-05T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    六 05 三月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/python/index.html">python</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/flask/index.html">flask</a>
    <a href="./tag/sqlalchemy/index.html">sqlalchemy</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <p>都可看做是where但用法不一样</p>
<h3>filter_by</h3>
<div class="highlight"><pre><span></span>question = Questions.query.filter_by(id=1).first()
</pre></div>


<h3>filter</h3>
<div class="highlight"><pre><span></span>question = Questions.query.filter(Questions.id==1).first()
</pre></div>


<p>其实就是<code>=</code> 与<code>==</code>还有是否带类名的区别<br>
如果要<code>select * from questions where id &lt; 5</code><br>
这时只能使用<strong>filter</strong></p>
<div class="highlight"><pre><span></span>questions = Questions.query.filter(Questions.id &lt; 5).all()
</pre></div>


<h4>多个条件</h4>
<div class="highlight"><pre><span></span>question = Questions.query.filter_by(name=&#39;hello&#39;,id=5).first()
# 或者 …</pre></div>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/03/关于sqlalchemy的filter_by与filter.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/02/记录Flask-Login的例子.html" rel="bookmark" title="Permalink to 记录Flask-Login的例子">记录Flask-Login的例子</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-02-25T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    四 25 二月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/python/index.html">python</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/python/index.html">python</a>
    <a href="./tag/flask/index.html">flask</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <p>书签不够用了<br>
例子1:<a href="https://gist.github.com/bkdinoop/6698956">https://gist.github.com/bkdinoop/6698956</a></p>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/02/记录Flask-Login的例子.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/02/自定义jinja2转义标签.html" rel="bookmark" title="Permalink to 自定义jinja2转义标签">自定义jinja2转义标签</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-02-22T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    一 22 二月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/python/index.html">python</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/jinja2/index.html">jinja2</a>
    <a href="./tag/python/index.html">python</a>
    <a href="./tag/flask/index.html">flask</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <p><a href="http://stackoverflow.com/questions/8976683/jinja2-escape-all-html-but-img-b-etc/8976872">参考问题</a><br>
<a href="http://bleach.readthedocs.org/en/latest/clean.html#callable-filters">参考资料</a>  <br>
最终代码:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">safe_clean</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Markup</span>
    <span class="kn">from</span> <span class="nn">bleach</span> <span class="kn">import</span> <span class="n">clean</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;i&#39;</span><span class="p">,</span><span class="s1">&#39;font&#39;</span><span class="p">,</span><span class="s1">&#39;br&#39;</span><span class="p">]</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;*&#39;</span><span class="p">:[</span><span class="s1">&#39;style&#39;</span><span class="p">],</span>
        <span class="s1">&#39;font&#39;</span><span class="p">:[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">styles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">Markup</span><span class="p">(</span><span class="n">clean</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span><span class="p">,</span>
                        <span class="n">attributes</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">,</span>
                        <span class="n">styles</span> <span class="o">=</span> <span class="n">styles</span><span class="p">))</span>
</pre></div>


<p>自定义filter过滤器</p>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/02/自定义jinja2转义标签.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/02/arch更新遇到的问题.html" rel="bookmark" title="Permalink to arch更新遇到的问题">arch更新遇到的问题</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-02-21T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    日 21 二月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/linux/index.html">Linux</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/arch/index.html">arch</a>
    <a href="./tag/linux/index.html">linux</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <p>：confuse: signature from "Thorsten Töpper <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#116;&#115;&#117;&#116;&#97;&#110;&#101;&#64;&#102;&#114;&#101;&#101;&#116;&#104;&#111;&#117;&#103;&#104;&#116;&#115;&#46;&#100;&#101;">&#97;&#116;&#115;&#117;&#116;&#97;&#110;&#101;&#64;&#102;&#114;&#101;&#101;&#116;&#104;&#111;&#117;&#103;&#104;&#116;&#115;&#46;&#100;&#101;</a>" is unknown trust</p>
<p>解决:</p>
<div class="highlight"><pre><span></span>$ sudo pacman-key --refresh-keys
</pre></div>


<p>arch错误：无法准备事务处理 (无法满足依赖关系) :: package-query: 要求 pacman&lt;4.3</p>
<p>解决:</p>
<div class="highlight"><pre><span></span>$ sudo pacman -R package-query yaourt
</pre></div>


<p>更新python2-pip出现问题</p>
<div class="highlight"><pre><span></span>$ sudo pacman -Syu
错误：无法提交处理 <span class="o">(</span>有冲突的文件<span class="o">)</span>
python2-pip: 文件系统中已存在 /usr/lib/python2.7/site-packages/pip/_vendor/requests/packages/urllib3/contrib …</pre></div>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/02/arch更新遇到的问题.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/02/flask使用ajax.html" rel="bookmark" title="Permalink to flask使用ajax">flask使用ajax</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-02-02T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    二 02 二月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/python/index.html">python</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/flask/index.html">flask</a>
    <a href="./tag/ajax/index.html">ajax</a>
    <a href="./tag/jquery/index.html">jquery</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <h3>简单使用ajax</h3>
<p><a href="http://www.w3school.com.cn/jquery/jquery_ref_ajax.asp">参考文档</a>  </p>
<div class="highlight"><pre><span></span><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">text/javascript</span><span class="nt">&gt;</span>
$(document).ready(function(){
    $(&#39;button#ajax&#39;).click(function() {
        $.ajax ({
            type : &quot;POST&quot;,
            url : &quot;<span class="cp">{{</span> <span class="nv">url_for</span><span class="o">(</span><span class="s1">&#39;index.login&#39;</span><span class="o">)</span> <span class="cp">}}</span>&quot;,
            data:JSON.stringify({
                name: $(&#39;input[name=&quot;name&quot;]&#39;).val(),
                passwd: $(&#39;input[name=&quot;passwd&quot;]&#39;).val()
            }),
            contentType: &#39;application/json;charset=UTF-8&#39;,
            success: function(result) {
                if (result.judge == true)
                {
                    window.location = &#39;/&#39;;
                }
                else 
                {
                    $(&quot;#showerror …</pre></div>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/02/flask使用ajax.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
            <li><article>
                <h1 class="entry-title"><a href="./articles/2016/02/使用jquery实现markdown预览.html" rel="bookmark" title="Permalink to 使用jquery实现markdown预览">使用jquery实现markdown预览</a></h1>
<header class="entry-info">
  <span class="entry-info-date" title="2016-02-02T00:00:00+08:00">
    <i class="fa fa-calendar-o"></i>
    二 02 二月 2016
  </span>
  <span class="entry-info-sep hidden-xs">|</span>
  <span class="entry-info-author hidden-xs">
    <i class="fa fa-user-o"></i>
    By <a href="./author/honmaple.html">honmaple</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-category">
    <i class="fa fa-folder-o"></i>
    In <a href="./category/linux/index.html">linux</a>
  </span>
  <span class="entry-info-sep">|</span>
  <span class="entry-info-tag">
    <i class="fa fa-bookmark-o"></i>
    tags:
    <a href="./tag/jquery/index.html">jquery</a>
    <a href="./tag/markdown/index.html">markdown</a>
  </span>
</header>                <hr class="entry-hr" />
                <div class="entry-content">
                <blockquote>
<p>虽然算不上是实时预览<br>
实时预览功能等有时间在把它加上</p>
</blockquote>
<p>还是把实时预览加上，不过实时预览可能会对网站有所影响，读者看着加上</p>
<h4>前端</h4>
<div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="kd">function</span> <span class="nx">previewTopicContent</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">&quot;{{ url_for(&#39;blog.preview&#39;) }}&quot;</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">content</span>: <span class="kt">$</span><span class="p">(</span><span class="s2">&quot;#content&quot;</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#showPreview&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">});</span>
   <span class="cm">/*setTimeout(&#39;previewTopicContent()&#39;,300);*/</span>
<span class="p">};</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre></div>


<p>或者  </p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">previewTopicContent</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;{{ url_for(&#39;blog.preview&#39;) }}&quot;</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">content</span>: <span class="kt">$</span><span class="p">(</span><span class="s2">&quot;#content&quot;</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#showPreview&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">};</span>
</pre></div>


<h4>服务端</h4>
<div class="highlight"><pre><span></span><span class="nd">@site.route</span><span class="p">(</span><span class="s1">&#39;/pages/preview …</span></pre></div>
                  <div class="text-center">
                    <a class="btn entry-read-more" href="./articles/2016/02/使用jquery实现markdown预览.html">阅读全文 »</a>
                  </div>
                </div>
            </article></li>
                <li>  <ul class="entry-pagination">
      <li class="prev"><a href="./index11.html">&laquo;</a></li>
         <li ><a href="./index.html">1</a></li>
         <li ><a href="./index2.html">2</a></li>
         <li ><a href="./index3.html">3</a></li>
         <li>......</li>
         <li ><a href="./index11.html">11</a></li>
         <li class="active"><a href="./index12.html">12</a></li>
         <li ><a href="./index13.html">13</a></li>
         <li>......</li>
         <li ><a href="./index15.html">15</a></li>
         <li ><a href="./index16.html">16</a></li>
         <li ><a href="./index17.html">17</a></li>
      <li class="next"><a href="./index13.html">&raquo;</a></li>
  </ul>
</li>
                </ul>
      </div>
    </div>
<div class="footer">
  <ul class="list-inline entry-social">
    <li><a class="entry-theme" title="Moon"><i class="fa fa-moon-o"></i></a></li>
    <li ><a href="./pages/music.html" title="Music"><i class="fa fa-music"></i></a></li>
    <li class="hidden-xs"><a href="./feeds/all.rss.xml" title="Feed"><i class="fa fa-feed"></i></a></li>
    <li ><a href="https://github.com/honmaple" title="GitHub"><i class="fa fa-github"></i></a></li>
    <li ><a href="./pages/travel.html" title="Camera"><i class="fa fa-camera"></i></a></li>
  </ul>
  <ul class="list-inline copyright">
    <li class="hidden-xs">© 2015-2018 honmaple</li>
    <li class="hidden-xs">·</li>
    <li>
      <a href="./pages/friends.html">友链</a>
      <span> | </span>
      <a href="./pages/contact.html">联系</a>
      <span> | </span>
      <a href="./pages/timeline.html">时间轴</a>
    </li>
  </ul>
</div>    <div class="back-to-top back-to-top-on">
      <i class="fa fa-hand-o-up" title="back to top"></i>
    </div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-88401692-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-88401692-2');
</script>
    <script src="https://cdn.bootcss.com/lazysizes/4.0.1/lazysizes.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdn.bootcss.com/fancybox/3.1.25/jquery.fancybox.min.js"></script>
    <script src="./theme/js/script.min.js"></script>
  </body>
</html>