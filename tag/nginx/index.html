<!DOCTYPE html>
<html lang="en">
<head>
        <title>HonMaple's Blog - nginx]</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../../theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="../../theme/css/pygments/solarizeddark.css" type="text/css"/>
   

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../css/ie.css"/>
                <script src="../../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
<a href="http://github.com/honmaple/honmaple.github.io">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="../..">HonMaple's Blog </a></h1>
                <nav><ul>
                <li><a href="../..">主页</a></li>
                    <li ><a href="../../category/linux.html">linux</a></li>
                    <li ><a href="../../category/python.html">Python</a></li>
                <li> <a href="../../archives/">Archives</a></li>
                    <li><a href="../../pages/guan-yu-wo/">关于我</a></li>
                </ul></nav>
        </header><!-- /#banner -->
        
        

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../../articles/2016/01/flask部署-环境安装.html">centos7安装并配置nginx</a></h1> 
<footer class="post-info">
        <abbr class="published" title="2016-01-06T00:00:00+01:00">
                三 06 一月 2016
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="../../author/honmaple.html">honmaple</a>
        </address>
<p>In <a href="../../category/linux.html">linux</a>. </p>
<p>tags: <a href="../../tag/linux/">[linux</a><a href="../../tag/nginx/">nginx]</a></p></footer><!-- /.post-info --><p>虽然以前安装过但是没有记录，这次重新安装，趁机记录下来，省得满世界地找  </p>
<blockquote>
<p>环境: centos7  </p>
</blockquote>
<h3>安装nginx</h3>
<p><a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/">参考资料</a><br />
使用<code>yum list nginx</code>会发现nginx是1.6的版本,但现在nginx已经到了1.9，虽然不必那么新，
但是过旧的版本说不定会出现安全问题  </p>
<div class="highlight"><pre><span></span># vim /etc/yum.repos.d/nginx.repo
</pre></div>


<p>输入  </p>
<div class="highlight"><pre><span></span><span class="k">[nginx]</span>
<span class="na">name</span><span class="o">=</span><span class="s">nginx repo</span>
<span class="na">baseurl</span><span class="o">=</span><span class="s">http://nginx.org/packages/centos/$releasever/$basearch/</span>
<span class="na">gpgcheck</span><span class="o">=</span><span class="s">0</span>
<span class="na">enabled</span><span class="o">=</span><span class="s">1</span>
</pre></div>


<p>然后</p>
<div class="highlight"><pre><span></span># yum list nginx  #你会发现nginx已经是1.8的版本
# yum install nginx
# systemctl start nginx #启动nginx
</pre></div>


<h3>安装python3</h3>
<p>centos7默认安装了python2.7的版本，但我习惯用python3,但是centos无法通过yum install python3安装,
只好自己编译了  </p>
<h4>安装必要的文件</h4>
<div class="highlight"><pre><span></span># yum groupinstall &quot;Development tools&quot;
# yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel 
readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel
</pre></div>


<h4>下载python3源码</h4>
<p><em>python3已到的python3.5，请按自己的需求下载</em></p>
<div class="highlight"><pre><span></span>$ wget https://www.python.org/ftp/python/3.4.4/Python-3.4.4.tgz
$ tar xz Python-3.4.4.tgz
$ <span class="nb">cd</span> Python-3.4.4
$ ./configure
$ make
<span class="c1"># make install</span>
</pre></div>


<blockquote>
<p>如果提示c 编译器未找到 <br />
yum install gcc gcc-c++</p>
</blockquote>
<h3>安装supervisor</h3>
<p>编译安装python3的时候python3-pip就已经安装好了  </p>
<div class="highlight"><pre><span></span># pip3 install supervisor
Collecting supervisor
  Downloading supervisor-3.2.0.tar.gz (409kB)
    100% |################################| 413kB 972kB/s 
    Complete output from command python setup.py egg_info:
    Supervisor requires Python 2.4 or later but does not work on any version of Python 3.  You are using version 3.4.4 (default, Jan  6 2016, 11:01:55)
    [GCC 4.8.3 20140911 (Red Hat 4.8.3-9)].  Please install using a supported version.

    ----------------------------------------
Command &quot;python setup.py egg_info&quot; failed with error code 1 in /tmp/pip-build-qp0f7ft9/supervisor
</pre></div>


<p>报错，错误提示很明显,<strong>supervisor</strong>不支持python3  </p>
<h4>安装python2的pip</h4>
<div class="highlight"><pre><span></span># yum install python-pip
# yum install python-devel #最好把这个也装上，以后会用到的
# pip install supervisor # 这里又有一个提示
You are using pip version 7.1.0, however version 7.1.2 is available.
You should consider upgrading via the &#39;pip install --upgrade pip&#39; command.
# pip install --upgrade pip
</pre></div>


<h3>安装python的虚拟环境virtualenv</h3>
<div class="highlight"><pre><span></span># pip3 install virtualenv
$ mkdir www
$ cd www
$ virtualenv-3.4 venv
Using base prefix &#39;/usr/local&#39;
New python executable in venv/bin/python3.4
Also creating executable in venv/bin/python
Installing setuptools, pip, wheel...done.
</pre></div>


<p>建议在~/.bashrc中添加  </p>
<div class="highlight"><pre><span></span>alias ve=&#39;. venv/bin/activate&#39;
</pre></div>


<p>以后只要使用<strong>ve</strong>就能进入虚拟环境</p>
<p>关于数据库的安装请参考我的另一篇文章<a href="https://honmaple.com/blog/pages/13">postgresql学习1——安装</a></p><p>There are <a href="../../articles/2016/01/flask部署-环境安装.html#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
        

 
            <li><article class="hentry">    
                <header>
                        <h1><a href="../../articles/2015/12/为网站启用https.html" rel="bookmark" title="Permalink to 为网站启用https并增加ssl证书">为网站启用https并增加ssl证书</a></h1>
                </header>
                
                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-12-25T00:00:00+01:00">
                五 25 十二月 2015
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="../../author/honmaple.html">honmaple</a>
        </address>
<p>In <a href="../../category/linux.html">linux</a>. </p>
<p>tags: <a href="../../tag/seo/">[seo</a><a href="../../tag/web/">web</a><a href="../../tag/ssl/">ssl</a><a href="../../tag/nginx/">nginx]</a></p></footer><!-- /.post-info -->                
                <a class="readmore" href="../../articles/2015/12/为网站启用https.html">read more</a>
<p>There are <a href="../../articles/2015/12/为网站启用https.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
<p class="paginator">
    Page 1 / 1
</p>
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="https://honmaple.com">个人博客</a></li>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            
                            <li><a href="https://github.com/honmaple">GitHub</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">

        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'honmaple';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>