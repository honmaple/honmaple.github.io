<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>HonMaple's Blog</title><link>http://honmaple.org/</link><description></description><lastBuildDate>Mon, 25 Apr 2016 00:00:00 +0800</lastBuildDate><item><title>archlinux安装steam</title><link>http://honmaple.org/articles/2016/04/archlinux%E5%AE%89%E8%A3%85steam.html</link><description>&lt;p&gt;最近想要玩会儿游戏，但是又不想切换到windows,所以准备安装steam,在linux下玩游戏&lt;/p&gt;
&lt;p&gt;最近想要玩会儿游戏，但是又不想切换到windows,所以准备安装steam,在linux下玩游戏,
参考文档&lt;a href="https://wiki.archlinux.org/index.php/Steam"&gt;Steam&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;准备工作&lt;a id="orgheadline1"&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;因为我的是64位操作系统,所以需要启用 &lt;strong&gt;multilib&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo vim /etc/pacman.conf
&lt;span class="c1"&gt;# 取消下面注释&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;multilib&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;Include&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /etc/pacman.d/mirrorlist
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;双显卡bumblebee&lt;a id="orgheadline2"&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;我的又是双显卡,需要安装32位驱动&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;lib32-nvidia-utils
lib32-mesa-libgl
lib32-mesa
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;
除此之外，参考 &lt;a href="https://github.com/Bumblebee-Project/Bumblebee/wiki/Troubleshooting"&gt;bumblebee报错信息&lt;/a&gt;
还需要安装 &lt;em&gt;virtualgl-libs:i386&lt;/em&gt; ( arch上是lib32-virtualgl )
否则报错&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ERROR&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ld&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;so&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;libdlfaker.so&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;LD_PRELOAD&lt;/span&gt; &lt;span class="n"&gt;cannot&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;preloaded&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ignored&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;安装steam&lt;a id="orgheadline3"&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -Syu steam
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;打开steam&lt;a id="orgheadline4"&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;直接启动报错&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ steam
/home/jianglin/.local/share/Steam/steam.sh:行161: VERSION_ID: 未绑定的变量
/home/jianglin/.local/share/Steam/steam.sh:行161: VERSION_ID: 未绑定的变量
Running Steam on arch  64-bit
/home/jianglin/.local/share/Steam/steam.sh:行161: VERSION_ID: 未绑定的变量
STEAM_RUNTIME is enabled automatically
Installing breakpad exception handler &lt;span class="k"&gt;for&lt;/span&gt; appid&lt;span class="o"&gt;(&lt;/span&gt;steam&lt;span class="o"&gt;)&lt;/span&gt;/version&lt;span class="o"&gt;(&lt;/span&gt;1459463254&lt;span class="o"&gt;)&lt;/span&gt;
libGL error: unable to load driver: i965_dri.so
libGL error: driver pointer missing
libGL error: failed to load driver: i965
libGL error: unable to load driver: swrast_dri.so
libGL error: failed to load driver: swrast
....
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;换个方式启动&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ optirun steam
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;虽然也有报错，但是总算能启动了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/home/jianglin/.local/share/Steam/steam.sh:行161: VERSION_ID: 未绑定的变量
/home/jianglin/.local/share/Steam/steam.sh:行161: VERSION_ID: 未绑定的变量
Running Steam on arch  64-bit
/home/jianglin/.local/share/Steam/steam.sh:行161: VERSION_ID: 未绑定的变量
STEAM_RUNTIME is enabled automatically
Installing breakpad exception handler for appid(steam)/version(1459463254)
Installing breakpad exception handler for appid(steam)/version(1459463254)
Installing breakpad exception handler for appid(steam)/version(1459463254)
Fontconfig error: &amp;quot;/etc/fonts/conf.d/10-scale-bitmap-fonts.conf&amp;quot;, line 72: non-double matrix element
Fontconfig error: &amp;quot;/etc/fonts/conf.d/10-scale-bitmap-fonts.conf&amp;quot;, line 72: non-double matrix element
Fontconfig warning: &amp;quot;/etc/fonts/conf.d/10-scale-bitmap-fonts.conf&amp;quot;, line 80: saw unknown, expected number
[0425/180353:ERROR:main_delegate.cc(777)] Could not load cef_extensions.pak
[0425/180353:ERROR:browser_main_loop.cc(203)] Running without the SUID sandbox! See https://code.google.com/p/chromium/wiki/LinuxSUIDSandboxDevelopment for more information on developing with the sandbox on.
....
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ok，就这样&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">2016-04-25 18:43:20</dc:creator><pubDate>Mon, 25 Apr 2016 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2016-04-25:articles/2016/04/archlinux安装steam.html</guid><category>linux</category><category>archlinux</category><category>steam</category></item></channel></rss>