<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>honmaple's blog - honmaple</title><link>https://honmaple.me/</link><description>—— 爱情诚可贵，自由价更高.</description><lastBuildDate>Mon, 15 Oct 2018 00:25:02 +0800</lastBuildDate><item><title>西子遇</title><link>https://honmaple.me/articles/2018/10/%E8%A5%BF%E5%AD%90%E9%81%87.html</link><description>
&lt;p&gt;&lt;a href="https://honmaple.b0.upaiyun.com/images/pic/xihu/荷花.jpg-show" data-fancybox="image"&gt;&lt;img data-src="https://honmaple.b0.upaiyun.com/images/pic/xihu/荷花.jpg-thumb" class="lazyload" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
欲把西湖比西子&lt;br/&gt;淡妆浓抹总相宜
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href="https://honmaple.b0.upaiyun.com/images/pic/xihu/荷花(一).jpg-show" data-fancybox="image"&gt;&lt;img data-src="https://honmaple.b0.upaiyun.com/images/pic/xihu/荷花(一).jpg-thumb" class="lazyload" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
久闻西子久成思&lt;br/&gt;时至菡萏时遇迟
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;

&lt;div class="row"&gt;
  &lt;div class="col-md-4"&gt;
     &lt;a href="https://honmaple.b0.upaiyun.com/images/pic/xihu/日落(二).jpg-show" data-fancybox="image"&gt;&lt;img data-src="https://honmaple.b0.upaiyun.com/images/pic/xihu/日落(二).jpg-thumb" class="lazyload" /&gt;&lt;/a&gt;
  &lt;/div&gt;
  &lt;div class="col-md-4"&gt;
     &lt;a href="https://honmaple.b0.upaiyun.com/images/pic/xihu/日落(三).jpg-show" data-fancybox="image"&gt;&lt;img data-src="https://honmaple.b0.upaiyun.com/images/pic/xihu/日落(三).jpg-thumb" class="lazyload" /&gt;&lt;/a&gt;
  &lt;/div&gt;
  &lt;div class="col-md-4"&gt;
     &lt;a href="https://honmaple.b0.upaiyun.com/images/pic/xihu/日落(一).jpg-show" data-fancybox="image"&gt;&lt;img data-src="https://honmaple.b0.upaiyun.com/images/pic/xihu/日落(一).jpg-thumb" class="lazyload" /&gt;&lt;/a&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;blockquote&gt;
&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
朝闻西子犹在天&lt;br/&gt;夕至柳畔觉未眠
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sun, 07 Oct 2018 23:49:18 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-10-07:/articles/2018/10/西子遇.html</guid><category>life</category><category>travel</category></item><item><title>ansible笔记</title><link>https://honmaple.me/articles/2018/09/ansible%E7%AC%94%E8%AE%B0.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-17703971"&gt;ansible动态解析inventory&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-98284113"&gt;ansible自定义模块传递list变量会变成字符串&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;h2 id="org-17703971"&gt;ansible动态解析inventory&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;ansible&lt;/b&gt;调用inventory模块时总会调用一个文件或脚本来进行处理, 但我想要动态的解析inventory, 即直接传入一个字符串而不是文件, 直接调用ansible的接口来进行解析（不同格式的inventory也可以手动解析，比如yaml格式可以使用pyyaml解析，不过直接使用ansible接口会更方便一些）&lt;/p&gt;

&lt;p&gt;但问题是&lt;b&gt;ansible&lt;/b&gt;没有直接可供调用的接口, 不过可以直接查看ansible源码，找到相应的解析函数，封装一下即可&lt;/p&gt;

&lt;p&gt;查找源码, 根据 &lt;code&gt;InventoryManager&lt;/code&gt; 传递的&lt;b&gt;source&lt;/b&gt;变量找到&lt;code&gt;parse_sources&lt;/code&gt;这个函数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;InventoryManager&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;parse_sources&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39; iterate over inventory sources and parse each one to populate it&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_setup_inventory_plugins …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Tue, 04 Sep 2018 10:53:51 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-09-04:/articles/2018/09/ansible笔记.html</guid><category>linux</category><category>python</category><category>ansible</category><category>devops</category></item><item><title>如何保持一个干净的系统</title><link>https://honmaple.me/articles/2018/07/%E5%A6%82%E4%BD%95%E4%BF%9D%E6%8C%81%E4%B8%80%E4%B8%AA%E5%B9%B2%E5%87%80%E7%9A%84%E7%B3%BB%E7%BB%9F.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-12861548"&gt;python&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-37676032"&gt;golang&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-1819888"&gt;lua&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-30938782"&gt;javascript&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;由于工作需要经常会使用多种语言, 比如 python, golang, lua, javascript等, 各种语言都有自己的包管理器，像python的包管理器&lt;b&gt;pip&lt;/b&gt;, lua的包管理器&lt;b&gt;luarocks&lt;/b&gt;。。。&lt;/p&gt;

&lt;p&gt;每个包管理器安装package的方式，位置都不相同，对于一个有洁癖的人来说,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls ~/ -al
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;后各种各样的&lt;code&gt;.something&lt;/code&gt;简直是场灾难, 所以保持一个干净的系统是非常必要的, 比如把相关语言的package都放到一个目录(我选择放到&lt;code&gt;$HOME/repo/{language}&lt;/code&gt;)下&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;请不要使用root用户，或者sudo来安装非必要的软件包&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id="org-12861548"&gt;python&lt;/h3&gt;
&lt;p&gt;我的&lt;b&gt;python&lt;/b&gt;环境是&lt;code&gt;pip+virtualenv+virtualenvwrapper&lt;/code&gt;, &lt;b&gt;pip&lt;/b&gt;可以有多种使用方式:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;b&gt;sudo&lt;/b&gt;
&lt;p&gt;&lt;b&gt;sudo&lt;/b&gt;安装的package放到&lt;code&gt;/usr/lib64 …&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Wed, 11 Jul 2018 10:42:19 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-07-11:/articles/2018/07/如何保持一个干净的系统.html</guid><category>linux</category><category>archlinux</category></item><item><title>花落</title><link>https://honmaple.me/articles/2018/07/%E8%8A%B1%E8%90%BD.html</link><description>

&lt;div class="org-center"&gt;
&lt;blockquote&gt;
&lt;p class="org-verse"&gt;
风落花语风落天&lt;br/&gt;花落风雨花落田
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;无意间想到的&lt;code&gt;花落系列&lt;/code&gt;。。。很好听的名字&lt;/p&gt;
&lt;/div&gt;

&lt;div class="org-center"&gt;
&lt;blockquote&gt;
&lt;p class="org-verse"&gt;
花落······雨&lt;br/&gt;&lt;br/&gt;花落······枫&lt;br/&gt;&lt;br/&gt;花落······雾&lt;br/&gt;&lt;br/&gt;花落······叶&lt;br/&gt;&lt;br/&gt;花落······雪&lt;br/&gt;&lt;br/&gt;花落······风&lt;br/&gt;&lt;br/&gt;花落······夜&lt;br/&gt;&lt;br/&gt;花落······月&lt;br/&gt;&lt;br/&gt;花落······己
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;

&lt;p&gt;。。。。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sat, 07 Jul 2018 13:56:30 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-07-07:/articles/2018/07/花落.html</guid><category>life</category><category>poem</category></item><item><title>自定义helm式的ivy</title><link>https://honmaple.me/articles/2018/06/%E8%87%AA%E5%AE%9A%E4%B9%89helm%E5%BC%8F%E7%9A%84ivy.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-56827192"&gt;吐嘈一: counsel-find-file&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-46223305"&gt;吐嘈二: tab 键&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-77342320"&gt;吐嘈三: 记忆多个按键&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-39855294"&gt;吐嘈四: 模糊搜索&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-77747879"&gt;吐嘈五: 候选词按使用频率排序&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-60253486"&gt;吐嘈六: minibuffer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-73104572"&gt;吐嘈七: dired 中复制或重命名文件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-22512558"&gt;吐嘈八: sudo edit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-31590745"&gt;吐嘈九: counsel-ag 默认不会使用已选的单词&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-16912421"&gt;总结&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;



&lt;blockquote&gt;
&lt;p&gt;在 &lt;b&gt;n&lt;/b&gt; 个月前, 我曾写过 &lt;a href="https://honmaple.me/articles/2018/01/helm与ivy简单对比.html"&gt;helm与ivy简单对比&lt;/a&gt;, 并吐嘈了&lt;code&gt;ivy&lt;/code&gt;细节打磨不够，以至于我切换到&lt;code&gt;ivy&lt;/code&gt;不到几天后,
又回到了&lt;code&gt;helm&lt;/code&gt;的拥抱, 但在&lt;b&gt;n&lt;/b&gt;个月后，本着&lt;b&gt;生命不止，折腾不息&lt;/b&gt;的精神, “狠狠地”的折腾了一把 …&lt;/p&gt;&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Thu, 14 Jun 2018 15:46:18 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-06-14:/articles/2018/06/自定义helm式的ivy.html</guid><category>linux</category><category>emacs</category></item><item><title>看,那是屋檐</title><link>https://honmaple.me/articles/2018/04/%E7%9C%8B,%E9%82%A3%E6%98%AF%E5%B1%8B%E6%AA%90.html</link><description>
&lt;p&gt;&lt;a href="https://honmaple.b0.upaiyun.com/images/pic/eaves.jpg-show" data-fancybox="image"&gt;&lt;img data-src="https://honmaple.b0.upaiyun.com/images/pic/eaves.jpg-thumb" class="lazyload" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
听说，抬起头可以看到屋檐&lt;br/&gt;可惜，外面没下雨
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;


&lt;blockquote&gt;
&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
听说，外面在下雨&lt;br/&gt;可惜，抬起头没有屋檐
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Tue, 24 Apr 2018 16:07:43 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-04-24:/articles/2018/04/看,那是屋檐.html</guid><category>life</category></item><item><title>落花</title><link>https://honmaple.me/articles/2018/04/%E8%90%BD%E8%8A%B1.html</link><description>
&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
落花
&lt;/p&gt;
&lt;/div&gt;


&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
落花有意随流水&lt;br/&gt;流水无心恋落花&lt;br/&gt;久在门(人)前山间坐&lt;br/&gt;静(坐)看人(世)间二月花
&lt;/p&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sun, 15 Apr 2018 23:02:12 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-04-15:/articles/2018/04/落花.html</guid><category>life</category><category>poem</category></item><item><title>golang笔记</title><link>https://honmaple.me/articles/2018/03/golang%E7%AC%94%E8%AE%B0.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-20549055"&gt;读取配置文件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-76847424"&gt;判断文件是否存在&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-77850160"&gt;随机睡眠&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-22076259"&gt;字符串连接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-69045982"&gt;检查元素是否在map中&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-50435339"&gt;检查元素是否在list中&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-72355056"&gt;执行Linux命令&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-82930855"&gt;迭代文件目录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-21403833"&gt;求两列表的差集&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-96739902"&gt;删除列表中重复的数据&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-64662301"&gt;参数校验&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-58598015"&gt;是否是IP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-87064949"&gt;是否是EMAIL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;h2 id="org-20549055"&gt;读取配置文件&lt;/h2&gt;
&lt;p&gt;注: &lt;b&gt;Configuration&lt;/b&gt; 里元素(Path)必须&lt;b&gt;大写&lt;/b&gt;开头&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;encoding/json&amp;quot;&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;flag&amp;quot;&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;fmt&amp;quot;&lt;/span&gt;
    &lt;span class="s"&gt;&amp;quot;io/ioutil&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kd"&gt;type&lt;/span&gt; &lt;span class="nx"&gt;Configuration&lt;/span&gt; &lt;span class="kd"&gt;struct&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;Path&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;VETSION&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;0.1.0&amp;quot;&lt;/span&gt;

&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="nx"&gt;config&lt;/span&gt; &lt;span class="nx"&gt;Configuration&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nx"&gt;init&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="nx"&gt;conf_file&lt;/span&gt; &lt;span class="kt"&gt;string …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Mon, 26 Mar 2018 09:44:14 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-03-26:/articles/2018/03/golang笔记.html</guid><category>golang</category><category>coding</category></item><item><title>日上三竿与夜半三更</title><link>https://honmaple.me/articles/2018/03/%E6%97%A5%E4%B8%8A%E4%B8%89%E7%AB%BF%E4%B8%8E%E5%A4%9C%E5%8D%8A%E4%B8%89%E6%9B%B4.html</link><description>

&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
日上三竿犹在眠&lt;br/&gt;不是神仙&lt;br/&gt;胜似神仙&lt;br/&gt;&lt;br/&gt;很舒服
&lt;/p&gt;
&lt;/div&gt;


&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
夜半三更竿犹在醒&lt;br/&gt;不是鬼&lt;br/&gt;胜似鬼&lt;br/&gt;&lt;br/&gt;很难受
&lt;/p&gt;
&lt;/div&gt;


&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
日上三竿犹在醒&lt;br/&gt;不是鬼&lt;br/&gt;胜似鬼&lt;br/&gt;&lt;br/&gt;很难受
&lt;/p&gt;
&lt;/div&gt;


&lt;div class="org-center"&gt;
&lt;p class="org-verse"&gt;
夜半三更竿犹在眠&lt;br/&gt;不是神仙&lt;br/&gt;胜似神仙&lt;br/&gt;&lt;br/&gt;很舒服
&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sun, 25 Mar 2018 19:30:09 +0800</pubDate><guid isPermaLink="false">tag:honmaple.me,2018-03-25:/articles/2018/03/日上三竿与夜半三更.html</guid><category>life</category><category>poem</category></item></channel></rss>