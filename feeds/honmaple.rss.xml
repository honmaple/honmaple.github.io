<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>honmaple's blog - honmaple</title><link>http://honmaple.org/</link><description></description><lastBuildDate>Sun, 13 Aug 2017 00:00:00 +0800</lastBuildDate><item><title>redis集群搭建</title><link>http://honmaple.org/articles/2017/08/redis%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-68386377"&gt;准备&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-64453092"&gt;创建集群&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-98343183"&gt;测试集群&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://www.redis.cn/topics/cluster-tutorial.html"&gt;参考资料&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Redis 集群是一个提供在多个Redis间*节点间共享数据*的程序集&lt;/p&gt;

&lt;h1 id="org-68386377"&gt;准备&lt;/h1&gt;

&lt;p&gt;集群开始需要运行redis集群实例，而且要让集群正常运作至少需要三个主节点,这里创建六个节点，三个为主节点，三个为从节点,端口号分别为9001,9002,9003,9004,9005,9006&lt;/p&gt;

&lt;p&gt;并创建六个以端口号为名字的目录， 在每个目录中运行一个Redis实例
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir -p redis/9001
&lt;span class="nb"&gt;cd&lt;/span&gt; redis
mkdir &lt;span class="m"&gt;9002&lt;/span&gt;
mkdir &lt;span class="m"&gt;9003&lt;/span&gt;
mkdir &lt;span class="m"&gt;9004&lt;/span&gt;
mkdir &lt;span class="m"&gt;9005&lt;/span&gt;
mkdir &lt;span class="m"&gt;9006&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;然后将对应的配置*redis.conf*放入相应的目录中(记得修改端口号)&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;最小配置选项:
&lt;pre class="example"&gt;
  port 9001
  cluster-enabled yes
  cluster-config-file node9001.conf
  cluster-node-timeout 5000
  appendonly yes
&lt;/pre&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;然后就可以启动redis实例了
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;redis-server redis/9001/redis.conf …&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sun, 13 Aug 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-08-13:/articles/2017/08/redis集群搭建.html</guid><category>linux</category><category>redis</category></item><item><title>tornado中session实现</title><link>http://honmaple.org/articles/2017/08/tornado%E4%B8%ADsession%E5%AE%9E%E7%8E%B0.html</link><description>
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;uuid&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;uuid4&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;redis&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;StrictRedis&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;functools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;wraps&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytz&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;timezone&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;singleton&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;instances&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

    &lt;span class="nd"&gt;@wraps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;getinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kw&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;instances&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;instances&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kw&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;instances&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;getinstance&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;current_time&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tz&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;tz&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;tz&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;UTC&amp;#39;&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;timezone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tz&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CoreSession&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sun, 06 Aug 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-08-06:/articles/2017/08/tornado中session实现.html</guid><category>python</category><category>tornado</category></item><item><title>猜猜数(python版)</title><link>http://honmaple.org/articles/2017/07/%E7%8C%9C%E7%8C%9C%E6%95%B0(python%E7%89%88).html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-69151741"&gt;函数版&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-81337132"&gt;类版&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-52864305"&gt;调用&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;h1 id="org-69151741"&gt;函数版&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;

    &lt;span class="n"&gt;min_num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;max_num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;
    &lt;span class="n"&gt;selected&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;


    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;random_go&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;go&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;min_num&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_num&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;selected&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;random_go&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;selected&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;


    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;guess&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="n"&gt;min_num&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_num&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;小了&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;min_num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min_num&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;guess&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_go&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;go …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Mon, 31 Jul 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-07-31:/articles/2017/07/猜猜数(python版).html</guid><category>python</category><category>代码分享</category></item><item><title>手机与Linux桌面文件共享</title><link>http://honmaple.org/articles/2017/07/%E6%89%8B%E6%9C%BA%E4%B8%8ELinux%E6%A1%8C%E9%9D%A2%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-11027712"&gt;手机共享文件到电脑&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-8609298"&gt;电脑共享文件到手机&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;手机: 某米
电脑: archlinux
环境: 同一wifi下&lt;/p&gt;

&lt;h1 id="org-11027712"&gt;手机共享文件到电脑&lt;/h1&gt;
&lt;p&gt;最近才发现手机可以开启ftp服务对文件进行共享,直接进入文件管理器开启就行,电脑上使用
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  ftp target
&lt;/pre&gt;&lt;/div&gt;

进行连接&lt;/p&gt;

&lt;p&gt;注：&lt;b&gt;get&lt;/b&gt; 下载&lt;b&gt;put&lt;/b&gt; 上传&lt;/p&gt;


&lt;h1 id="org-8609298"&gt;电脑共享文件到手机&lt;/h1&gt;
&lt;p&gt;这里采用python搭建一个简单的web服务(python3)供手机下载文件
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  # 首先 cd 到要共享的目录
  python -m http.server --bind 0.0.0.0
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;查看本机IP
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  ifconfig
  # 或者
  ip addr
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;&lt;b&gt;重要&lt;/b&gt;: 请确保关闭防火墙,否则手机无法连接
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  sudo systemctl stop iptables
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;然后手机浏览器访问&lt;b&gt;ip:8000&lt;/b&gt; 就能下载电脑端的文件了&lt;/p&gt;


&lt;p&gt;&lt;b&gt;非同一wifi环境下&lt;/b&gt; : 可以先在电脑端开启wifi热点(可以不联网),我是直接使用networkmanger进行创建的
&lt;img src="https://images.honmaple.com/images/admin/show/2017/07/150142558495491.png"/&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sun, 30 Jul 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-07-30:/articles/2017/07/手机与Linux桌面文件共享.html</guid><category>linux</category><category>ftp</category></item><item><title>Linux总结(草稿)</title><link>http://honmaple.org/articles/2017/07/Linux%E4%BC%AA%E6%80%BB%E7%BB%93.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-77665972"&gt;Linux发展历史&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-14090808"&gt;Linux的最小组成&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-37060325"&gt;Linux的安装与启动&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;



&lt;h1 id="org-77665972"&gt;Linux发展历史&lt;/h1&gt;
&lt;p&gt;Linux是由BSD发展而来，BSD又起源于UNIX。UNIX由贝尔实验室开发，
后来开放给各大学教学使用,其中伯克利大学通过对UNIX源码的研究以及不断的改进与扩展,
推出BSD,并于BSD 4.3版本加入网络模块,极大推进UNIX的发展。但后面由于版权等原因,
UNIX与BSD之间发生冲突与法律纠纷,直到1998年,在此期间,芬兰大学生Linus Torvalds
于1991年发布首个Linux版本,linux也趁UNIX与BSD纠纷之际,得到非常快速的发展&lt;/p&gt;

&lt;h1 id="org-14090808"&gt;Linux的最小组成&lt;/h1&gt;
&lt;p&gt;Linux最小由内核kernel,文件层次结构FHS,系统启动器bootloader组成,其中内存调度，
进程调度等由内核管理,内核可单独运行，但需要与其它组成相配合。&lt;/p&gt;

&lt;p&gt;语言:一般有头文件与库文件,头文件为实现,库文件为声明&lt;/p&gt;


&lt;h1 id="org-37060325"&gt;Linux的安装与启动&lt;/h1&gt;
&lt;p&gt;当linux启动时，首先启动内核，内核调用init来完成引导进程，init启动时，它会在/etc/inittab内查找默认的运行级别,
然后运行/etc/rc.d/init.d中运行级别的启动脚本。&lt;/p&gt;

&lt;p&gt;分区:一般分根分区/与swap交换分区,根分区的设置是为了备份方便&lt;/p&gt;

&lt;p&gt;文件系统:在存储设备上组织文件的方法,负责文件的增删改查,linux上常用文件系统有ext2,ext3,ext4,xfs,btrfs等 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Wed, 12 Jul 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-07-12:/articles/2017/07/Linux伪总结.html</guid><category>linux</category></item><item><title>celery动态添加任务</title><link>http://honmaple.org/articles/2017/07/celery%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E4%BB%BB%E5%8A%A1.html</link><description>

&lt;p&gt;celery是一个基于Python的分布式调度系统，&lt;a href="http://docs.celeryproject.org/en/latest/"&gt;文档在这&lt;/a&gt; ,最近有个需求,想要动态的添加任务而不用重启celery服务,找了一圈没找到什么好办法(也有可能是文档没看仔细)，所以只能自己实现囉&lt;/p&gt;

&lt;p&gt;为celery动态添加任务，首先我想到的是传递一个函数进去，让某个特定任务去执行这个传递过去的函数，就像这样
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@app.task&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;很可惜，会出现这样的错误
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kombu.exceptions.EncodeError: Object of type &amp;#39;function&amp;#39; is not JSON serializable
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;换一种序列化方式
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@app.task&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;serializer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pickle&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;结果又出现一大串错误信息
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ERROR/MainProcess] Pool callback raised exception: ContentDisallowed(&amp;#39;Refusing to deserialize untrusted content of type …&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Sun, 09 Jul 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-07-09:/articles/2017/07/celery动态添加任务.html</guid><category>linux</category><category>celery</category><category>python</category></item><item><title>我的Linux历程</title><link>http://honmaple.org/articles/2017/07/%E6%88%91%E7%9A%84Linux%E5%8E%86%E7%A8%8B.html</link><description>&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-69217750"&gt;Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-97530605"&gt;Linux发行版&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-93366970"&gt;Linux历程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-79083521"&gt;Linux的娱乐性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-30836244"&gt;Linux上的实用性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-81102675"&gt;深入了解Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;



&lt;h1 id="org-69217750"&gt;Linux&lt;/h1&gt;
&lt;p&gt;是一种计算机操作系统内核,以C语言和汇编语言写成，匹配POSIX标准，以GNU通用公共许可证(GPL2)发布,最早是由林纳斯·托瓦兹开发的类UNIX系统&lt;/p&gt;

&lt;p&gt;Linux与UNIX的区别: UNIX系统大多是与硬件配套的，而Linux则可运行在多种硬件平台上。UNIX是商业软件，而Linux自由免费。&lt;/p&gt;

&lt;h1 id="org-97530605"&gt;Linux发行版&lt;/h1&gt;
&lt;p&gt;简单的来说将Linux内核与一些系统软件，应用软件进行整合，有的发行版还包括图形界面(x11，wayland),目前所说的Linux大多代表Linux发行版&lt;/p&gt;

&lt;h1 id="org-93366970"&gt;Linux历程&lt;/h1&gt;
&lt;p&gt;曾经在某论坛看到linux这个名词，立马装上虚拟机然后安装了我的第一个Linux版本--centos，并且装上了gnome桌面环境，随后开始了Linux折腾之旅,
大概是这样的 centos --&gt; kali --&gt; ubuntu --&gt; fedora --&gt; ubuntu kylin --&gt; mint --&gt; debian --&gt; fedora --&gt; archlinux ......,Linux发行版大概分为3系,
debain系,包括ubuntu,mint,kali等,使用包管理器apt-get、aptitude、dpkg;centos或者说红帽系，包括众所周知的小白鼠版本fedora，
如果不是每半年要重装一次，我会一直使用它,而不是archlinux,所使用的包管理器yum,fedora已更换成dnf;
还有其它系，因为它们所占份额太小,包括archlinux …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Wed, 05 Jul 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-07-05:/articles/2017/07/我的Linux历程.html</guid><category>Linux</category></item><item><title>关于网易云音乐个性推荐无法显示的问题</title><link>http://honmaple.org/articles/2017/06/%E5%85%B3%E4%BA%8E%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E4%B8%AA%E6%80%A7%E6%8E%A8%E8%8D%90%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98.html</link><description>
&lt;p&gt;最近在使用网易云音乐时首页的个性推荐总是无法显示，一直在*正在为你生成个性化推荐*,网上也没找到什么办法,偶然间使用
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;┌─&lt;span class="o"&gt;[&lt;/span&gt;jianglin&lt;span class="o"&gt;]&lt;/span&gt;─&lt;span class="o"&gt;[&lt;/span&gt;~&lt;span class="o"&gt;]&lt;/span&gt;
└──╼ rm -rf .cache/netease-cloud-music/
┌─&lt;span class="o"&gt;[&lt;/span&gt;jianglin&lt;span class="o"&gt;]&lt;/span&gt;─&lt;span class="o"&gt;[&lt;/span&gt;~&lt;span class="o"&gt;]&lt;/span&gt;
└──╼ rm -rf .config/netease-cloud-music/
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;重新打开登陆后个性推荐就出现了，特此记录&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Fri, 02 Jun 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-06-02:/articles/2017/06/关于网易云音乐个性推荐无法显示的问题.html</guid><category>linux</category><category>netease</category></item><item><title>方便的切换emacs主题</title><link>http://honmaple.org/articles/2017/05/%E6%96%B9%E4%BE%BF%E7%9A%84%E5%88%87%E6%8D%A2emacs%E4%B8%BB%E9%A2%98.html</link><description>

&lt;p&gt;作为一个主题控，经常会切换主题，之前切换主题的方式是这样的，*M-x*,`load-theme`,选中,但是个人认为不够便捷，正好前几天发现了*hydra*这个插件,也想实践一下&lt;/p&gt;

&lt;p&gt;获取主题列表
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;maple-cycle-themes&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;mapcar&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;symbol-name&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;custom-available-themes&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;获取当前主题索引
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;cl-position&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;car&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;mapcar&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;symbol-name&lt;/span&gt; &lt;span class="nv"&gt;custom-enabled-themes&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="nv"&gt;maple-cycle-themes&lt;/span&gt; &lt;span class="nb"&gt;:test&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;equal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;获取下一个主题
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme-index&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme-index&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;nth&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme-index&lt;/span&gt; &lt;span class="nv"&gt;maple-cycle-themes&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;加载主题
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;load-theme&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;intern&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;最后得到这样的函数
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/cycle-theme&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;num&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme-index&lt;/span&gt;
          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;+&lt;/span&gt; &lt;span class="nv"&gt;num&lt;/span&gt;
             &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;cl-position&lt;/span&gt;
              &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;car&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;mapcar&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;symbol-name&lt;/span&gt; &lt;span class="nv"&gt;custom-enabled-themes&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="nv"&gt;maple-cycle-themes&lt;/span&gt; &lt;span class="nb"&gt;:test&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;equal&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme-index&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;length&lt;/span&gt; &lt;span class="nv"&gt;maple-cycle-themes&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;maple-current-theme-index …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Tue, 23 May 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-05-23:/articles/2017/05/方便的切换emacs主题.html</guid><category>linux</category><category>emacs</category><category>elisp</category></item><item><title>那些年我们一起写的诗</title><link>http://honmaple.org/articles/2017/05/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%BB%AC%E4%B8%80%E8%B5%B7%E5%86%99%E7%9A%84%E8%AF%97.html</link><description>
&lt;ul&gt;
&lt;li&gt;其实世界上本没有试，考得人多了，也便成了试
&lt;/li&gt;
&lt;li&gt;喝自己的水，让别人喝酒去吧！
&lt;/li&gt;
&lt;li&gt;春游只是一场旅行，不在乎目的地（呈贡新校区）在乎的只是周末的作业和做作业的心情，让作业去旅行…
&lt;/li&gt;
&lt;li&gt;忘记或是失忆…都是一场美丽
&lt;/li&gt;
&lt;li&gt;黑夜如此短暂，仅在闭眼睁眼之间，却不知黑暗之中，已有人迷失方向，正在苦苦寻觅黎明前的光亮
&lt;/li&gt;
&lt;li&gt;人生总有欢乐，亦有痛苦，我们本是为了活着而活着，活着，才有希望，死亡，或许能够躲避痛苦，但也将永远长眠于墓地，无法品味人生的酸甜苦辣
&lt;/li&gt;
&lt;li&gt;问君能有几多愁，恰似一江春水向东流；问君能有几多愁，恰似一群太监上青楼；问君能有几多愁，恰似一代天骄热泪流 ；问君能有几多愁，恰似三中作业多如牛。作业多，愁啊！
&lt;/li&gt;
&lt;li&gt;对内宣传实力如虎，对外抗议胆小如鼠
&lt;/li&gt;
&lt;li&gt;天朗、气清、月明、人中：夜迹…血月
&lt;/li&gt;
&lt;li&gt;众人皆白，唯我独黑
&lt;/li&gt;
&lt;li&gt;众人皆醉，唯我独醒
&lt;/li&gt;
&lt;li&gt;战争中出英雄，和平中出贪官，不在战争中爆发，就在和平中灭亡
&lt;/li&gt;
&lt;li&gt;人生就像是在走一条很长很长的路，两只脚唯有不断超越对方，才能前进；两只脚不断躲避对方，只能后退
&lt;/li&gt;
&lt;li&gt;生命如鸡肋，食之无味，弃之可惜
&lt;/li&gt;
&lt;li&gt;拎起屠刀，让佛祖说去吧
&lt;/li&gt;
&lt;li&gt;山脚有雨山无雨，眼中有泪眼无泪 …&lt;/li&gt;&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">honmaple</dc:creator><pubDate>Wed, 17 May 2017 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2017-05-17:/articles/2017/05/那些年我们一起写的诗.html</guid><category>生活随笔</category><category>诗</category></item></channel></rss>