<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>HonMaple's Blog</title><link>http://honmaple.org/</link><description></description><lastBuildDate>Tue, 22 Dec 2015 00:00:00 +0800</lastBuildDate><item><title>linux下C51开发</title><link>http://honmaple.org/articles/2015/12/linux%E4%B8%8BC51%E5%BC%80%E5%8F%91.html</link><description>&lt;p&gt;下载地址&amp;lt;http://sourceforge.net/pro&lt;/p&gt;
&lt;h2&gt;开发工具mcu8051ide&lt;/h2&gt;
&lt;p&gt;下载地址&lt;a href="http://sourceforge.net/projects/mcu8051ide/"&gt;http://sourceforge.net/projects/mcu8051ide/&lt;/a&gt;&lt;br /&gt;
安装sdcc  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S sdcc
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;根据README需要下载的依赖&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;REQUIRED PACKAGES : 
(Without these packages this program WILL NOT run)&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Package&lt;/th&gt;
&lt;th align="center"&gt;min. Version&lt;/th&gt;
&lt;th&gt;Where it's available&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;tcl&lt;/td&gt;
&lt;td align="center"&gt;8.5.9&lt;/td&gt;
&lt;td&gt;http://www.tcl.tk/software/tcltk/downloadnow84.html&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tk&lt;/td&gt;
&lt;td align="center"&gt;8.5.9&lt;/td&gt;
&lt;td&gt;http://www.tcl.tk/software/tcltk/downloadnow84.html&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;itcl&lt;/td&gt;
&lt;td align="center"&gt;3.4&lt;/td&gt;
&lt;td&gt;http://sourceforge.net/projects/incrtcl&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tdom&lt;/td&gt;
&lt;td align="center"&gt;0.8&lt;/td&gt;
&lt;td&gt;http://tdom.github.com/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tkimg&lt;/td&gt;
&lt;td align="center"&gt;1.3&lt;/td&gt;
&lt;td&gt;http://sourceforge.net/projects/tkimg&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tcllib&lt;/td&gt;
&lt;td align="center"&gt;1.6&lt;/td&gt;
&lt;td&gt;http://sourceforge.net/projects/tcllib&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Tclx&lt;/td&gt;
&lt;td align="center"&gt;8.4&lt;/td&gt;
&lt;td&gt;http://tclx.sourceforge.net&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bwidget&lt;/td&gt;
&lt;td align="center"&gt;1.8&lt;/td&gt;
&lt;td&gt;http://sourceforge.net/projects/tcllib&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;em&gt;注:安装必要依赖可以下载源码包自己编译安装,因为我的是Archlinux,以下命令以Arch为主&lt;/em&gt;&lt;/p&gt;
&lt;h4&gt;安装tcl,tk,tcllib,bwidget&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo pacman -S tcl tk tcllib bwidget
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;安装itcl,tdom,tkimg,tclx&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ yaourt -Ss itcl
aur/eclipse-dltk-itcl 5.0-1 &lt;span class="o"&gt;(&lt;/span&gt;3&lt;span class="o"&gt;)&lt;/span&gt;
    incr Tcl IDE &lt;span class="k"&gt;for&lt;/span&gt; Eclipse
aur/itcl3 3.4.1-1 &lt;span class="o"&gt;[&lt;/span&gt;installed&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;1&lt;span class="o"&gt;)&lt;/span&gt;
    Provides the extra language support needed to build large Tcl/Tk 
    applications, version 3.4
$ yaourt -S itcl3 &lt;span class="c1"&gt;#具体步骤略过&lt;/span&gt;
$ yaourt -S tdom
aur/tdom 0.8.3-1 &lt;span class="o"&gt;[&lt;/span&gt;installed&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;13&lt;span class="o"&gt;)&lt;/span&gt;
    A fast XML/DOM/XPath package &lt;span class="k"&gt;for&lt;/span&gt; Tcl written in C
aur/tdom-git 0.8.3.r92.g363cbda-1 &lt;span class="o"&gt;(&lt;/span&gt;4&lt;span class="o"&gt;)&lt;/span&gt;
    A fast XML/DOM/XPath package &lt;span class="k"&gt;for&lt;/span&gt; Tcl written in C
$ yaourt -S tdom
$ yaourt -Ss tkimg
aur/tkimg 1.4.2-1 &lt;span class="o"&gt;[&lt;/span&gt;installed&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;3&lt;span class="o"&gt;)&lt;/span&gt;
    This package enhances Tk, adding support &lt;span class="k"&gt;for&lt;/span&gt; many other Image formats: 
    BMP, XBM, XPM, GIF, PNG, JPEG, TIFF and postscript.
$ yaourt -S tkimg
$ yaourt -Ss tclx
aur/tclx 8.4-4 &lt;span class="o"&gt;(&lt;/span&gt;19&lt;span class="o"&gt;)&lt;/span&gt;
    Provides OS primitives, file scanning, data records etc. &lt;span class="k"&gt;for&lt;/span&gt; Tcl
aur/tclxml 3.2-2 &lt;span class="o"&gt;(&lt;/span&gt;4&lt;span class="o"&gt;)&lt;/span&gt;
    XML support &lt;span class="k"&gt;for&lt;/span&gt; the Tcl scripting language
aur/tclxosd 0.20-2 &lt;span class="o"&gt;(&lt;/span&gt;2&lt;span class="o"&gt;)&lt;/span&gt;
    A Tcl bindings &lt;span class="k"&gt;for&lt;/span&gt; libxosd &lt;span class="o"&gt;(&lt;/span&gt;On Screen Display&lt;span class="o"&gt;)&lt;/span&gt;
$ yaourt -S tclx &lt;span class="c1"&gt;#这里发现一个问题，我tclx没有装但mcu8051ide也能正常使用&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;安装mcu8051ide&lt;/h3&gt;
&lt;p&gt;解压源码包,进入源码包目录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ cmake . -DCMAKE_INSTALL_PREFIX&lt;span class="o"&gt;=&lt;/span&gt;/opt/mcu8051ide/ &lt;span class="c1"&gt;#不要忘记&amp;quot;.&amp;quot;,后面的是要安装到的目录&lt;/span&gt;
$ make
$ sudo make install
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;打开使用mcu8051ide&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt/bin
$ ./mcu8051ide --check-libraries &lt;span class="c1"&gt;#检查依赖是否安装好&lt;/span&gt;
$ ./mcu8051ide &lt;span class="c1"&gt;#打开软件&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;ok,可以编写程序了&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;单片机烧写&lt;/h2&gt;
&lt;h3&gt;使用软件gSTCISP&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://osdn.jp/projects/sfnet_gstcisp/releases/?fulllist=1"&gt;下载地址&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;安装gSTCISP&lt;/h3&gt;
&lt;p&gt;解压缩软件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; gSTC-ISP
$ ./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/opt/gSTCISP/
$ make  &lt;span class="c1"&gt;#如果直接make会出错,cd 到src目录，vim Makefile将CFLAGS = -g -O2更改为CFLAGS = -g -O2 -I/usr/include/vte-0.0/&lt;/span&gt;
$ sudo make install
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;使用gSTCISP&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sudo gSTCISP  &lt;span class="c1"&gt;#如果直接使用gSTCISP打开,烧写时会提示没有权限,请使用root权限打开&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;选择 /dev/ttyUSB0 (or 1) 和 4800 bauds&lt;br /&gt;
然后点击下载&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;ok,可以在linux系统下开发C51单片机了&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">2015-12-22 08:48:21.791522</dc:creator><pubDate>Tue, 22 Dec 2015 00:00:00 +0800</pubDate><guid isPermaLink="false">tag:honmaple.org,2015-12-22:articles/2015/12/linux下C51开发.html</guid><category>linux</category><category>C51</category></item></channel></rss>