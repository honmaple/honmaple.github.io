<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>honmaple's blog</title><link href="https://honmaple.me/" rel="alternate"></link><link href="http://127.0.0.1:8000/feeds/atom.xml" rel="self"></link><id>https://honmaple.me/</id><updated>2020-08-05T18:49:18+08:00</updated><subtitle>风落花语风落天，花落风雨花落田.</subtitle><entry><title>macos初始化设置</title><link href="https://honmaple.me/articles/2019/07/macos%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE.html" rel="alternate"></link><published>2019-07-28T01:57:44+08:00</published><updated>2020-07-05T13:54:02+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-07-28:/articles/2019/07/macos初始化设置.html</id><summary type="html">&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-45d50a4d7a"&gt;安装homebrew&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-e6e1a9f363"&gt;切换中国源&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-41dd1184d9"&gt;恢复官方源&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-b93e87ffbf"&gt;brew更新&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-edf24895bf"&gt;macos使用深色菜单栏&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-159245bcad"&gt;安装powerline字体&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-40a8979a23"&gt;禁止.DS_store生成&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;h3 id="org-45d50a4d7a"&gt;安装homebrew&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;安装命令行tools
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;xcode-install
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;gt&lt;span class="p"&gt;;&amp;amp;&lt;/span&gt;gt&lt;span class="p"&gt;;&lt;/span&gt; brew_install
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;修改REPO地址&lt;/li&gt;
&lt;li&gt;执行安装
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ruby brew_install
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;homebrew cask&lt;/p&gt;

&lt;p&gt;使用git clone 中科大到指定目录&lt;/p&gt;

&lt;p&gt;homebrew卸载依赖, 使用homebrew tap xxx/rmtree
brew rmtree emacs&lt;/p&gt;

&lt;p&gt;App Store 安装 QQ,微信，网易云音乐
Brew cask 安装 git, google-chrome, virtualbox, shadowsocksx-ng,emacs …&lt;/p&gt;</summary><content type="html">&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-45d50a4d7a"&gt;安装homebrew&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-e6e1a9f363"&gt;切换中国源&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-41dd1184d9"&gt;恢复官方源&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-b93e87ffbf"&gt;brew更新&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-edf24895bf"&gt;macos使用深色菜单栏&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-159245bcad"&gt;安装powerline字体&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-40a8979a23"&gt;禁止.DS_store生成&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;h3 id="org-45d50a4d7a"&gt;安装homebrew&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;安装命令行tools
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;xcode-install
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;gt&lt;span class="p"&gt;;&amp;amp;&lt;/span&gt;gt&lt;span class="p"&gt;;&lt;/span&gt; brew_install
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;修改REPO地址&lt;/li&gt;
&lt;li&gt;执行安装
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ruby brew_install
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;homebrew cask&lt;/p&gt;

&lt;p&gt;使用git clone 中科大到指定目录&lt;/p&gt;

&lt;p&gt;homebrew卸载依赖, 使用homebrew tap xxx/rmtree
brew rmtree emacs&lt;/p&gt;

&lt;p&gt;App Store 安装 QQ,微信，网易云音乐
Brew cask 安装 git, google-chrome, virtualbox, shadowsocksx-ng,emacs&lt;/p&gt;

&lt;p&gt;拷贝文件，使用共享里的远程管理, 在原机器Linux下ssh到macbookpro，或者使用scp&lt;/p&gt;

&lt;p&gt;修改电脑名，在设置共享里&lt;/p&gt;

&lt;h4 id="org-e6e1a9f363"&gt;切换中国源&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git -C &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;brew --repo&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git
git -C &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;brew --repo homebrew/core&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
git -C &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;brew --repo homebrew/cask&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git
brew update -v
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id="org-41dd1184d9"&gt;恢复官方源&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git -C &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;brew --repo&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; remote set-url origin https://github.com/Homebrew/brew.git
git -C &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;brew --repo homebrew/core&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; remote set-url origin https://github.com/Homebrew/homebrew-core.git
git -C &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;brew --repo homebrew/cask&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; remote set-url origin https://github.com/Homebrew/homebrew-cask.git
brew update -v
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="org-b93e87ffbf"&gt;brew更新&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;更新brew
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;brew update -v
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;注：&lt;b&gt;-v&lt;/b&gt;可显示更新进度&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;列出可更新
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;brew outdated
brew cask outdated --greedy
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;更新软件
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;brew upgrade go git node
brew cask upgrade steam
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="org-edf24895bf"&gt;macos使用深色菜单栏&lt;/h3&gt;
&lt;p&gt;1.在「系统偏好设置 - 通用」中将外观切换成「浅色」。
2.打开终端，输入指令：defaults write -g NSRequiresAquaSystemAppearance -bool Yes
3.注销并重新登录。这一步会关闭当前所有打开的应用，因此需要提前保存好所有文稿。
4.在「系统偏好设置 - 通用」中将外观切换成「深色&lt;/p&gt;

&lt;p&gt;如果你想要恢复成默认的深色模式，那么在终端中输入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;defaults write -g NSRequiresAquaSystemAppearance -bool No
defaults delete -g NSRequiresAquaSystemAppearance
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;再执行第 3 步即可&lt;/p&gt;


&lt;h3 id="org-159245bcad"&gt;安装powerline字体&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;brew cask install font-inconsolata-for-powerline
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;终端设置字体，重启终端&lt;/p&gt;

&lt;h3 id="org-40a8979a23"&gt;禁止.DS_store生成&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 禁止 .DS_store 生成，打开“终端”，复制黏贴下面的命令，回车执行，重启 Mac 即可生效。&lt;/span&gt;
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE
&lt;span class="c1"&gt;# 恢复 .DS_store 生成&lt;/span&gt;
defaults delete com.apple.desktopservices DSDontWriteNetworkStores
&lt;span class="c1"&gt;# 刪除已存在的. DS_Store&lt;/span&gt;
sudo find . -name &lt;span class="s2"&gt;&amp;quot;.DS_Store&amp;quot;&lt;/span&gt; -depth -exec rm &lt;span class="o"&gt;{}&lt;/span&gt; &lt;span class="se"&gt;\;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="Linux"></category><category term="macos"></category><category term="brew"></category></entry><entry><title>elisp生成渐变XPM图片</title><link href="https://honmaple.me/articles/2019/07/elisp%E7%94%9F%E6%88%90%E6%B8%90%E5%8F%98XPM%E5%9B%BE%E7%89%87.html" rel="alternate"></link><published>2019-07-12T18:21:04+08:00</published><updated>2019-07-12T19:09:25+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-07-12:/articles/2019/07/elisp生成渐变XPM图片.html</id><summary type="html">&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-73d569baf7"&gt;渐变颜色&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-9a9c7eb347"&gt;生成XPM图片&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-35d265ae60"&gt;效果显示&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;无意中看到 &lt;a href="https://github.com/dbordak/telephone-line"&gt;telephone-line&lt;/a&gt; 有一种渐变颜色的效果，看起来很棒，但&lt;b&gt;telephone-line&lt;/b&gt;的源码有些难懂，所以自己动手实现类似的效果&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id="org-73d569baf7"&gt;渐变颜色&lt;/h3&gt;
&lt;p&gt;渐变颜色的实现可使用&lt;code&gt;color-gradient&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color-gradient&lt;/span&gt;
 &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color-name-to-rgb&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;实现原理是对红(R)、绿(G)、蓝(B)三个颜色通道分别取 &lt;b&gt;n + 2&lt;/b&gt; 个过渡值，&lt;b&gt;n&lt;/b&gt; 为中间颜色过渡状态，所以对于&lt;code&gt;red&lt;/code&gt;、&lt;code&gt;#000&lt;/code&gt;、&lt;code&gt;#a0a0a0&lt;/code&gt;等颜色需要转化为RGB色彩模式&lt;/p&gt;

&lt;h3 id="org-9a9c7eb347"&gt;生成XPM图片&lt;/h3&gt;
&lt;p&gt;XPM图片格式参考 &lt;a href="https://en.wikipedia.org/wiki/X_PixMap"&gt;https://en.wikipedia.org/wiki/X_PixMap …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-73d569baf7"&gt;渐变颜色&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-9a9c7eb347"&gt;生成XPM图片&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-35d265ae60"&gt;效果显示&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;无意中看到 &lt;a href="https://github.com/dbordak/telephone-line"&gt;telephone-line&lt;/a&gt; 有一种渐变颜色的效果，看起来很棒，但&lt;b&gt;telephone-line&lt;/b&gt;的源码有些难懂，所以自己动手实现类似的效果&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id="org-73d569baf7"&gt;渐变颜色&lt;/h3&gt;
&lt;p&gt;渐变颜色的实现可使用&lt;code&gt;color-gradient&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color-gradient&lt;/span&gt;
 &lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color-name-to-rgb&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;实现原理是对红(R)、绿(G)、蓝(B)三个颜色通道分别取 &lt;b&gt;n + 2&lt;/b&gt; 个过渡值，&lt;b&gt;n&lt;/b&gt; 为中间颜色过渡状态，所以对于&lt;code&gt;red&lt;/code&gt;、&lt;code&gt;#000&lt;/code&gt;、&lt;code&gt;#a0a0a0&lt;/code&gt;等颜色需要转化为RGB色彩模式&lt;/p&gt;

&lt;h3 id="org-9a9c7eb347"&gt;生成XPM图片&lt;/h3&gt;
&lt;p&gt;XPM图片格式参考 &lt;a href="https://en.wikipedia.org/wiki/X_PixMap"&gt;https://en.wikipedia.org/wiki/X_PixMap&lt;/a&gt;(XPM3)&lt;/p&gt;

&lt;p&gt;大概是这样的&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cm"&gt;/* XPM */&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
static&lt;span class="w"&gt; &lt;/span&gt;char&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;XFACE&lt;span class="err"&gt;[]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="cm"&gt;/* &amp;amp;lt;Values&amp;amp;gt; */&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="cm"&gt;/* &amp;amp;lt;width/columns&amp;amp;gt; &amp;amp;lt;height/rows&amp;amp;gt; &amp;amp;lt;colors&amp;amp;gt; &amp;amp;lt;chars per pixel&amp;amp;gt;*/&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;48 4 2 1&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="cm"&gt;/* &amp;amp;lt;Colors&amp;amp;gt; */&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;a c #ffffff&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;b c #000000&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="cm"&gt;/* &amp;amp;lt;Pixels&amp;amp;gt; */&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;abaabaababaaabaabababaabaabaababaabaaababaabaaab&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;abaabaababaaabaabababaabaabaababaabaaababaabaaab&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;abaabaababaaabaabababaabaabaababaabaaababaabaaab&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;abaabaababaaabaabababaabaabaababaabaaababaabaaab&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="err"&gt;};&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;渐变颜色XPM图片原理就是使用不同的字符代表不同状态的渐变颜色，当所使用的字符数越多，渐变效果越好，但同时XPM图片的宽度也就越大&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;生成不同字符&lt;/b&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;;; 0～9&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;mapcar&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;number-to-string&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;number-sequence&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;;; a~z&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;mapcar&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;char-to-string&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;number-sequence&lt;/span&gt; &lt;span class="sc"&gt;?a&lt;/span&gt; &lt;span class="sc"&gt;?z&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;&lt;b&gt;不同字符对应不同颜色&lt;/b&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;number&lt;/span&gt; &lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;mapconcat&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;lambda&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;number&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;+&lt;/span&gt; &lt;span class="nv"&gt;number&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;format&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;\&amp;quot;%s c %s\&amp;quot;,&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;nth&lt;/span&gt; &lt;span class="nv"&gt;number&lt;/span&gt; &lt;span class="nv"&gt;maple-xpm-chars&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;apply&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;color-rgb-to-hex&lt;/span&gt; &lt;span class="nv"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color-gradient&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color-name-to-rgb&lt;/span&gt; &lt;span class="nv"&gt;color1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;color-name-to-rgb&lt;/span&gt; &lt;span class="nv"&gt;color2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="org-35d265ae60"&gt;效果显示&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://static.honmaple.com/default/images/2019/07/xpm-gradient.png?type=show" data-fancybox="image"&gt;&lt;img data-src="https://static.honmaple.com/default/images/2019/07/xpm-gradient.png?type=thumb" class="lazyload" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="https://github.com/honmaple/emacs-maple-xpm"&gt;完整代码及更多XPM图片&lt;/a&gt;&lt;/p&gt;</content><category term="Linux"></category><category term="linux"></category><category term="emacs"></category><category term="elisp"></category></entry><entry><title>联想——一家中国的外国企业</title><link href="https://honmaple.me/articles/2019/05/%E8%81%94%E6%83%B3%E2%80%94%E2%80%94%E4%B8%80%E5%AE%B6%E4%B8%AD%E5%9B%BD%E7%9A%84%E5%A4%96%E5%9B%BD%E4%BC%81%E4%B8%9A.html" rel="alternate"></link><published>2019-05-27T15:38:20+08:00</published><updated>2019-05-27T16:09:24+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-05-27:/articles/2019/05/联想——一家中国的外国企业.html</id><summary type="html">
&lt;blockquote&gt;
&lt;p&gt;联想，一家身在中国却心向美国的“良心企业”，江湖人称“美帝良心想”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;说实话，我是非常满意&lt;b&gt;x1c&lt;/b&gt;的，它满足了我太多需求，前置摄像头物理遮板，对&lt;b&gt;Linux&lt;/b&gt;支持良好，接口齐全，轻薄便携......如若不是国行价格太贵，如若不是八通道太麻烦，如若不是918日本军旗事件，如若联想不是外国企业，也许我现在在使用的就是&lt;b&gt;x1c&lt;/b&gt;了吧&lt;/p&gt;

&lt;p&gt;但一切没有如果, &lt;b&gt;毕竟，在大多数时候，人都需要最基本的底线, 是吧&lt;/b&gt;&lt;/p&gt;

&lt;p class="verse"&gt;
2006年，联想飞线门事件，全球召回中国除外。&lt;br/&gt;2008年，联想换屏门，Y430中国版提供劣质屏幕。&lt;br/&gt;2011年，联想闪屏门，全球退换中国除外。&lt;br/&gt;2012年，联想Y480国行，阉割背光和屏线接口。&lt;br/&gt;2013年，联想背光门，Y400国行背光阉割。&lt;br/&gt;2013年，联想Y500国行阉割高分屏。&lt;br/&gt;2013年，联想T410国行阉割成单频网卡。&lt;br/&gt;2014年，联想Y510国行阉割SSD接口 …&lt;/p&gt;</summary><content type="html">
&lt;blockquote&gt;
&lt;p&gt;联想，一家身在中国却心向美国的“良心企业”，江湖人称“美帝良心想”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;说实话，我是非常满意&lt;b&gt;x1c&lt;/b&gt;的，它满足了我太多需求，前置摄像头物理遮板，对&lt;b&gt;Linux&lt;/b&gt;支持良好，接口齐全，轻薄便携......如若不是国行价格太贵，如若不是八通道太麻烦，如若不是918日本军旗事件，如若联想不是外国企业，也许我现在在使用的就是&lt;b&gt;x1c&lt;/b&gt;了吧&lt;/p&gt;

&lt;p&gt;但一切没有如果, &lt;b&gt;毕竟，在大多数时候，人都需要最基本的底线, 是吧&lt;/b&gt;&lt;/p&gt;

&lt;p class="verse"&gt;
2006年，联想飞线门事件，全球召回中国除外。&lt;br/&gt;2008年，联想换屏门，Y430中国版提供劣质屏幕。&lt;br/&gt;2011年，联想闪屏门，全球退换中国除外。&lt;br/&gt;2012年，联想Y480国行，阉割背光和屏线接口。&lt;br/&gt;2013年，联想背光门，Y400国行背光阉割。&lt;br/&gt;2013年，联想Y500国行阉割高分屏。&lt;br/&gt;2013年，联想T410国行阉割成单频网卡。&lt;br/&gt;2014年，联想Y510国行阉割SSD接口。&lt;br/&gt;2015年，联想说笔记本中美差价源于增值税，然而中美差价最高47.46%，而增值税只有17%，且美国有消费税。&lt;br/&gt;2015年，联想断轴门，Y50短轴全球可更换但中国除外。&lt;br/&gt;2015年，联想Y700国行阉割玻璃屏。&lt;br/&gt;2014年，联想向美国劳军联合会捐赠大批电脑，联想说自己是全球公司，以全球利益为先。&lt;br/&gt;2017年，联想武士刀，918国耻日宣传武士道，联想中国说他们归美国总部管辖，决策跟他们无关。&lt;br/&gt;2018年，联想5G投票事件，背刺华为，断我国5G之路。&lt;br/&gt;2018年，中国人与狗不得打折。&lt;br/&gt;2018年，联想在政府采购会议上反对预装国产操作系统，且反对同时预装Windows+国产操作系统，并且说联想永远支持国产系统，不知道联想的国产是哪个国？&lt;br/&gt;&lt;br/&gt;&lt;hr&gt;转自&lt;a href="http://tieba.baidu.com/p/5937773993"&gt;互联网&lt;/a&gt;
&lt;/p&gt;
</content><category term="Life"></category><category term="life"></category></entry><entry><title>曾经</title><link href="https://honmaple.me/articles/2019/05/%E6%9B%BE%E7%BB%8F.html" rel="alternate"></link><published>2019-05-20T00:31:18+08:00</published><updated>2020-08-05T18:49:18+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-05-20:/articles/2019/05/曾经.html</id><content type="html">
&lt;blockquote&gt;
&lt;div style="text-align: center;"&gt;
&lt;p class="verse"&gt;
曾经&lt;br/&gt;她问我&lt;br/&gt;谁是运动会上得分最多的人&lt;br/&gt;&lt;br/&gt;我笑着&lt;br/&gt;指了指旁边&lt;br/&gt;是他&lt;br/&gt;&lt;br/&gt;后来&lt;br/&gt;听说他们在一起了&lt;br/&gt;&lt;br/&gt;明明得分最多的人是我&lt;br/&gt;&lt;br/&gt;曾经&lt;br/&gt;她问我&lt;br/&gt;谁考了全校第二&lt;br/&gt;&lt;br/&gt;我笑着&lt;br/&gt;指了指旁边&lt;br/&gt;是他&lt;br/&gt;&lt;br/&gt;后来&lt;br/&gt;听说他们走得很近&lt;br/&gt;&lt;br/&gt;明明考了全校第二的人是我&lt;br/&gt;&lt;br/&gt;后来&lt;br/&gt;她不再问我了&lt;br/&gt;&lt;br/&gt;后来&lt;br/&gt;我没有她了
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;</content><category term="love"></category><category term="life"></category></entry><entry><title>关于ivy的使用技巧</title><link href="https://honmaple.me/articles/2019/05/%E5%85%B3%E4%BA%8Eivy%E7%9A%84%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7.html" rel="alternate"></link><published>2019-05-14T02:32:02+08:00</published><updated>2019-05-27T16:10:32+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-05-14:/articles/2019/05/关于ivy的使用技巧.html</id><summary type="html">&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-3adaf767ed"&gt;ivy中的tab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-02cb96c0de"&gt;ivy中的C-h&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-3528d8c79e"&gt;ivy-occur批量操作&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-b52fad50bf"&gt;自动打开wgrep-mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-2e8b987865"&gt;批量修改文件名&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-92aa2d024e"&gt;counsel-find-file&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-1cd80fd7a8"&gt;重命名&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-278502a2b7"&gt;自动创建不存在的目录&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-c0d738df1a"&gt;ivy自动使用选中的内容&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-f982e2b254"&gt;搜索某个目录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-16e38e01b5"&gt;ivy的显示避免出现在视线外&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;ivy默认的配置已经足够了，但还是可以通过一些技巧来提升使用体验&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id="org-3adaf767ed"&gt;ivy中的tab&lt;/h2&gt;
&lt;p&gt;ivy提供了好几个有关补全的命令，分别是&lt;b&gt;ivy-done&lt;/b&gt;, &lt;b&gt;ivy-partial-or-done&lt;/b&gt;, &lt;b&gt;ivy-immediate-done&lt;/b&gt;, &lt;b&gt;ivy-dispatching-done&lt;/b&gt;, 但不幸，想要获得高效的补全，我不得不记住这n多个命令，这常常使效率变得更低，
所以，我自定义了一个 &lt;b&gt;maple/ivy-done&lt;/b&gt;, 仅使用 &lt;code&gt;tab&lt;/code&gt; 这一个按键就可以获得以上所有的体验&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-done&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="nv"&gt;ivy--directory&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-partial-or-done&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;string=&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="nv"&gt;ivy--directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-insert-current&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;and …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div id="table-of-contents"&gt;&lt;h2&gt;Table of Contents&lt;/h2&gt;&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-3adaf767ed"&gt;ivy中的tab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-02cb96c0de"&gt;ivy中的C-h&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-3528d8c79e"&gt;ivy-occur批量操作&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-b52fad50bf"&gt;自动打开wgrep-mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-2e8b987865"&gt;批量修改文件名&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-92aa2d024e"&gt;counsel-find-file&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org-1cd80fd7a8"&gt;重命名&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-278502a2b7"&gt;自动创建不存在的目录&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-c0d738df1a"&gt;ivy自动使用选中的内容&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-f982e2b254"&gt;搜索某个目录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org-16e38e01b5"&gt;ivy的显示避免出现在视线外&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;ivy默认的配置已经足够了，但还是可以通过一些技巧来提升使用体验&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id="org-3adaf767ed"&gt;ivy中的tab&lt;/h2&gt;
&lt;p&gt;ivy提供了好几个有关补全的命令，分别是&lt;b&gt;ivy-done&lt;/b&gt;, &lt;b&gt;ivy-partial-or-done&lt;/b&gt;, &lt;b&gt;ivy-immediate-done&lt;/b&gt;, &lt;b&gt;ivy-dispatching-done&lt;/b&gt;, 但不幸，想要获得高效的补全，我不得不记住这n多个命令，这常常使效率变得更低，
所以，我自定义了一个 &lt;b&gt;maple/ivy-done&lt;/b&gt;, 仅使用 &lt;code&gt;tab&lt;/code&gt; 这一个按键就可以获得以上所有的体验&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-done&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="nv"&gt;ivy--directory&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-partial-or-done&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;string=&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="nv"&gt;ivy--directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-insert-current&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;eq&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-state-collection&lt;/span&gt; &lt;span class="nv"&gt;ivy-last&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nf"&gt;#&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;read-file-name-internal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-expand-file-if-directory&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-state-current&lt;/span&gt; &lt;span class="nv"&gt;ivy-last&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy--cd&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;this-command&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;ivy-cd&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;预设场景一
&lt;p&gt;dirs目录下有&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;init-a.el
init-b.el
init-c.el
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;等多个文件, 我需要把&lt;b&gt;init-c.el&lt;/b&gt;重命名为&lt;b&gt;init-c.el.bak&lt;/b&gt;, 默认的ivy会怎么做呢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;输入 &lt;b&gt;init c&lt;/b&gt; 进行查找&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;C-M-j&lt;/code&gt; &lt;b&gt;(ivy-immediate-done)&lt;/b&gt; 插入当前选中项&lt;/li&gt;
&lt;li&gt;修改
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而使用 &lt;b&gt;maple/ivy-done&lt;/b&gt; 后呢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;输入 &lt;b&gt;init c&lt;/b&gt; 进行查找&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;tab&lt;/code&gt; 插入当前选中项&lt;/li&gt;
&lt;li&gt;修改
&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;预设场景二
&lt;p&gt;有一个n级子目录，需要切换到第n个子目录下, 默认的ivy会怎么做呢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;tab&lt;/code&gt; 选中&lt;/li&gt;
&lt;li&gt;再次使用 &lt;code&gt;tab&lt;/code&gt; 切换目录
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而使用 &lt;b&gt;maple/ivy-done&lt;/b&gt; 后呢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;tab&lt;/code&gt; 选中并切换目录
&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="org-02cb96c0de"&gt;ivy中的C-h&lt;/h2&gt;
&lt;p&gt;由于我是邪恶的 &lt;b&gt;evil&lt;/b&gt; 用户, 所以我正常情况会使用 &lt;code&gt;C-j&lt;/code&gt;, &lt;code&gt;C-k&lt;/code&gt;来选择待选项，同样的，我希望能够使用 &lt;code&gt;C-h&lt;/code&gt; 来进行某些操作,比如在&lt;b&gt;counsel-ag&lt;/b&gt;中使用&lt;code&gt;C-h&lt;/code&gt;代替&lt;code&gt;backspace&lt;/code&gt;删除输入的字符，而在&lt;b&gt;counsel-find-file&lt;/b&gt;中使用&lt;code&gt;C-h&lt;/code&gt;切换到上一级目录&lt;/p&gt;

&lt;p&gt;ivy默认提供了 &lt;b&gt;counsel-up-directory&lt;/b&gt; 命令可以切换到上级目录, 我希望能更进一步，当有插入的字符时, 调用&lt;code&gt;C-h&lt;/code&gt;能够直接清除插入的字符,再次调用才切换到上一级目录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-c-h&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;eq&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-state-collection&lt;/span&gt; &lt;span class="nv"&gt;ivy-last&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nf"&gt;#&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;read-file-name-internal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;string-equal&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy--input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;counsel-up-directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;delete-minibuffer-contents&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-backward-delete-char&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="org-3528d8c79e"&gt;ivy-occur批量操作&lt;/h2&gt;
&lt;h3 id="org-b52fad50bf"&gt;自动打开wgrep-mode&lt;/h3&gt;
&lt;p&gt;ivy默认调用&lt;b&gt;ivy-occur&lt;/b&gt;后, 还需要调用&lt;b&gt;ivy-wgrep-change-to-wgrep-mode&lt;/b&gt;才能进行批量修改&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;;; ivy-occur custom&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-edit&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;Edit the current search results in a buffer using wgrep.&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;run-with-idle-timer&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;ivy-wgrep-change-to-wgrep-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-occur&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="org-2e8b987865"&gt;批量修改文件名&lt;/h3&gt;
&lt;p&gt;预设场景: 当某个项目下有许多使用 &lt;b&gt;aaa.py&lt;/b&gt;的文件,我需要把 &lt;b&gt;aaa.py&lt;/b&gt; 全部修改为 &lt;b&gt;bbb.py&lt;/b&gt;, 也许某个 &lt;b&gt;aaa.py&lt;/b&gt; 需要修改成 &lt;b&gt;ccc.py&lt;/b&gt;，我在使用 &lt;b&gt;projectile-find-file&lt;/b&gt; 搜索完全部的 &lt;b&gt;aaa.py&lt;/b&gt; 后，打开ivy默认的&lt;b&gt;ivy-occur&lt;/b&gt;并不能对文件进行修改(提示&lt;code&gt;Text read only&lt;/code&gt;), 所以我采用 &lt;b&gt;find-name-dired&lt;/b&gt; 来批量修改文件名(目前还有些问题)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-dired-occur&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;find-name-dired&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;projectile-project-root&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;default-directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;concat&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy--input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-exit-with-action&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;lambda&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;pop-to-buffer&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;get-buffer&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;*Find*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;dired-hide-details-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;wdired-change-to-wdired-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
     &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;bound-and-true-p&lt;/span&gt; &lt;span class="nv"&gt;evil-local-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;evil-normal-state&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="org-92aa2d024e"&gt;counsel-find-file&lt;/h2&gt;
&lt;h3 id="org-1cd80fd7a8"&gt;重命名&lt;/h3&gt;
&lt;p&gt;预设场景: 有一个dirs目录, 我需要在同级目录下创建一个 &lt;b&gt;dirs-aa.el&lt;/b&gt; 的文件, 默认的ivy会怎么做呢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;切换到 dirs 目录的上级目录&lt;/li&gt;
&lt;li&gt;使用 &lt;b&gt;ivy-immediate-done&lt;/b&gt; 插入目录名&lt;/li&gt;
&lt;li&gt;新建文件
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但还有一种方式&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;切换到 dirs 目录&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;backspace&lt;/code&gt; 键删除目录末尾的 =/=&lt;/li&gt;
&lt;li&gt;新建文件
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不幸的是，ivy中 &lt;code&gt;backspace&lt;/code&gt; 的按键绑定了 &lt;b&gt;ivy-backward-delete-char&lt;/b&gt;, 在 &lt;b&gt;counsel-find-file&lt;/b&gt; 中使用 ivy会直接返回上级目录, 所以需要对 &lt;b&gt;ivy-backward-delete-char&lt;/b&gt; 作简单的修改&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-backward-delete-char&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="nv"&gt;ivy--directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;p&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="nv"&gt;ivy--directory&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;minibuffer-prompt-end&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;point&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ivy-backward-delete-char&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;when&lt;/span&gt; &lt;span class="nv"&gt;p&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;insert&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;file-name-nondirectory&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;directory-file-name&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;))))))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="org-278502a2b7"&gt;自动创建不存在的目录&lt;/h3&gt;
&lt;p&gt;不仅用于ivy, 其它文件操作命令也需要&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-make-directory-maybe&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;Create parent directory if not exists while visiting file.&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;file-name-directory&lt;/span&gt; &lt;span class="nf"&gt;buffer-file-name&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;unless&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;file-exists-p&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;y-or-n-p&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;format&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Directory %s does not exist,do you want you create it? &amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;make-directory&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt; &lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;keyboard-quit&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;find-file-not-found-functions&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;maple/ivy-make-directory-maybe&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt; &lt;span class="nf"&gt;#&amp;#39;eq&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="org-c0d738df1a"&gt;ivy自动使用选中的内容&lt;/h2&gt;
&lt;p&gt;在使用 &lt;b&gt;counsel-ag&lt;/b&gt; 或者 &lt;b&gt;swiper&lt;/b&gt;, 我需要快速搜索选中的关键词，然而，ivy默认并不支持这么做，ivy需要打开&lt;b&gt;counsel-ag&lt;/b&gt;后使用 &lt;code&gt;M-n&lt;/code&gt; 插入选中的关键词，当然，也许是作者认为这样的方式很方便，但我并不认同，我为何需要重复一次操作呢，为何还需要记住 &lt;code&gt;M-n&lt;/code&gt; 这样的按键呢？&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/region-string&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="s"&gt;&amp;quot;Get region string.&amp;quot;&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;not&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;use-region-p&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let*&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;beg&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;region-beginning&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;end&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;region-end&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;eol&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;save-excursion&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;goto-char&lt;/span&gt; &lt;span class="nv"&gt;beg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;line-end-position&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;deactivate-mark&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;buffer-substring-no-properties&lt;/span&gt; &lt;span class="nv"&gt;beg&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;min&lt;/span&gt; &lt;span class="nv"&gt;end&lt;/span&gt; &lt;span class="nv"&gt;eol&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;

&lt;span class="c1"&gt;;; custom counsel-ag&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/counsel-ag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;-counsel-ag&lt;/span&gt; &lt;span class="kp"&gt;&amp;amp;optional&lt;/span&gt; &lt;span class="nv"&gt;initial-input&lt;/span&gt; &lt;span class="nv"&gt;initial-directory&lt;/span&gt; &lt;span class="nv"&gt;extra-ag-args&lt;/span&gt; &lt;span class="nv"&gt;ag-prompt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;funcall&lt;/span&gt; &lt;span class="nv"&gt;-counsel-ag&lt;/span&gt;
           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;initial-input&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;maple/region-string&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;or&lt;/span&gt; &lt;span class="nv"&gt;initial-directory&lt;/span&gt; &lt;span class="nv"&gt;default-directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
           &lt;span class="nv"&gt;extra-ag-args&lt;/span&gt;
           &lt;span class="nv"&gt;ag-prompt&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;advice-add&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;counsel-ag&lt;/span&gt; &lt;span class="nb"&gt;:around&lt;/span&gt; &lt;span class="nf"&gt;#&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;maple/counsel-ag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这样，调用 &lt;b&gt;counsel-ag&lt;/b&gt; 时，如何已经有选中的关键词，就会直接调用该关键词进行查找，避免重复操作, 同样的对于&lt;b&gt;swiper&lt;/b&gt; 也可以使用另一种方式&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/ivy-search-at-point&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;ivy-initial-inputs-alist&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;list&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;cons&lt;/span&gt; &lt;span class="nv"&gt;func&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;maple/region-string&lt;/span&gt;&lt;span class="p"&gt;)))))&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;funcall&lt;/span&gt; &lt;span class="nv"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/swiper&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;maple/ivy-search-at-point&lt;/span&gt; &lt;span class="ss"&gt;&amp;#39;swiper&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;



&lt;h2 id="org-f982e2b254"&gt;搜索某个目录&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;counsel-ag&lt;/b&gt;默认搜索当前目录，想要搜索某个目录，需要切换到该目录下调用&lt;b&gt;counsel-ag&lt;/b&gt;，无疑的，这非常不方便，所以，我希望可以选择某个目录进行搜索&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;defun&lt;/span&gt; &lt;span class="nv"&gt;maple/counsel-ag-directory&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;interactive&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;counsel-ag&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;read-directory-name&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Search in directory: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="org-16e38e01b5"&gt;ivy的显示避免出现在视线外&lt;/h2&gt;
&lt;p&gt;详见 &lt;a href="https://honmaple.me/articles/2018/06/自定义helm式的ivy.html"&gt;自定义helm式的ivy.html&lt;/a&gt; 中的&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;吐嘈六: minibuffer&lt;/b&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="Linux"></category><category term="linux"></category><category term="emacs"></category></entry><entry><title>鱼</title><link href="https://honmaple.me/articles/2019/04/%E9%B1%BC.html" rel="alternate"></link><published>2019-04-29T20:44:10+08:00</published><updated>2019-05-06T13:37:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-04-29:/articles/2019/04/鱼.html</id><content type="html">
&lt;blockquote&gt;
&lt;div style="text-align: center;"&gt;
&lt;p class="verse"&gt;
莫相逢&lt;br/&gt;只道人生初见&lt;br/&gt;寻归里&lt;br/&gt;岂敢天涯&lt;br/&gt;且听风雨且听云
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;

&lt;div style="text-align: center;"&gt;
&lt;p&gt;庄周，意逍遥&lt;/p&gt;
&lt;/div&gt;
</content><category term="Life"></category><category term="life"></category><category term="poem"></category></entry><entry><title>路</title><link href="https://honmaple.me/articles/2019/04/%E8%B7%AF.html" rel="alternate"></link><published>2019-04-18T10:11:43+08:00</published><updated>2019-04-18T10:16:42+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-04-18:/articles/2019/04/路.html</id><content type="html">
&lt;blockquote&gt;
&lt;div style="text-align: center;"&gt;
&lt;p class="verse"&gt;
当你不断超越前方的人&lt;br/&gt;在更前方&lt;br/&gt;总会有那么一盏红灯&lt;br/&gt;&lt;br/&gt;也许是为了安全&lt;br/&gt;也许是为了公平&lt;br/&gt;&lt;br/&gt;谁知道呢&lt;br/&gt;&lt;br/&gt;你，终归是只能等着
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;</content><category term="Life"></category><category term="life"></category><category term="poem"></category></entry><entry><title>未来，谁知道呢</title><link href="https://honmaple.me/articles/2019/03/%E6%9C%AA%E6%9D%A5%EF%BC%8C%E8%B0%81%E7%9F%A5%E9%81%93%E5%91%A2.html" rel="alternate"></link><published>2019-03-25T19:51:57+08:00</published><updated>2019-04-03T09:57:30+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-03-25:/articles/2019/03/未来，谁知道呢.html</id><content type="html">
&lt;blockquote&gt;
&lt;div style="text-align: center;"&gt;
&lt;p class="verse"&gt;
终究是辞职了，&lt;br/&gt;放弃了下个月可能发的年终奖，&lt;br/&gt;放弃了下个月就要涨的工资，&lt;br/&gt;也许还要放弃杭州这座美丽而陌生的城市，&lt;br/&gt;可未来，谁知道呢？&lt;br/&gt;&lt;br/&gt;总是担心怎么给父母交代，&lt;br/&gt;总是担心养老保险怎么办，&lt;br/&gt;公积金怎么办，&lt;br/&gt;租房搬家怎么办，&lt;br/&gt;档案怎么办，&lt;br/&gt;户口怎么办，&lt;br/&gt;买房买车怎么办，&lt;br/&gt;结婚怎么办，&lt;br/&gt;孩子怎么办，&lt;br/&gt;......&lt;br/&gt;&lt;br/&gt;未来，到底该怎么办&lt;br/&gt;&lt;br/&gt;也许明天就要发生世界大战，&lt;br/&gt;也许明天会因为意外而死去&lt;br/&gt;也许明天会更好，&lt;br/&gt;可未来，谁知道呢？&lt;br/&gt;&lt;br/&gt;什么时候能够重归路上，&lt;br/&gt;我，一直在路上
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;</content><category term="Life"></category><category term="life"></category></entry><entry><title>忆</title><link href="https://honmaple.me/articles/2019/02/%E5%BF%86.html" rel="alternate"></link><published>2019-02-24T23:59:57+08:00</published><updated>2019-05-01T17:06:10+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.me,2019-02-24:/articles/2019/02/忆.html</id><content type="html">
&lt;blockquote&gt;
&lt;div style="text-align: center;"&gt;
&lt;p class="verse"&gt;
青霜长华旧离人&lt;br/&gt;梅雨秋雪落缤纷
&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;</content><category term="Life"></category><category term="life"></category><category term="poem"></category></entry></feed>