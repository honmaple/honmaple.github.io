<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>honmaple's blog</title><link href="http://honmaple.org/" rel="alternate"></link><link href="http://honmaple.org/feeds/all-en.atom.xml" rel="self"></link><id>http://honmaple.org/</id><updated>2017-05-23T00:00:00+08:00</updated><entry><title>方便的切换emacs主题</title><link href="http://honmaple.org/articles/2017/05/%E6%96%B9%E4%BE%BF%E7%9A%84%E5%88%87%E6%8D%A2emacs%E4%B8%BB%E9%A2%98.html" rel="alternate"></link><published>2017-05-23T00:00:00+08:00</published><updated>2017-05-23T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-05-23:/articles/2017/05/方便的切换emacs主题.html</id><summary type="html">&lt;p&gt;作为一个主题控，经常会切换主题，之前切换主题的方式是这样的，&lt;strong&gt;M-x&lt;/strong&gt;,`load-theme`,选中,但是个人认为不够便捷，正好前几天发现了&lt;strong&gt;hydra …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;作为一个主题控，经常会切换主题，之前切换主题的方式是这样的，&lt;strong&gt;M-x&lt;/strong&gt;,`load-theme`,选中,但是个人认为不够便捷，正好前几天发现了&lt;strong&gt;hydra&lt;/strong&gt;这个插件,也想实践一下&lt;/p&gt;
&lt;p&gt;获取主题列表&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(setq maple-cycle-themes (mapcar &amp;#39;symbol-name (custom-available-themes)))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;获取当前主题索引&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(cl-position (car (mapcar &amp;#39;symbol-name custom-enabled-themes)) maple-cycle-themes :test &amp;#39;equal)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;获取下一个主题&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(setq maple-current-theme-index
      (+ 1 maple-current-theme-index))
(setq maple-current-theme (nth maple-current-theme-index maple-cycle-themes))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;加载主题&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(load-theme (intern maple-current-theme) t)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;最后得到这样的函数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(defun maple/cycle-theme (num)
  (interactive)
  (setq maple-current-theme-index
        (+ num
           (cl-position
            (car (mapcar &amp;#39;symbol-name custom-enabled-themes)) maple-cycle-themes :test &amp;#39;equal)))
  (when (&amp;gt;= maple-current-theme-index (length maple-cycle-themes))
    (setq maple-current-theme-index 0))
  (setq maple-current-theme (nth maple-current-theme-index maple-cycle-themes))
  (mapc &amp;#39;disable-theme custom-enabled-themes)
  (let ((progress-reporter
         (make-progress-reporter
          (format &amp;quot;Loading theme %s...&amp;quot; maple-current-theme))))
    (load-theme (intern maple-current-theme) t)
    (progress-reporter-done progress-reporter)))
(defun maple/next-theme()
  (interactive)
  (maple/cycle-theme 1))
(defun maple/previous-theme()
  (interactive)
  (maple/cycle-theme -1))
(defhydra maple/cycle-themes ()
  (&amp;quot;n&amp;quot; maple/next-theme &amp;quot;next theme&amp;quot;)
  (&amp;quot;p&amp;quot; maple/previous-theme &amp;quot;prev theme&amp;quot;))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ok,绑定一个快捷键吧&lt;/p&gt;</content><category term="linux"></category><category term="emacs"></category><category term="elisp"></category></entry><entry><title>那些年我们一起写的诗</title><link href="http://honmaple.org/articles/2017/05/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%BB%AC%E4%B8%80%E8%B5%B7%E5%86%99%E7%9A%84%E8%AF%97.html" rel="alternate"></link><published>2017-05-17T00:00:00+08:00</published><updated>2017-05-17T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-05-17:/articles/2017/05/那些年我们一起写的诗.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;其实世界上本没有试，考得人多了，也便成了试&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;喝自己的水，让别人喝酒去吧！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;春游只是一场旅行，不在乎目的地（呈贡新校区）在乎的只是周末的作业和做作业的心情 …&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;其实世界上本没有试，考得人多了，也便成了试&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;喝自己的水，让别人喝酒去吧！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;春游只是一场旅行，不在乎目的地（呈贡新校区）在乎的只是周末的作业和做作业的心情，让作业去旅行…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;忘记或是失忆…都是一场美丽&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;黑夜如此短暂，仅在闭眼睁眼之间，却不知黑暗之中，已有人迷失方向，正在苦苦寻觅黎明前的光亮&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;人生总有欢乐，亦有痛苦，我们本是为了活着而活着，活着，才有希望，死亡，或许能够躲避痛苦，但也将永远长眠于墓地，无法品味人生的酸甜苦辣&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;问君能有几多愁，恰似一江春水向东流；问君能有几多愁，恰似一群太监上青楼；问君能有几多愁，恰似一代天骄热泪流 ；问君能有几多愁，恰似三中作业多如牛。作业多，愁啊！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对内宣传实力如虎，对外抗议胆小如鼠&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;天朗、气清、月明、人中：夜迹…血月&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;众人皆白，唯我独黑&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;众人皆醉，唯我独醒&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;战争中出英雄，和平中出贪官，不在战争中爆发，就在和平中灭亡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;人生就像是在走一条很长很长的路，两只脚唯有不断超越对方，才能前进；两只脚不断躲避对方，只能后退&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生命如鸡肋，食之无味，弃之可惜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;拎起屠刀，让佛祖说去吧&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;山脚有雨山无雨，眼中有泪眼无泪。山顶无雨山有雨，心头无泪心有泪 &amp;#x2013; 题目《心雨》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;世界没有真正意义上的阴天，只有被乌云遮住的蓝天&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;風中无叶楓中叶，铃中无音林中音。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;冬天到了，春天还早吗？春天来了，冬天还不走吗？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;风中无叶枫中叶，磷中无龙林中龙&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;战争中出英雄，战争中更出汉奸&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;夜观风象起，星河四海一。八方欲归队，人道几时回？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;人生何处不逢君，天蓝海自清。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;我本将心向光明，奈何光明不待人：朝朝窗帘起，时时四海一。浮云遮望眼，天道似无心。梦醒君莫问，谁言伤心泪。帘外窗更明，只是在人间。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;无情之路有情惘，有情之苦无情殇&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;无情之路无情殇，有情之苦有情惘。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;两袖清风拂黄泉，半缕微光照奈何。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;今夜无过后月明，是故还情总相生。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;夜很美，月很美。有夜而无月，有月而无夜，前生有夜而后生无月，后生有月而前生无夜。有夜何月，有月何夜，夜月何存！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;城市的喧嚣渐渐影响着森林的寂静，叨扰着森林里的生物。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;天道轮回为权，人道轮回为忍，修罗道轮回为无，饿鬼道轮回为贪，畜生道轮回为邪，地狱道轮回为苦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;大地一摇，四川跌倒全国扶;天空三怒，云南渴死无人问&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其天坚若此，其心不可为，其民坚若此，有道者何谁？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;世人皆知吾为汉唐人，然焉知宋乃吾心之所向者也，心之所向，道之所依，人之所为，根之所存。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;今朝有酒今朝醉，今夜有泪今夜流。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;天不再蓝，海不再清，即使没有窗帘的遮挡，光明也将隐于天岸&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;夜游梦醒不知路，寻问琴声行何处&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;我看到了希望，却隐藏于黑暗，我看到了曙光，却消失在彼岸。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;所谓天，为之天，所谓人，为之人。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;天不蓝，海不深，心不静，脑不清，手不稳，愤不平&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;刀已折，人已弯，魂已断……&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;你已经忘记我是谁，我已经忘记你是谁，你已经忘记你是谁，我已经忘记我是谁&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;今夜梦醒君莫问，明月当空，何日返故乡？昨日忆兮难言语，为此，时时到天明。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;人生似无意，落花流水，通向天梯。 梦想终成空，梦醒梦落，开往地狱。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;无迟疑为无过，无过汝云定错，定错无外分寸，分寸识为务心&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;风儿总在帮助蓝天反抗窗帘的遮挡好让阳光照耀每个人的心房风儿反抗了窗帘的遮挡却无法反抗人类躲避阳光的欲望&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;何民清理近天零，轻盈湖畔汝为饮&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;没有阳光的日子里，我的身体变得虚弱不堪，即使内心黑暗，也阻挡不了我享受阳光的欲望。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;云分，等雨，云聚，临雨，云淡，不见雨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;雨还是那雨，雷还是那雷，只是不同的时间，不同的地点，没有泥土的芳香，没有朦胧的山影，更没有雷雨中畅快的奔跑，有的只是这颗心，经历了沧海桑田，阻隔了天涯海角。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;伤人者，人恒伤之;杀人者，得不偿失。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一出门，就是鸟叫蝉躁蛙鸣，这是家乡的声音，一出门，便是晴空万里，蓝天高挂，这是家乡的景象，一出门，便是泥土的芳香，这是家乡的味道……&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;人生就如这月亮，即使没有乌云白云的遮挡，也总是这般模糊不清。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;若相遇，需无意，若有意，何时遇？凭天意。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;爬山爬山，一爬便是山，不爬也是山，爬山不是山，爬山还是山。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;医者老矣，尚医心否？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;空即是色，色即是空，空无一色，色无一空，空即是空，色即是色，空空色色，岂乎我哉。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;人生多梦，光明泪，夜自多情，友为罪。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;醉池轻舞种欢笑，怨柳飘飞祈逍遥。酒酣闻雨不知泪，梦醒晓月痕将退。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;醉问天涯何处留，天变，无明月，笑看红尘柳。拂风晓月众芳树，无觅处，寻归路，墨中归宿，问谁墓？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;山风归来，抚柳掩面朝阳好，黯然离去，仰天长叹落日殇。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;拂晓闻雨心管弦，日出江山难忘言。天上人间寻何处，雨过天晴有蓝天。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;天若有情天亦老，少不更事，何处无芳草&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;时间，为谁而成长，又为谁而孤单……,更为谁而悲伤&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;酒不醉人人自醉，夜不迷人人自迷，落花无情，流水无意……&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;他爱她，她爱他，原来不是她，原来不是他&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;雨中漫步行，夜深無人听。悄然歸故裡，卧龍不知情。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;月光墓，塞上霜，黑夜明，杜康殤……&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;原来错过了便真的是错过了，他爱她，她爱他，原来不是他，原来不是她&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;黑暗中前行，却不知，那是永远的黑夜；光明中静止，却不知，那是短暂的白昼……&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;寻路不问路，追梦不留梦。爱恨一念间，相失一片天。 我是寻路者，却不是问路人！ 我是追梦者，却不是留梦人！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;夜尽天明，何人眠，悔不当初，竟惹柳树，望断天涯无觅路，奈何自掘坟墓&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;静流风动谁能狂，杀心渐起染风云，封欲离人平如漠，断袖为仇似生袍，道望无涯天明云，剑芒一指斩红尘，刀横黄河断流水，心系天下有奈何。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;大漠孤烟无边关，地上重楼忘记人，天涯海角难磨灭，夜迹血月(万千奴隶)怎奈何&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;星空太美，手机拍不了也放不下，只能放在记忆里，看不清也摸不着，最后只能慢慢流逝，留不了也抓不到&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;焚舟破釜天，唯命弃我岸上前，惘顾神州情碎，山水一念，勿镜天下红尘，在人间&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="生活随笔"></category><category term="诗"></category></entry><entry><title>晒晒我的Linux及桌面</title><link href="http://honmaple.org/articles/2017/05/%E6%99%92%E6%99%92%E6%88%91%E7%9A%84Linux%E5%8F%8A%E6%A1%8C%E9%9D%A2.html" rel="alternate"></link><published>2017-05-01T00:00:00+08:00</published><updated>2017-05-01T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-05-01:/articles/2017/05/晒晒我的Linux及桌面.html</id><summary type="html">&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/05/149364033937825.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/05/149364138162872.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/05/149364171386276.png"&gt;&lt;/p&gt;
&lt;p&gt;ps:真TM的闲着蛋疼&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/05/149364033937825.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/05/149364138162872.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/05/149364171386276.png"&gt;&lt;/p&gt;
&lt;p&gt;ps:真TM的闲着蛋疼&lt;/p&gt;</content><category term="linux"></category><category term="i3wm"></category></entry><entry><title>emacs实现智能注释</title><link href="http://honmaple.org/articles/2017/04/emacs%E5%AE%9E%E7%8E%B0%E6%99%BA%E8%83%BD%E6%B3%A8%E9%87%8A.html" rel="alternate"></link><published>2017-04-21T00:00:00+08:00</published><updated>2017-04-21T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-04-21:/articles/2017/04/emacs实现智能注释.html</id><summary type="html">&lt;p&gt;之前使用emacs时遇到这么一个问题&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;当前行存在代码折叠时,如果想要注释,必须先选中当前行,否则只能注释代码折叠块的第一行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;就像这样&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/photo/2017/04/149274346737550.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/photo/2017/04/149274352705945.png"&gt;&lt;/p&gt;
&lt;p&gt;基础注释函数来源于 &lt;strong&gt;stackoverflow&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(defun …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;之前使用emacs时遇到这么一个问题&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;当前行存在代码折叠时,如果想要注释,必须先选中当前行,否则只能注释代码折叠块的第一行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;就像这样&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/photo/2017/04/149274346737550.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/photo/2017/04/149274352705945.png"&gt;&lt;/p&gt;
&lt;p&gt;基础注释函数来源于 &lt;strong&gt;stackoverflow&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(defun comment-or-uncomment-region-or-line ()
  &amp;quot;Comments or uncomments the region or the current line if there&amp;#39;s no active region.&amp;quot;
  (interactive)
  (let (beg end)
    (if (region-active-p)
        (setq beg (region-beginning) end (region-end))
      (setq beg (line-beginning-position) end (line-end-position)))
    (comment-or-uncomment-region beg end)))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在此函数的位置上进行修改,刚开始使用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(when (hs-already-hidden-p)
    (evil-visual-line))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;但是一直没得到想要的效果,后来修改了一下,使用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(when (hs-already-hidden-p)
  (progn
    (end-of-visual-line)
    (evil-visual-state)
    (beginning-of-visual-line)))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;意思就是如果当前位置存在代码折叠,先选中当前行,然后注释整个选中区域&lt;/p&gt;
&lt;p&gt;因为光标被移动到首位,我对这个不太在意,如果有在意的话,可以使用 &lt;strong&gt;save-excursion&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(save-excursion
(when (hs-already-hidden-p)
  (progn
    (end-of-visual-line)
    (evil-visual-state)
    (beginning-of-visual-line)))
    ......)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;完整代码&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;(defun comment-or-uncomment-region-or-line ()
  &amp;quot;Comments or uncomments the region or the current line if there&amp;#39;s no active region.&amp;quot;
  (interactive)
  (save-excursion
    (when (hs-already-hidden-p)
      (progn
        (end-of-visual-line)
        (evil-visual-state)
        (beginning-of-visual-line)))
    (let (beg end)
      (if (region-active-p)
          (setq beg (region-beginning) end (region-end))
        (setq beg (line-beginning-position) end (line-end-position)))
      (comment-or-uncomment-region beg end))))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ok,就这样&lt;/p&gt;</content><category term="emacs"></category><category term="elisp"></category><category term="linux"></category></entry><entry><title>基于whoosh实现的flask全文搜索插件</title><link href="http://honmaple.org/articles/2017/04/%E5%9F%BA%E4%BA%8Ewhoosh%E5%AE%9E%E7%8E%B0%E7%9A%84flask%E5%85%A8%E6%96%87%E6%90%9C%E7%B4%A2%E6%8F%92%E4%BB%B6.html" rel="alternate"></link><published>2017-04-16T00:00:00+08:00</published><updated>2017-04-16T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-04-16:/articles/2017/04/基于whoosh实现的flask全文搜索插件.html</id><summary type="html">&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org04e2e47"&gt;1. Quickstart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#orgb039f71"&gt;2. Usage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#orgd3a6e6e"&gt;2.1 …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</summary><content type="html">&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#org04e2e47"&gt;1. Quickstart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#orgb039f71"&gt;2. Usage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#orgd3a6e6e"&gt;2.1. 创建更新删除索引&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#org8b379f4"&gt;2.2. 自定义analyzer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#orga5e2ce5"&gt;3. Configure&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;flask 貌似很少全文搜索的插件,有一个 &lt;a href="https://github.com/gyllstromk/Flask-WhooshAlchemy"&gt;https://github.com/gyllstromk/Flask-WhooshAlchemy&lt;/a&gt; , 但试了几次都用不了,所以参考 Flask-WhooshAlchemy 自己写了一个&lt;/p&gt;
&lt;p&gt;&lt;a id="org04e2e47"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Quickstart&lt;/h1&gt;
&lt;p&gt;插件基于 whoosh,纯 python 编写,使用上很简单&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;flask_msearch&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Search&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;search&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Search&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;init_app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# models.py&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;__tablename__&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;post&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;__searchable__&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="c1"&gt;# views.py&lt;/span&gt;
&lt;span class="nd"&gt;@app.route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/search&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;w_search&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;keyword&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;keyword&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;whoosh_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Post&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;keyword&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;limit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a id="orgb039f71"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Usage&lt;/h1&gt;
&lt;p&gt;&lt;a id="orgd3a6e6e"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;创建更新删除索引&lt;/h2&gt;
&lt;p&gt;如果要对已存在的数据创建索引(全部)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# 创建
search.create_index()
# 更新
search.create_index(update=True)
# 删除
search.create_index(delete=True)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果只想要为指定的表创建索引&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;search.create_index(Model)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a id="org8b379f4"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;自定义analyzer&lt;/h2&gt;
&lt;p&gt;比如使用jieba的中文分词&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;jieba.analyse&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ChineseAnalyzer&lt;/span&gt;
&lt;span class="n"&gt;search&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;analyzer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ChineseAnalyzer&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a id="orga5e2ce5"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Configure&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;WHOOSH_BASE = &amp;#39;whoosh_index&amp;#39;
WHOOSH_ENABLE = True
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;项目地址:&lt;a href="https://github.com/honmaple/flask-msearch"&gt;https://github.com/honmaple/flask-msearch&lt;/a&gt;&lt;/p&gt;</content><category term="python"></category><category term="flask"></category><category term="whoosh"></category></entry><entry><title>心死</title><link href="http://honmaple.org/articles/2017/04/%E5%BF%83%E6%AD%BB.html" rel="alternate"></link><published>2017-04-09T00:00:00+08:00</published><updated>2017-04-09T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-04-09:/articles/2017/04/心死.html</id><summary type="html">&lt;p&gt;心死了,&lt;br&gt;
没事,&lt;br&gt;
只要人没事,  &lt;/p&gt;
&lt;p&gt;心死了,&lt;br&gt;
人怎么可能没事。  &lt;/p&gt;
&lt;p&gt;人死了，&lt;br&gt;
没事，&lt;br&gt;
只要心没事,  &lt;/p&gt;
&lt;p&gt;人死了 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;心死了,&lt;br&gt;
没事,&lt;br&gt;
只要人没事,  &lt;/p&gt;
&lt;p&gt;心死了,&lt;br&gt;
人怎么可能没事。  &lt;/p&gt;
&lt;p&gt;人死了，&lt;br&gt;
没事，&lt;br&gt;
只要心没事,  &lt;/p&gt;
&lt;p&gt;人死了，&lt;br&gt;
心怎么可能没事。  &lt;/p&gt;
&lt;p&gt;人不可无心,&lt;br&gt;
心不可无人,&lt;br&gt;
人心可有，&lt;br&gt;
心人可有。  &lt;/p&gt;</content><category term="回忆"></category><category term="随笔"></category></entry><entry><title>himawari8图片下载改进版</title><link href="http://honmaple.org/articles/2017/03/himawari8%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD%E6%94%B9%E8%BF%9B%E7%89%88.html" rel="alternate"></link><published>2017-03-23T00:00:00+08:00</published><updated>2017-03-23T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-03-23:/articles/2017/03/himawari8图片下载改进版.html</id><summary type="html">&lt;p&gt;第一版下载图片后设为壁纸,四周都是黑黑的不好看,
所以结合本地壁纸将两张图片进行合成&lt;/p&gt;
&lt;p&gt;只要计算一下要缩减的大小与要放置的位置&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我的方法是:打开 &lt;strong&gt;gimp&lt;/strong&gt;,合成两张图片,记下缩减的大小 …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;第一版下载图片后设为壁纸,四周都是黑黑的不好看,
所以结合本地壁纸将两张图片进行合成&lt;/p&gt;
&lt;p&gt;只要计算一下要缩减的大小与要放置的位置&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我的方法是:打开 &lt;strong&gt;gimp&lt;/strong&gt;,合成两张图片,记下缩减的大小(214,214)与位置(160,160)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;每次只要运行一下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python himawari8.py
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;源码&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PIL&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ImageOps&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ImageDraw&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;io&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BytesIO&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;urllib.request&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;urlopen&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;

&lt;span class="n"&gt;SCALE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;WIDTH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1368&lt;/span&gt;
&lt;span class="n"&gt;HEIGHT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;768&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_info&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://himawari8-dl.nict.go.jp/himawari8/img/D531106/latest.json&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;download&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;png&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;RGB&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="c1"&gt;# desktop = Image.new(&amp;#39;RGB&amp;#39;, (WIDTH, HEIGHT))&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/jianglin/Pictures/308556.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;url_format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;http://himawari8-dl.nict.go.jp/himawari8/img/D531106/{}d/{}/{}_{}_{}.png&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_info&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="c1"&gt;# date = datetime.strptime(info[&amp;#39;date&amp;#39;], &amp;#39;%Y-%m-%d %H:%M:%S&amp;#39;) + timedelta(&lt;/span&gt;
    &lt;span class="c1"&gt;#     hours=-8)&lt;/span&gt;
    &lt;span class="n"&gt;date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt; %H:%M:%S&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;url_format&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                    &lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;%Y/%m/&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;/%H%M%S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;BytesIO&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;
            &lt;span class="n"&gt;png&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
    &lt;span class="n"&gt;png&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;circle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;png&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;png&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;png&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/tmp/earth.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;PNG&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;set_background&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;circle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SCALE&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt;
    &lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SCALE&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt;
    &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;L&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;draw&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ImageDraw&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;draw&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ellipse&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;fill&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ImageOps&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;centering&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;putalpha&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;thumbnail&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;214&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;214&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ANTIALIAS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;convert&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="c1"&gt;# size = (768, 768)&lt;/span&gt;
    &lt;span class="c1"&gt;# mask = Image.new(&amp;#39;L&amp;#39;, size, 0)&lt;/span&gt;
    &lt;span class="c1"&gt;# draw = ImageDraw.Draw(mask)&lt;/span&gt;
    &lt;span class="c1"&gt;# draw.ellipse((3, 3, 765, 765), fill=255)&lt;/span&gt;
    &lt;span class="c1"&gt;# im = Image.open(&amp;#39;/tmp/earth.png&amp;#39;)&lt;/span&gt;
    &lt;span class="c1"&gt;# output = ImageOps.fit(im, mask.size, centering=(0.5, 0.5))&lt;/span&gt;
    &lt;span class="c1"&gt;# output.putalpha(mask)&lt;/span&gt;
    &lt;span class="c1"&gt;# output.thumbnail((256, 256), Image.ANTIALIAS)&lt;/span&gt;
    &lt;span class="c1"&gt;# output.save(&amp;#39;output.png&amp;#39;)&lt;/span&gt;
    &lt;span class="c1"&gt;# output.convert(&amp;quot;RGBA&amp;quot;)&lt;/span&gt;
    &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;output.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;thumbnail&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;214&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;214&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ANTIALIAS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/jianglin/Pictures/308556.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/tmp/earch.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;PNG&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;set_background&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
    &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;feh --bg-scale /tmp/earth.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/03/149023917874284.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/03/149023928036061.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/03/149023934880774.png"&gt;&lt;/p&gt;</content><category term="python"></category><category term="earth"></category><category term="himawari8"></category></entry><entry><title>火影忍者</title><link href="http://honmaple.org/articles/2017/03/%E7%81%AB%E5%BD%B1%E5%BF%8D%E8%80%85.html" rel="alternate"></link><published>2017-03-23T00:00:00+08:00</published><updated>2017-03-23T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-03-23:/articles/2017/03/火影忍者.html</id><summary type="html">&lt;p&gt;火影TV也完结了,仅以此贴纪念我逝去的青春&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/03/149027336068415.png"&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;火影TV也完结了,仅以此贴纪念我逝去的青春&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/show/2017/03/149027336068415.png"&gt;&lt;/p&gt;</content><category term="naruto"></category><category term="生活随笔"></category></entry><entry><title>下载Himawari8拍摄的实时地球图片</title><link href="http://honmaple.org/articles/2017/03/%E4%B8%8B%E8%BD%BDHimawari8%E6%8B%8D%E6%91%84%E7%9A%84%E5%AE%9E%E6%97%B6%E5%9C%B0%E7%90%83%E5%9B%BE%E7%89%87.html" rel="alternate"></link><published>2017-03-22T00:00:00+08:00</published><updated>2017-03-22T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-03-22:/articles/2017/03/下载Himawari8拍摄的实时地球图片.html</id><summary type="html">&lt;p&gt;直接给出源码&lt;/p&gt;
&lt;p&gt;设置壁纸&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;feh --bg-scale /tmp/earch.png
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;设置桌面大小,及图片放大倍数 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;直接给出源码&lt;/p&gt;
&lt;p&gt;设置壁纸&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;feh --bg-scale /tmp/earch.png
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;设置桌面大小,及图片放大倍数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;SCALE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;
&lt;span class="n"&gt;WIDTH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1368&lt;/span&gt;
&lt;span class="n"&gt;HEIGHT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;768&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PIL&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;io&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BytesIO&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;urllib.request&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;urlopen&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;

&lt;span class="n"&gt;SCALE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;
&lt;span class="n"&gt;WIDTH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1368&lt;/span&gt;
&lt;span class="n"&gt;HEIGHT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;768&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_info&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://himawari8-dl.nict.go.jp/himawari8/img/D531106/latest.json&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;download&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;png&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;RGB&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;RGB&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;WIDTH&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;HEIGHT&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;url_format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;http://himawari8-dl.nict.go.jp/himawari8/img/D531106/{}d/{}/{}_{}_{}.png&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_info&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt; %H:%M:%S&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;url_format&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SCALE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                    &lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;%Y/%m/&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;/%H%M%S&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;request&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;BytesIO&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;
            &lt;span class="n"&gt;png&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;550&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
    &lt;span class="n"&gt;png&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;thumbnail&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;HEIGHT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;HEIGHT&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ANTIALIAS&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;paste&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;png&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;WIDTH&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;HEIGHT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;desktop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/tmp/earch.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;PNG&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或许应该找一张有星星的照片
&lt;img alt="img" src="//images.honmaple.com/images/admin/thumb/2017/03/149019162934663.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img" src="//images.honmaple.com/images/admin/thumb/2017/03/149019186230320.png"&gt;&lt;/p&gt;</content><category term="python"></category><category term="earth"></category></entry><entry><title>拟挽歌辞·荒草何茫茫</title><link href="http://honmaple.org/articles/2017/03/%E6%8B%9F%E6%8C%BD%E6%AD%8C%E8%BE%9E%C2%B7%E8%8D%92%E8%8D%89%E4%BD%95%E8%8C%AB%E8%8C%AB.html" rel="alternate"></link><published>2017-03-22T00:00:00+08:00</published><updated>2017-03-22T00:00:00+08:00</updated><author><name>honmaple</name></author><id>tag:honmaple.org,2017-03-22:/articles/2017/03/拟挽歌辞·荒草何茫茫.html</id><summary type="html">&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#orgc9a0c3d"&gt;1. 拟挽歌辞·荒草何茫茫&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;h1&gt;拟挽歌辞·荒草何茫茫&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;-- 陶渊明 …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#orgc9a0c3d"&gt;1. 拟挽歌辞·荒草何茫茫&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;h1&gt;拟挽歌辞·荒草何茫茫&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;-- 陶渊明&lt;/p&gt;
&lt;p&gt;荒草何茫茫，白杨亦萧萧。
　　严霜九月中，送我出远郊。
　　四面无人居，高坟正嶕峣。
　　马为仰天鸣，风为自萧条。
　　幽室一已闭，千年不复朝。
　　千年不复朝，贤达无奈何。
　　向来相送人，各自还其家。
　　亲戚或余悲，他人亦已歌。
　　死去何所道，托体同山阿。&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="生活随笔"></category><category term="转载"></category></entry></feed>